{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/SliceDrawer.js","webpack:///./src/components/UserEditor.vue?8a89","webpack:///./src/components/WSIViewer.vue?150a","webpack:///./src/components/ProjectEditor.vue?675a","webpack:///./src/components/SessionClassBalance.vue?97a5","webpack:///./src/components/WSIViewerRuler.vue?a8be","webpack:///./src/components/WSIViewer.vue?27ec","webpack:///./src/components/WSIViewerRuler.vue?f6b0","webpack:///src/components/WSIViewerRuler.vue","webpack:///./src/components/WSIViewerRuler.vue?76c3","webpack:///./src/components/WSIViewerRuler.vue?5002","webpack:///src/components/WSIViewer.vue","webpack:///./src/components/WSIViewer.vue?d920","webpack:///./src/components/WSIViewer.vue?a3c0","webpack:///./src/components/AdminAppBar.vue?7659","webpack:///./src/App.vue?bd72","webpack:///./src/components/HelloWorld.vue?c234","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?b04e","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/views/Home.vue?b495","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?538d","webpack:///./src/views/Home.vue","webpack:///./src/views/Tasks.vue?60a0","webpack:///./src/components/TaskStatusOverview.vue?ad42","webpack:///src/components/TaskStatusOverview.vue","webpack:///./src/components/TaskStatusOverview.vue?7de8","webpack:///./src/components/TaskStatusOverview.vue","webpack:///src/views/Tasks.vue","webpack:///./src/views/Tasks.vue?4ca0","webpack:///./src/views/Tasks.vue","webpack:///./src/views/Session.vue?b86c","webpack:///./src/components/SideWindow.vue?f941","webpack:///src/components/SideWindow.vue","webpack:///./src/components/SideWindow.vue?2dee","webpack:///./src/components/SideWindow.vue","webpack:///./src/components/AnnotationCard.vue?1306","webpack:///./src/components/AnnotationIdleCard.vue?3c3e","webpack:///src/components/AnnotationIdleCard.vue","webpack:///./src/components/AnnotationIdleCard.vue?62de","webpack:///./src/components/AnnotationIdleCard.vue","webpack:///./src/components/AnnotationEditingCard.vue?ff30","webpack:///src/components/AnnotationEditingCard.vue","webpack:///./src/components/AnnotationEditingCard.vue?946e","webpack:///./src/components/AnnotationEditingCard.vue","webpack:///./src/components/AnnotationFeedbackCard.vue?426e","webpack:///src/components/AnnotationFeedbackCard.vue","webpack:///./src/components/AnnotationFeedbackCard.vue?3d11","webpack:///./src/components/AnnotationFeedbackCard.vue","webpack:///./src/components/AnnotationImportingCard.vue?a47b","webpack:///src/components/AnnotationImportingCard.vue","webpack:///./src/components/AnnotationImportingCard.vue?9b79","webpack:///./src/components/AnnotationImportingCard.vue","webpack:///src/components/AnnotationCard.vue","webpack:///./src/components/AnnotationCard.vue?1ce6","webpack:///./src/components/AnnotationCard.vue?1547","webpack:///./src/components/SessionClassBalance.vue?acab","webpack:///src/components/SessionClassBalance.vue","webpack:///./src/components/SessionClassBalance.vue?7c7f","webpack:///./src/components/SessionClassBalance.vue?e569","webpack:///src/views/Session.vue","webpack:///./src/views/Session.vue?3cb1","webpack:///./src/views/Session.vue?30d4","webpack:///./src/views/Admin.vue?953a","webpack:///./src/components/UserEditor.vue?0648","webpack:///./src/components/VCheckChip.vue?c663","webpack:///src/components/VCheckChip.vue","webpack:///./src/components/VCheckChip.vue?cf27","webpack:///./src/components/VCheckChip.vue","webpack:///src/components/UserEditor.vue","webpack:///./src/components/UserEditor.vue?a574","webpack:///./src/components/UserEditor.vue?20fd","webpack:///./src/components/ProjectEditor.vue?1ad1","webpack:///src/components/ProjectEditor.vue","webpack:///./src/components/ProjectEditor.vue?5bdc","webpack:///./src/components/ProjectEditor.vue?f808","webpack:///./src/components/TaskBatch.vue?0bd8","webpack:///src/components/TaskBatch.vue","webpack:///./src/components/TaskBatch.vue?cc9c","webpack:///./src/components/TaskBatch.vue","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?8388","webpack:///./src/views/Admin.vue","webpack:///./src/components/AdminAppBar.vue?c92f","webpack:///./src/components/ChangePassword.vue?aafd","webpack:///src/components/ChangePassword.vue","webpack:///./src/components/ChangePassword.vue?8950","webpack:///./src/components/ChangePassword.vue","webpack:///src/components/AdminAppBar.vue","webpack:///./src/components/AdminAppBar.vue?bac6","webpack:///./src/components/AdminAppBar.vue?e721","webpack:///./src/router.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/axios.js","webpack:///./src/plugins/split.js","webpack:///./src/main.js","webpack:///./src/components/TaskEditor.vue?53de","webpack:///./src/components/TaskEditor.vue?2a16","webpack:///src/components/TaskEditor.vue","webpack:///./src/components/TaskEditor.vue?ca7c","webpack:///./src/components/TaskEditor.vue?3487","webpack:///./src/components/AnnotationCard.vue?5d14","webpack:///./src/assets/logo.svg","webpack:///./src/components/LoadingContent.vue?cad3","webpack:///src/components/LoadingContent.vue","webpack:///./src/components/LoadingContent.vue?a9d9","webpack:///./src/components/LoadingContent.vue?b49b","webpack:///./src/components/LoadingContent.vue?4fae","webpack:///./src/views/Session.vue?e54d","webpack:///./src/assets/logo.png","webpack:///./src/components/AppBar.vue?360a","webpack:///src/components/AppBar.vue","webpack:///./src/components/AppBar.vue?743d","webpack:///./src/components/AppBar.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","lineFunction","point1","point2","point3","line1_slope","y","x","line2_slope","line1_b","line2_b","slope","b","optimizePath","points","toRemove","log","lineFunc","distance1","Math","hypot","filter","item","idx","includes","CircleAnnotationTool","drawer","this","newAnnotation","dragging","setPanningEnabled","func","label","currentLabel","CircleAnnotation","state","geometry","mousePointToImagePoint","position","update","imagePosition","keyCode","updateImageLocation","callback","onFinishNewDrawing","refresh","draw","RulerTool","startingPoint","endingPoint","active","perpendicular","perpendicularLine","ctx","startPoint","imagePointToCanvasPoint","endPoint","distance","ruler","Path2D","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","lineCap","stroke","font","fillStyle","text","pixelWidth","toFixed","fillText","strokeText","PolygonAnnotationTool","info","help","onInfoUpdate","PolygonAnnotation","PathMeshEditor","annotation","originalAnnotation","_","cloneDeep","drawFeedback","controls","control","hasMoved","createControls","mousePosition","areaRadius","currentViewport","bottom","top","canvas","clientWidth","intersectingControl","forEach","intersectsControl","point","feedback","getIntersectingControl","intersects","newPointIndex","checkPathCreation","index","isPanningEnabled","RectAnnotation","cancel","conclude","left","min","right","max","title","description","onFinishedEditing","updateViewport","beginPath","ellipse","PI","fill","canvasPosition","map","Annotation","id","slideId","slide_id","properties","currentlyImporting","isHovering","imageLocation","Number","MAX_VALUE","hovering","userViewport","offScreen","filtering","notFilteredOut","style","color","opacity","hoverOpacity","fillOpacity","topLeft","bottomRight","imageToCanvas","point0","rect","RectAnnotationTool","temp","horizontalRadius","abs","verticalRadius","radius","radiusX","radiusY","isPointInPath","path","canvasPos","AnnotationDrawer","Viewer","width","height","viewer","getContext","annotations","currentlyDrawing","currentTool","elementsOnScreen","isPanningMode","isCurrentlyHoveringAnnotation","isDrawingEnabled","addHandler","throttle","clientHeight","mouseTracking","OpenSeadragon","MouseTracker","element","nonPrimaryReleaseHandler","releaseHandler","isToolUsageEnabled","mouseEvent","pressHandler","clickHandler","onClick","dblClickHandler","moveHandler","updateRequired","statusUpdateRequired","onHover","onLeave","setHovering","cursor","keyDownHandler","panHorizontal","panVertical","panningMode","keyboardEvent","keyUpHandler","destroy","tools","polygon","circle","tool","instantiators","isEnabled","viewportMin","viewport","windowToImageCoordinates","Point","viewportMax","calculateViewport","onViewportChanged","viewportPoint","pointFromPixel","coordinates","viewportToImageCoordinates","imageToViewerElementCoordinates","annotationWidth","annotationHeight","horizontalCenter","verticalCenter","panTo","imageToViewportCoordinates","tiledImage","world","getItemAt","yZoom","source","dimensions","xZoom","zoom","zoomTo","clearRect","self","shouldBeVisible","loadAnnotations","rawAnnotations","drawerInstance","entries","slideAnnotations","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","task_type","scopedSlots","_u","fn","ref","on","_g","_b","selectedLabel","_v","_s","_l","$event","_e","annotationDrawer","editing","state_restorer","max_undo","model","$$v","$set","expression","instruction","viewportLocation","pixel_density","staticRenderFns","pixelDensity","bar_size","watch","immediate","handler","updateRuler","computed","methods","mounted","getElementById","onwheel","props","component","components","$store","session","slideProperties","labeled_regions","newValue","labels","newLabels","labelsVisibility","deep","newVisibility","no_model_action","newZoom","drawingStyle","newStyle","tileSources","open","pixel_width","editElement","editAnnotation","concludeEdit","cancelEdit","peepAnnotation","peep","$nextTick","showNavigator","navigatorPosition","navigatorRight","navigatorBottom","navigatorHeight","navigatorWidth","showNavigationControl","gestureSettingsMouse","clickToZoom","delegateCallback","onStateRestorerEvent","stateRestorer","onEditingEvent","changed","Boolean","default","drawEvents","VAvatar","VBtn","VDivider","VIcon","VList","VListItem","VListItemAvatar","VListItemContent","VListItemTitle","VMenu","VSlider","next","link","eco","VCol","VContainer","VImg","VRow","HelloWorld","VApp","VMain","Vue","use","Vuex","Store","user","token","mutations","set_session","login","login_data","logout","actions","loading","tasks","annotation_status","startTask","review_status","annotation_headers","slide","staticStyle","completed","review","review_headers","task","revision","app","_t","status","taskCompleted","total","done","progress","project","startSession","$emit","VCard","VCardActions","VCardText","VProgressLinear","Loading","TaskStatusOverview","align","sortable","$post","loadTasks","$get","VChip","VChipGroup","VDataTable","VScaleTransition","VSimpleCheckbox","VSubheader","taskBelongsToUser","tile_sources","project_labels","labels_visible","draw_events","current_slide","regionClicked","onNewRegionDraw","onEditRegionDraw","selected_tab","proxy","session_id","genColor","highlightOnTab","slides","domProps","comment","stopPropagation","slideInfo","revisingUserTask","importAnnotations","region","editRegion","annotationFeedback","dismissAnnotation","annotationPeep","annotationUpdate","feedback_dialog","relabelScreenContinue","shown","setBorderWidth","setEvents","resize","body","el","drawerBorder","addEventListener","VNavigationDrawer","updateRender","saveAnnotation","importAnnotation","labelColor","cardTitle","updating_label","VCardTitle","VSpacer","saveRegion","projectLabels","VTextField","feedbackLabelId","feedbackLabel","saveFeedback","undoing","feedbackCorrect","label_id","oldState","newState","updatingLabel","newFeedbackLabelId","incorrectOptions","currentFeedback","feedbackWrongLabel","feedbackWrongRegion","VCheckbox","preventDefault","arguments","AnnotationFeedbackCard","AnnotationEditingCard","AnnotationImportingCard","AnnotationIdleCard","originalLabel","undo","drawing_swapped","swapDrawings","undoing_feedback","originalRegion","stats","class","stat","switchMode","keys","statPerc","sessionId","annotationImportingEnabled","$route","params","revisions","revisionMeta","revisionData","selected","owner","new_labels","newRevisionUserTask","line_weight","onRegionHover","onRegionLeave","alert","scrollIntoView","behavior","block","classList","add","remove","short","input","onchange","reader","readAsText","files","click","$refs","slice_viewer","SessionClassBalance","AnnotationCard","SideWindow","SliceViewer","VDialog","VFlex","VLayout","VListItemAction","VListItemGroup","VListItemSubtitle","VRadio","VRadioGroup","VSwitch","VTab","VTabItem","VTabs","VTabsItems","VToolbar","VToolbarTitle","config","task_headers","openTask","user_task","editTask","removeTask","newTask","newBatch","user_headers","users","editUser","removeUser","newUser","project_header","projects","editProject","newProject","save","path_errors","check_path","header","gen_color","change_color","color_menu","color_picked","closeColorPicker","remove_label","add_label","new_label","editing_label","new_value","rgba","g","itemName","VColorPicker","VTextarea","folders","project_id","new","totalIntersection","load_folders","assigned","concurrent","only_new","group_slides","load_projects","load_users","VSelect","VTreeview","TaskBatch","TaskEditor","ProjectEditor","UserEditor","which","loadUsers","loadProjects","username","is_admin","manages_apps","manages_users","manages_tasks","manages_projects","is_editing","confirm","folder","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VTooltip","user_name","changePassword","password","close","submit","can_export","access_overview","manage_apps","commit","$router","VAppBar","Router","new_router","routes","Tasks","app_bar","AdminAppBar","meta","auth","Session","AppBar","Admin","beforeEach","to","from","matched","some","record","store","nextUrl","fullPath","Vuetify","theme","icons","iconfont","themes","light","primary","colors","blueGrey","darken3","secondary","grey","darken1","accent","orange","accent4","red","accent3","dark","blue","lighten3","VueAxios","axios","baseURL","process","interceptors","beforeRequest","axiosInstance","headers","Authorization","beforeResponse","beforeResponseError","statusCode","VueSplit","productionTip","router","vuetify","split","h","App","$mount","isAppContext","taskType","selection","reviewTaskList","created","inputValue","review_task","task_id","user_tasks","taskLabel","apps","newProjectId","loadReviewTasks","loadFiles","currentUser","loadApps","projectId","VListItemActionText","VScrollXTransition","VFadeTransition","VProgressCircular","go"],"mappings":"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","file":"static/js/app.67652a00.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0e585a\":\"b916bb2e\",\"chunk-2d22d746\":\"7486d6b6\",\"chunk-35e0dac4\":\"4b1b3615\",\"chunk-4819311e\":\"c35f3b5a\",\"chunk-48a809aa\":\"64027d57\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-35e0dac4\":1,\"chunk-4819311e\":1,\"chunk-48a809aa\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0e585a\":\"31d6cfe0\",\"chunk-2d22d746\":\"31d6cfe0\",\"chunk-35e0dac4\":\"76a811a3\",\"chunk-4819311e\":\"5c98fc43\",\"chunk-48a809aa\":\"a7f945e9\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* eslint-disable prefer-destructuring */\r\nimport OpenSeadragon from 'openseadragon';\r\nimport _ from 'lodash';\r\n\r\nconst freeDrawingDefaultKeyboardBehavior = function (func, e) {\r\n  const drawer = this.instance;\r\n  switch (func) {\r\n    case 'keyDown':\r\n      if (e.keyCode === 32) {\r\n        this.drawer_panning = true;\r\n        // console.log(\"drawer_panning\", this.drawer_panning)\r\n        drawer.set_canvas_pan(true);\r\n        if (drawer.currently_drawing != null) {\r\n          drawer.currently_drawing.meta._enabled = false;\r\n        }\r\n      }\r\n      break;\r\n    case 'keyUp':\r\n      if (e.keyCode === 13) {\r\n        // User pressed ENTER, we will save the drawing\r\n        drawer.set_canvas_pan(true);\r\n        // Before saving, we remove the redundant points for this shape\r\n        drawer.currently_drawing.geometry.points = optimizePath(drawer.currently_drawing.geometry.points);\r\n        // Call the onFinishNewDrawing callback, which handles what happens to the shape\r\n        drawer.callback.onFinishNewDrawing(drawer.currently_drawing.geometry);\r\n        // Complete the drawing preview by resetting it\r\n        drawer.currently_drawing = null;\r\n        if (drawer.stateRestorer != null) drawer.stateRestorer.cancel();\r\n      }\r\n      if (e.keyCode === 32) {\r\n        this.drawer_panning = false;\r\n        // user released space, we will disable dragging\r\n        drawer.set_canvas_pan(false);\r\n      }\r\n      if (e.keyCode === 27) {\r\n        // User pressed ESC, we will reset the drawing\r\n        drawer.currently_drawing = null;\r\n        if (drawer.stateRestorer != null) drawer.stateRestorer.cancel();\r\n        drawer.set_canvas_pan(true);\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nconst lineFunction = function (point1, point2, point3) {\r\n  const line1_slope = (point2.y - point1.y) / (point2.x - point1.x);\r\n  const line2_slope = (point3.y - point2.y) / (point3.x - point2.x);\r\n  const line1_b = point1.x * line1_slope - point1.y;\r\n  const line2_b = point3.x * line2_slope - point3.y;\r\n  return [\r\n    {\r\n      slope: line1_slope,\r\n      b: line1_b,\r\n    },\r\n    {\r\n      slope: line2_slope,\r\n      b: line2_b,\r\n    },\r\n  ];\r\n};\r\n\r\n/**\r\n * A simple algorithm to detect and remove redundant points made in free draw. It returns an array of points\r\n * without the points that don't contribute to the shape.\r\n *\r\n * @param points the array of points\r\n * @returns {*}\r\n */\r\nconst optimizePath = function (points) {\r\n  let toRemove = [];\r\n  do {\r\n    console.log('New iteration');\r\n    toRemove = [];\r\n    for (let i = 1; i < points.length - 1; i++) {\r\n      const point1 = points[i - 1];\r\n      const point2 = points[i];\r\n      const point3 = points[i + 1];\r\n      const lineFunc = lineFunction(point1, point2, point3);\r\n      if (lineFunc[0].slope === lineFunc[1].slope && lineFunc[0].b === lineFunc[1].b) {\r\n        // we could introduce a margin\r\n        toRemove.push(i);\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < points.length; i++) {\r\n      const point1 = points[i - 1];\r\n      const point2 = points[i];\r\n      const distance1 = Math.hypot(point1.x - point2.x, point1.y - point2.y);\r\n      if (distance1 < 5) {\r\n        toRemove.push(i);\r\n      }\r\n    }\r\n\r\n    console.log(toRemove.length, 'points removed from', points.length, `(${(toRemove.length / points.length) * 100}%)`);\r\n    console.log('Size (before): ', points.length);\r\n    points = points.filter((item, idx) => !toRemove.includes(idx));\r\n    console.log('Size (after): ', points.length);\r\n  } while (toRemove.length !== 0);\r\n  // console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n  // console.log(\"Size (before): \", points.length)\r\n  // // for (let i = 0; i < toRemove.length; i++) {\r\n  // //     points.splice(toRemove[i], 1)\r\n  // // }\r\n  // console.log(\"Size (after): \", points.length)\r\n  return points;\r\n};\r\n\r\nclass CircleAnnotationTool {\r\n  constructor(drawer) {\r\n    this.name = 'circle';\r\n    this.drawer = drawer;\r\n    this.newAnnotation = null;\r\n    this.dragging = false;\r\n    this.drawer.setPanningEnabled(false);\r\n  }\r\n\r\n  mouseEvent(func, e) {\r\n    const drawer = this.drawer;\r\n    switch (func) {\r\n      case 'press':\r\n        if (this.dragging === false) {\r\n          const label = this.drawer.currentLabel;\r\n          this.newAnnotation = new CircleAnnotation(this.drawer, {\r\n            state: 'creating',\r\n            geometry: {\r\n              type: 'circle',\r\n              points: [\r\n                this.drawer.mousePointToImagePoint(e.position),\r\n                this.drawer.mousePointToImagePoint(e.position),\r\n              ],\r\n            },\r\n            label,\r\n          });\r\n\r\n          this.dragging = true;\r\n          this.drawer.update();\r\n        }\r\n        break;\r\n      case 'move':\r\n        if (this.newAnnotation != null && this.dragging) {\r\n          const imagePosition = drawer.mousePointToImagePoint(e.position);\r\n          this.newAnnotation.geometry.points[1].x = imagePosition.x;// -this.geometry.points[0].x\r\n          this.newAnnotation.geometry.points[1].y = imagePosition.y; // - this.geometry.points[0].y\r\n          drawer.update();\r\n        }\r\n\r\n        break;\r\n      case 'release':\r\n        this.dragging = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  keyboardEvent(func, e) {\r\n    switch (func) {\r\n      case 'keyUp':\r\n        if (e.keyCode === 13) {\r\n          this.newAnnotation.state = 'idle';\r\n          this.newAnnotation.updateImageLocation();\r\n          this.drawer.callback.onFinishNewDrawing(this.newAnnotation);\r\n          this.newAnnotation = null;\r\n          this.drawer.refresh();\r\n        } else if (e.keyCode === 27) {\r\n          // pressed ESC\r\n          this.newAnnotation = null;\r\n          this.drawer.refresh();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.newAnnotation = null;\r\n    this.drawer.setPanningEnabled(true);\r\n  }\r\n\r\n  draw() {\r\n    if (this.newAnnotation != null) {\r\n      this.newAnnotation.draw();\r\n    }\r\n  }\r\n}\r\n\r\nclass RulerTool {\r\n  constructor(drawer) {\r\n    this.drawer = drawer;\r\n    this.name = 'ruler';\r\n    this.startingPoint = null;\r\n    this.endingPoint = null;\r\n    this.active = false;\r\n    this.perpendicular = 0;\r\n  }\r\n\r\n  perpendicularLine(point1, point2) {\r\n    const line1_slope = (point2.y - point1.y) / (point2.x - point1.x);\r\n    const line1_b = point1.x * line1_slope - point1.y;\r\n    return {\r\n      slope: -1 / line1_slope,\r\n      b: -1 / line1_b,\r\n    };\r\n  }\r\n\r\n  mouseEvent(func, e) {\r\n    const drawer = this.drawer;\r\n    switch (func) {\r\n      case 'dblClick':\r\n        if (!this.active && this.startingPoint != null && this.endingPoint != null) {\r\n          this.active = false;\r\n          this.startingPoint = null;\r\n          this.endingPoint = null;\r\n        } else if (this.startingPoint == null) {\r\n          this.startingPoint = this.drawer.mousePointToImagePoint(e.position);\r\n          this.active = true;\r\n        } else {\r\n          this.endingPoint = this.drawer.mousePointToImagePoint(e.position);\r\n          this.perpendicular = this.perpendicularLine(this.startingPoint, this.endingPoint);\r\n          this.active = false;\r\n        }\r\n        drawer.refresh();\r\n        break;\r\n      case 'move':\r\n        if (this.active) {\r\n          this.endingPoint = this.drawer.mousePointToImagePoint(e.position);\r\n          this.perpendicular = this.perpendicularLine(this.startingPoint, this.endingPoint);\r\n          drawer.refresh();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  keyboardEvent(func, e) {\r\n    if (func === 'keyUp' && e.keyCode === 27) {\r\n      this.active = false;\r\n      this.startingPoint = null;\r\n      this.endingPoint = null;\r\n      this.drawer.refresh();\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n  }\r\n\r\n  draw() {\r\n    const ctx = this.drawer.ctx;\r\n    if (this.startingPoint != null && this.endingPoint != null) {\r\n      const drawer = this.drawer;\r\n      const startPoint = drawer.imagePointToCanvasPoint(this.startingPoint.x, this.startingPoint.y);\r\n      const endPoint = drawer.imagePointToCanvasPoint(this.endingPoint.x, this.endingPoint.y);\r\n      const distance = Math.hypot(\r\n        this.startingPoint.x - this.endingPoint.x,\r\n        this.startingPoint.y - this.endingPoint.y,\r\n      );\r\n      // const perpendicular = this.perpendicularLine(startPoint, endPoint)\r\n      const ruler = new Path2D();\r\n      ruler.moveTo(startPoint.x, startPoint.y);\r\n      ruler.lineTo(endPoint.x, endPoint.y);\r\n\r\n      // const angle = perpendicular.slope\r\n      // const direction = [Math.sin(angle), Math.cos(angle)]\r\n      // const direction = [perpendicular.slope, perpendicular.slope]\r\n      // const m1X = ((startPoint.y - 30) - perpendicular.b) / perpendicular.slope\r\n      // const m2X = ((startPoint.y + 30) - perpendicular.b) / perpendicular.slope\r\n      /**\r\n       * perpendicular = y=x*slope+b\r\n       * startingPoint = (x0,y0)\r\n       * distancia = 3 pixels\r\n       * distancia^2 = (x1-x2)^2 + (y1-y2)^2 // y2 = x2*slope+b\r\n       * (x2,y2) = perpendicular\r\n       */\r\n      // ruler.moveTo(startPoint.x - direction[0] * 30, startPoint.y - direction[1] * 30)\r\n      // ruler.lineTo(startPoint.x + direction[0] * 30, startPoint.y + direction[1] * 30)\r\n      ctx.lineWidth = 3;\r\n      ctx.setLineDash([5, 5]);\r\n      ctx.strokeStyle = 'black';\r\n      ctx.lineCap = 'round';\r\n      ctx.stroke(ruler);\r\n      ctx.setLineDash([]);\r\n      ctx.lineWidth = 1;\r\n      ctx.strokeStyle = 'white';\r\n      ctx.font = '30px Arial';\r\n      ctx.fillStyle = 'black';\r\n      const text = `${(distance * this.drawer.pixelWidth).toFixed(2)}µm`;\r\n      ctx.fillText(text, 30 + startPoint.x + ((endPoint.x - startPoint.x) / 2), startPoint.y + ((endPoint.y - startPoint.y) / 2));\r\n      ctx.strokeText(text, 30 + startPoint.x + ((endPoint.x - startPoint.x) / 2), startPoint.y + ((endPoint.y - startPoint.y) / 2));\r\n    }\r\n  }\r\n}\r\n\r\nconst polygonTool = {\r\n  name: 'polygon',\r\n  instance: null,\r\n  geometry: null,\r\n\r\n  info(...help) {\r\n    const info = [];\r\n    if (help.includes('start')) {\r\n      info.push('[db-Click] To put the first point');\r\n    }\r\n    if (help.includes('start-2')) {\r\n      info.push('[db-Click] To put the second point');\r\n    }\r\n    if (help.includes('save')) {\r\n      info.push('[Enter] To save annotation');\r\n    }\r\n    if (help.includes('undo')) {\r\n      info.push('[Esc] To undo');\r\n    }\r\n    if (help.includes('continue')) {\r\n      info.push('[Click] To continue dragging');\r\n    }\r\n    if (help.includes('point')) {\r\n      info.push('[db-Click] To add a point');\r\n    }\r\n    if (help.includes('cancel')) {\r\n      info.push('[Esc] To cancel');\r\n    }\r\n    this.instance.callback.onInfoUpdate(info);\r\n  },\r\n\r\n  mouseEvent(func, e) {\r\n    const drawer = this.instance;\r\n    const imagePosition = drawer._mousePointToImagePoint(e.position);\r\n    switch (func) {\r\n      case 'dblClick':\r\n        // On double click, we will create a new drawing if there none in the moment\r\n        if (drawer.currently_drawing == null) {\r\n          this.geometry = {\r\n            type: 'polygon',\r\n            points: [imagePosition, imagePosition],\r\n          };\r\n          drawer.currently_drawing = {\r\n            label: drawer.current_label,\r\n            geometry: this.geometry,\r\n            meta: {},\r\n          };\r\n\r\n          drawer.stateRestorer = StateRestorer.init(drawer, this.geometry);\r\n          this.info('start-2', 'cancel');\r\n        } else {\r\n          // On double click we will continue the drawing by adding the new\r\n          this.geometry.points.push(imagePosition);\r\n          drawer.stateRestorer.addRestorePoint('point');\r\n          this.info('save', 'undo', 'point');\r\n        }\r\n        break;\r\n      case 'move':\r\n        if (drawer.currently_drawing != null) {\r\n          // On mouse move we will update the preview if we currently drawing\r\n          this.geometry.points[this.geometry.points.length - 1] = imagePosition;\r\n          drawer.update();\r\n        }\r\n        break;\r\n    }\r\n  },\r\n\r\n  keyboardEvent(func, e) {\r\n    const drawer = this.instance;\r\n    // We are only interested in this events if we are drawing\r\n    if (drawer.currently_drawing != null) {\r\n      switch (func) {\r\n        case 'keyUp':\r\n          if (e.keyCode === 13) {\r\n            // User pressed enter, we will complete the drawing\r\n            this.geometry.points.pop();\r\n            drawer.callback.onFinishNewDrawing(this.geometry);\r\n            drawer.currently_drawing = null;\r\n            drawer.stateRestorer.cancel();\r\n            this.info('');\r\n          }\r\n          if (e.keyCode === 27) {\r\n            // User pressed ESC, undo the drawing\r\n            if (drawer.currently_drawing.geometry.points.length > 3) {\r\n              // Undo the last point added\r\n              this.geometry.points.splice(this.geometry.points.length - 2, 1);\r\n\r\n              this.info('save', 'point', this.geometry.points.length > 3 ? 'undo' : 'cancel');\r\n            } else {\r\n              // Cancel the drawing\r\n              drawer.currently_drawing = null;\r\n              drawer.stateRestorer.cancel();\r\n              this.info('');\r\n            }\r\n            drawer.update();\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  },\r\n\r\n  init(instance) {\r\n    this.instance = instance;\r\n    this.info('start');\r\n    return this;\r\n  },\r\n};\r\n\r\nclass PolygonAnnotationTool {\r\n  constructor(drawer) {\r\n    this.name = 'polygon';\r\n    this.drawer = drawer;\r\n    this.newAnnotation = null;\r\n    this.dragging = false;\r\n    drawer.setPanningEnabled(false);\r\n    this.info('start', 'pan');\r\n  }\r\n\r\n  info(...help) {\r\n    const info = [];\r\n    if (help.includes('pan')) {\r\n      info.push('[Space] To drag the image');\r\n    }\r\n    if (help.includes('start')) {\r\n      info.push('[Click] To start drawing');\r\n    }\r\n    if (help.includes('save')) {\r\n      info.push('[Enter] To save annotation');\r\n    }\r\n    if (help.includes('continue')) {\r\n      info.push('[Click] To continue drawing');\r\n    }\r\n    if (help.includes('cancel')) {\r\n      info.push('[Esc] To cancel');\r\n    }\r\n    this.drawer.callback.onInfoUpdate(info);\r\n  }\r\n\r\n  destroy() {\r\n    this.drawer.setPanningEnabled(true);\r\n    this.newAnnotation = null;\r\n  }\r\n\r\n  mouseEvent(func, e) {\r\n    const imagePosition = this.drawer.mousePointToImagePoint(e.position);\r\n    switch (func) {\r\n      case 'press':\r\n        this.dragging = true;\r\n        if (this.newAnnotation == null) {\r\n          const label = this.drawer.currentLabel;\r\n          this.newAnnotation = new PolygonAnnotation(this.drawer, {\r\n            state: 'creating',\r\n            geometry: {\r\n              type: 'polygon',\r\n              points: [imagePosition, {\r\n                x: imagePosition.x,\r\n                y: imagePosition.y,\r\n              }],\r\n            },\r\n            label,\r\n          });\r\n        } else {\r\n          this.newAnnotation.geometry.points.push(imagePosition);\r\n        }\r\n        this.drawer.refresh();\r\n        // if (!this.drawer_panning) {\r\n        //   if (drawer.currently_drawing == null) {\r\n        //     this.geometry = {\r\n        //       type: 'polygon',\r\n        //       points: [imagePosition],\r\n        //     };\r\n        //     drawer.currently_drawing = {\r\n        //       label: drawer.current_label,\r\n        //       geometry: this.geometry,\r\n        //       meta: { _enabled: true },\r\n        //     };\r\n        //\r\n        //     drawer.stateRestorer = StateRestorer.init(drawer, this.geometry);\r\n        //   } else {\r\n        //     drawer.currently_drawing.meta._enabled = true;\r\n        //   }\r\n        //\r\n        //   this.info('pan');\r\n        // }\r\n        // return true\r\n        break;\r\n      case 'move':\r\n        if (this.dragging && this.newAnnotation != null) {\r\n          this.newAnnotation.geometry.points.push(imagePosition);\r\n          this.drawer.refresh();\r\n        }\r\n        // if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled) {\r\n        //   this.geometry.points.push(imagePosition);\r\n        //   drawer.stateRestorer.addRestorePoint('point');\r\n        //   // this.info(\"start\", \"pan\")\r\n        //   // return true\r\n        // }\r\n        break;\r\n      case 'release':\r\n        this.dragging = false;\r\n        this.info('continue', 'pan', 'save', 'cancel');\r\n        break;\r\n    }\r\n  }\r\n\r\n  keyboardEvent(func, e) {\r\n    if (func === 'keyUp') {\r\n      if (e.keyCode === 13) {\r\n        // User pressed ENTER\r\n        if (this.newAnnotation != null) {\r\n          this.newAnnotation.state = 'idle';\r\n          this.newAnnotation.geometry.points = optimizePath(this.newAnnotation.geometry.points);\r\n          this.drawer.callback.onFinishNewDrawing(this.newAnnotation);\r\n          this.newAnnotation = null;\r\n          this.drawer.update();\r\n        }\r\n      } else if (e.keyCode === 27) {\r\n        // User pressed ESC\r\n        this.newAnnotation = null;\r\n        this.drawer.refresh();\r\n      }\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    if (this.newAnnotation != null) {\r\n      this.newAnnotation.draw();\r\n    }\r\n  }\r\n\r\n  // keyboardEvent: freeDrawingDefaultKeyboardBehavior;\r\n}\r\n\r\nconst brushTool = {\r\n  name: 'brush',\r\n  instance: null,\r\n  size: 500,\r\n  drawer_panning: false,\r\n  geometry: null,\r\n\r\n  mouseEvent(func, e) {\r\n    const drawer = this.instance;\r\n    const imagePosition = drawer._mousePointToImagePoint(e.position);\r\n    switch (func) {\r\n      case 'press':\r\n        if (this.drawer_panning) return;\r\n        drawer.set_canvas_pan(false);\r\n\r\n        if (drawer.currently_drawing == null) {\r\n          this.geometry = {\r\n            type: 'brush',\r\n            size: this.size,\r\n            points: [imagePosition],\r\n          };\r\n          drawer.currently_drawing = {\r\n            label: drawer.current_label,\r\n            geometry: this.geometry,\r\n            meta: { _enabled: true },\r\n          };\r\n          // drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n        }\r\n        break;\r\n      case 'move':\r\n        if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled) {\r\n          this.geometry.points.push(imagePosition);\r\n        }\r\n        break;\r\n      case 'release':\r\n        if (drawer.currently_drawing != null) {\r\n          drawer.currently_drawing.meta._enabled = false;\r\n        }\r\n        drawer.set_canvas_pan(true);\r\n\r\n        break;\r\n    }\r\n    drawer.update();\r\n  },\r\n\r\n  keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n\r\n  init(instance) {\r\n    this.instance = instance;\r\n    instance.set_canvas_pan(false);\r\n    return this;\r\n  },\r\n};\r\n\r\nconst PathMeshEraser = {\r\n  editor: null,\r\n  active: false,\r\n\r\n  mouseEvent(func, e) {\r\n    const { editor } = this;\r\n    const drawer = editor.instance;\r\n\r\n    switch (func) {\r\n      case 'press':\r\n        this.active = true;\r\n        drawer.set_canvas_pan(false);\r\n        break;\r\n      case 'release':\r\n        this.active = false;\r\n        drawer.set_canvas_pan(true);\r\n        break;\r\n      case 'move':\r\n        if (this.active === true) {\r\n          const mousePosition = drawer._mousePointToImagePoint(e.position);\r\n          // On the eraser mode, we will check if for intersection and remove those elements\r\n          editor.controls.some((control) => {\r\n            if (editor.intersectsControl(mousePosition, control.point)) {\r\n              // We will remove this line\r\n              const index = editor.geometry.points.indexOf(control.point);\r\n              editor.geometry.points.splice(index, 1);\r\n              editor.controls.splice(index, 1);\r\n              editor.addRestorePoint('erased');\r\n              return true; // stop iterating\r\n            }\r\n          });\r\n          drawer.update();\r\n        }\r\n        break;\r\n    }\r\n  },\r\n\r\n  init(editor) {\r\n    this.editor = editor;\r\n    return this;\r\n  },\r\n};\r\n\r\nconst PathMeshMover = {\r\n  editor: null,\r\n  control: null,\r\n\r\n  mouseEvent(func, e) {\r\n    const { editor } = this;\r\n    const drawer = editor.instance;\r\n    switch (func) {\r\n      case 'press':\r\n        const mousePosition = drawer._mousePointToImagePoint(e.position);\r\n        // On the dragging mode, the node is dragged to the\r\n        editor.controls.forEach((control) => {\r\n          const position = control.point;\r\n          const intersects = editor.intersectsControl(mousePosition, position);\r\n          if (intersects) {\r\n            // User is dragging with this element\r\n            this.control = control;\r\n            drawer.set_canvas_pan(false);\r\n          }\r\n        });\r\n\r\n        break;\r\n      case 'release':\r\n        this.control = null;\r\n        drawer.set_canvas_pan(true);\r\n        editor.addRestorePoint('moved');\r\n        break;\r\n      case 'move':\r\n        if (this.control != null) {\r\n          const mousePosition = drawer._mousePointToImagePoint(e.position);\r\n          this.control.point.x = mousePosition.x;\r\n          this.control.point.y = mousePosition.y;\r\n          drawer.update();\r\n        }\r\n        break;\r\n    }\r\n  },\r\n\r\n  init(editor) {\r\n    this.editor = editor;\r\n    return this;\r\n  },\r\n};\r\n\r\nconst PathMeshCreator = {\r\n  editor: null,\r\n  cursor: null,\r\n  instance: null,\r\n\r\n  checkPathCreation(position) {\r\n    const { points } = this.editor.geometry;\r\n    for (let i = 1; i < points.length; i++) {\r\n      const point1 = points[i - 1];\r\n      const point2 = points[i];\r\n      const left = Math.min(point1.x, point2.x) - 10;\r\n      const right = Math.max(point1.x, point2.x) + 10;\r\n      const top = Math.min(point1.y, point2.y) - 10;\r\n      const bottom = Math.max(point1.y, point2.y) + 10;\r\n\r\n      if (left < position.x && position.x < right\r\n        && top < position.y && position.y < bottom) {\r\n        return i;\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n\r\n  mouseEvent(func, e) {\r\n    const { editor } = this;\r\n    const drawer = editor.instance;\r\n    const position = drawer._mousePointToImagePoint(e.position);\r\n    switch (func) {\r\n      case 'move':\r\n        if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n          const newIndex = this.checkPathCreation(position);\r\n          // console.log(\"check\", newIndex)\r\n          if (newIndex != null) {\r\n            this.cursor = {\r\n              position,\r\n              index: newIndex,\r\n            };\r\n          } else {\r\n            this.cursor = null;\r\n          }\r\n          drawer.update();\r\n        } else if (this.cursor != null) {\r\n          this.cursor = null;\r\n          drawer.update();\r\n        }\r\n        break;\r\n      case 'click':\r\n        if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n          const { points } = editor.geometry;\r\n          const newIndex = this.checkPathCreation(position);\r\n          if (newIndex != null) {\r\n            editor.addRestorePoint('created');\r\n            points.splice(newIndex, 0, position);\r\n          }\r\n          console.log('Ended');\r\n          editor.create_controls();\r\n          drawer.update();\r\n        }\r\n        break;\r\n    }\r\n  },\r\n\r\n  draw(ctx) {\r\n    const { instance } = this;\r\n    // Drawing the reference cursor where the new point will appear\r\n    ctx.beginPath();\r\n    if (this.cursor != null) {\r\n      const { points } = this.editor.geometry;\r\n      const position = instance._imagePointToCanvasPoint(this.cursor.position.x, this.cursor.position.y);\r\n      ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false);\r\n      const prevPoint = instance._imagePointToCanvasPoint(points[this.cursor.index - 1].x, points[this.cursor.index - 1].y);\r\n      const nextPoint = instance._imagePointToCanvasPoint(points[this.cursor.index].x, points[this.cursor.index].y);\r\n      ctx.moveTo(prevPoint.x, prevPoint.y);\r\n      ctx.lineTo(position.x, position.y);\r\n      ctx.lineTo(nextPoint.x, nextPoint.y);\r\n      ctx.fill();\r\n      ctx.stroke();\r\n    }\r\n  },\r\n\r\n  init(editor) {\r\n    this.editor = editor;\r\n    this.instance = editor.instance;\r\n    return this;\r\n  },\r\n};\r\n\r\nconst PathMeshFreeEditor = {\r\n  currently_drawing: null,\r\n  current_path: null,\r\n  editor: null,\r\n  editing: false,\r\n  panning: false,\r\n  mouseEvent(func, e) {\r\n    const { editor } = this;\r\n    const { annotation } = editor;\r\n    const { instance } = editor;\r\n    const position = editor.instance._mousePointToImagePoint(e.position);\r\n    switch (func) {\r\n      case 'press':\r\n        if (this.currently_drawing == null) {\r\n          if (editor.instance.ctx.isPointInPath(annotation.meta.path, e.position.x, e.position.y)) {\r\n            this.currently_drawing = [];\r\n            this.editing = true;\r\n            instance.set_canvas_pan(false);\r\n          }\r\n        } else {\r\n          this.editing = true;\r\n          instance.set_canvas_pan(false);\r\n        }\r\n        break;\r\n      case 'move':\r\n        if (this.panning) return;\r\n        if (this.currently_drawing != null && this.editing) {\r\n          this.currently_drawing.push(position);\r\n          editor.instance.update();\r\n        }\r\n        break;\r\n      case 'release':\r\n        this.editing = false;\r\n        instance.set_canvas_pan(true);\r\n        break;\r\n    }\r\n  },\r\n\r\n  polygonOrientation(points) {\r\n    let sum = 0;\r\n    const li = points.length;\r\n    for (let i = 1; i < li; i++) {\r\n      sum += (points[i].x - points[i - 1].x) * (points[i].y + points[i - 1].y);\r\n    }\r\n    sum += (points[li - 1].x - points[li - 2].x) * (points[li - 1].y + points[li - 2].y);\r\n    return sum > 0;\r\n  },\r\n\r\n  keyboardEvent(func, e) {\r\n    const drawer = this.editor.instance;\r\n    switch (func) {\r\n      case 'keyUp':\r\n        if (e.keyCode === 32) {\r\n          drawer.set_canvas_pan(false);\r\n          this.panning = false;\r\n        } else if (e.keyCode === 27) {\r\n          drawer.set_canvas_pan(true);\r\n          this.currently_drawing = null;\r\n          drawer.update();\r\n        } else if (e.keyCode === 13) {\r\n          drawer.set_canvas_pan(true);\r\n          const intersects = (path, point) => {\r\n            const canvasPoint = drawer._imagePointToCanvasPoint(point.x, point.y);\r\n            return drawer.ctx.isPointInPath(path, canvasPoint.x, canvasPoint.y, 'nonzero');\r\n          };\r\n          const originalToRemove = this.editor.geometry.points.map((item, index) => {\r\n            if (intersects(this.current_path, item)) return index;\r\n          })\r\n            .filter((item) => item != null);\r\n          const additionToRemove = this.currently_drawing.map((item, index) => {\r\n            if (intersects(this.editor.geometry.path, item)) return index;\r\n          })\r\n            .filter((item) => item != null);\r\n          console.log('Original To Remove', originalToRemove, additionToRemove);\r\n          const newOriginalPath = this.editor.geometry.points.filter((i, idx) => !originalToRemove.includes(idx));\r\n          const newAdditionPath = this.currently_drawing.filter((i, idx) => !additionToRemove.includes(idx));\r\n          console.log('newOriginalPath:', newOriginalPath);\r\n          console.log('newAdditionPath:', newAdditionPath);\r\n\r\n          const originalX = this.polygonOrientation(newOriginalPath);\r\n          const additionX = this.polygonOrientation(newAdditionPath);\r\n          console.log('Order:', originalX, additionX);\r\n          if (additionX !== originalX) {\r\n            console.log('Reversing array');\r\n            // newAdditionPath.reverse()\r\n          }\r\n\r\n          let oIndex = 1;\r\n          let aIndex = 0;\r\n          const newPath = [newOriginalPath[0]];\r\n          do {\r\n            const cPoint = newPath[newPath.length - 1];\r\n            const oPoint = newOriginalPath[oIndex];\r\n            const aPoint = newAdditionPath[aIndex];\r\n\r\n            const oDistance = oIndex < newOriginalPath.length ? Math.hypot(cPoint.x - oPoint.x, cPoint.y - oPoint.y) : -1;\r\n            const aDistance = aIndex < newAdditionPath.length ? Math.hypot(cPoint.x - aPoint.x, cPoint.y - aPoint.y) : -1;\r\n\r\n            console.log('Iteration | ', cPoint, oIndex, aIndex, '|', oDistance, aDistance);\r\n            if (oDistance === -1 && aDistance === -1) {\r\n              break;\r\n            } else if (aDistance === -1 || (oDistance !== -1 && oDistance < aDistance)) {\r\n              newPath.push(oPoint);\r\n              oIndex++;\r\n            } else if (oDistance === -1 || (aDistance !== -1 && oDistance > aDistance)) {\r\n              newPath.push(aPoint);\r\n              aIndex++;\r\n            }\r\n          } while (oIndex < newOriginalPath.length || aIndex < newAdditionPath.length);\r\n          this.editor.geometry.points = optimizePath(newPath);\r\n          this.editor.instance.update();\r\n          return false;\r\n          // const newToRemove =\r\n        }\r\n        break;\r\n      case 'keyDown':\r\n        if (e.keyCode === 32) {\r\n          drawer.set_canvas_pan(true);\r\n          this.panning = true;\r\n        }\r\n        break;\r\n    }\r\n\r\n    // We are going to handle the input\r\n    return true;\r\n  },\r\n\r\n  draw(ctx) {\r\n    const points = this.currently_drawing;\r\n    if (points != null) {\r\n      const path = new Path2D();\r\n      const firstPosition = this.editor.instance._imagePointToCanvasPoint(points[0].x, points[0].y);\r\n      ctx.beginPath();\r\n      path.moveTo(firstPosition.x, firstPosition.y);\r\n\r\n      points.forEach((point) => {\r\n        const position = this.editor.instance._imagePointToCanvasPoint(point.x, point.y);\r\n        path.lineTo(position.x, position.y);\r\n      });\r\n      path.closePath();\r\n      this.current_path = path;\r\n      ctx.stroke(path);\r\n    }\r\n  },\r\n\r\n  init(editor) {\r\n    this.editor = editor;\r\n    this.currently_drawing = null;\r\n    return this;\r\n  },\r\n};\r\n\r\nclass PathMeshEditor {\r\n  constructor(annotation, drawer) {\r\n    this.drawer = drawer;\r\n    this.annotation = annotation;\r\n    this.originalAnnotation = _.cloneDeep(annotation);\r\n    if (this.annotation.state === 'feedback') {\r\n      this.annotation.state = 'feedback-editing';\r\n      this.annotation.drawFeedback = true;\r\n    } else {\r\n      this.annotation.state = 'editing';\r\n    }\r\n    this.controls = [];\r\n    this.control = null;\r\n    this.mode = null;\r\n    this.dragging = false;\r\n    this.hasMoved = false;\r\n    this.createControls();\r\n    // this.create_mode(mode);\r\n  }\r\n\r\n  intersectsControl(mousePosition, position) {\r\n    const drawer = this.drawer;\r\n    const areaRadius = ((drawer.currentViewport.bottom - drawer.currentViewport.top) / drawer.canvas.clientWidth) * 25;\r\n    // console.log(\"intersects radius:\", areaRadius, drawer._viewportLocation)\r\n    return mousePosition.x > position.x - areaRadius && mousePosition.x < position.x + areaRadius\r\n      && mousePosition.y > position.y - areaRadius && mousePosition.y < position.y + areaRadius;\r\n  }\r\n\r\n  getIntersectingControl(position) {\r\n    let intersectingControl = null;\r\n    this.controls.forEach((control) => {\r\n      if (this.intersectsControl(position, control.point)) {\r\n        intersectingControl = control;\r\n      }\r\n    });\r\n    return intersectingControl;\r\n  }\r\n\r\n  mouseEvent(func, e) {\r\n    // todo all at once\r\n    if (this.annotation == null) return;\r\n    const points = this.annotation.state === 'feedback-editing'\r\n      ? this.annotation.feedback.geometry : this.annotation.geometry.points;\r\n    if (func === 'press') {\r\n      this.hasMoved = false;\r\n      this.drawer.setPanningEnabled(false);\r\n      this.dragging = true;\r\n      this.control = this.getIntersectingControl(this.drawer.mousePointToImagePoint(e.position));\r\n      if (this.control == null) {\r\n        // check if clicked on edge\r\n        // Intersects no control, which means that if it intersects the item, we should add a new node\r\n        if (this.annotation instanceof PolygonAnnotation) {\r\n          // it only makes sense to edit polygons; in the future we could change items to polygon\r\n          if (this.annotation.intersects(e.position)) {\r\n            const imagePosition = this.drawer.mousePointToImagePoint(e.position);\r\n            // We will create a new point\r\n            const newPointIndex = this.checkPathCreation(imagePosition);\r\n            if (newPointIndex != null) {\r\n              // We are ready to add a new point on the index of interest\r\n              points.splice(newPointIndex, 0, imagePosition);\r\n              this.createControls();\r\n              this.control = this.controls[newPointIndex];\r\n              this.drawer.refresh();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (func === 'release') {\r\n      if (this.hasMoved === false) {\r\n        // True click, as no movement was done between press and release\r\n        if (this.control != null) {\r\n          // Clicking on a control removes it\r\n          points.splice(this.control.index, 1);\r\n          this.createControls();\r\n          this.annotation.update();\r\n          this.drawer.refresh();\r\n        }\r\n      }\r\n      this.dragging = false;\r\n      this.control = null;\r\n      // if the panning is disabled, we will enable on release:\r\n      if (!this.drawer.isPanningEnabled) {\r\n        this.drawer.setPanningEnabled(true);\r\n      }\r\n    } else if (func === 'move') {\r\n      this.hasMoved = true;\r\n      if (this.dragging && this.control != null) {\r\n        const mousePosition = this.drawer.mousePointToImagePoint(e.position);\r\n        this.control.point.x = mousePosition.x;\r\n        this.control.point.y = mousePosition.y;\r\n        if (this.annotation instanceof RectAnnotation) {\r\n          this.annotation.updateImageLocation();\r\n        }\r\n        this.drawer.update();\r\n      }\r\n    } else if (func === 'click') {\r\n\r\n    }\r\n  }\r\n\r\n  keyboardEvent(func, e) {\r\n    const drawer = this.drawer;\r\n\r\n    console.log(func, e);\r\n    switch (func) {\r\n      case 'keyUp':\r\n        if (e.keyCode === 27) {\r\n          // User pressed ESC. The edition is cancelled and the shape must be restored\r\n          this.cancel();\r\n        } else if (e.keyCode === 13) {\r\n          // Notify the editing has ended with changes\r\n          this.conclude();\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkPathCreation(position) {\r\n    const { points } = this.annotation.geometry;\r\n    for (let i = 1; i < points.length; i++) {\r\n      const point1 = points[i - 1];\r\n      const point2 = points[i];\r\n      const left = Math.min(point1.x, point2.x) - 10;\r\n      const right = Math.max(point1.x, point2.x) + 10;\r\n      const top = Math.min(point1.y, point2.y) - 10;\r\n      const bottom = Math.max(point1.y, point2.y) + 10;\r\n\r\n      if (left < position.x && position.x < right\r\n        && top < position.y && position.y < bottom) {\r\n        return i;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  cancel() {\r\n    const drawer = this.drawer;\r\n    if (this.annotation.state === 'editing') {\r\n      this.annotation.state = 'idle';\r\n      this.annotation.geometry = this.originalAnnotation.geometry;\r\n      this.annotation.label = this.originalAnnotation.label;\r\n    } else {\r\n      this.annotation.state = 'feedback';\r\n      this.annotation.feedback.geometry = this.originalAnnotation.geometry.points;\r\n    }\r\n    this.annotation.title = this.originalAnnotation.title;\r\n    this.annotation.description = this.originalAnnotation.description;\r\n    // this.geometry.points = this.original_points;\r\n    // this.geometry.color = this.original_color;\r\n\r\n    // Notify the editing has ended without changes\r\n    drawer.callback.onFinishedEditing(false, this.annotation);\r\n    this.annotation = null;\r\n\r\n    drawer.update();\r\n    this.controls = [];\r\n  }\r\n\r\n  conclude() {\r\n    if (this.annotation.state === 'editing') {\r\n      this.annotation.state = 'idle';\r\n    } else {\r\n      this.annotation.state = 'feedback';\r\n    }\r\n    this.annotation.updateViewport();\r\n    this.controls = [];\r\n    this.drawer.callback.onFinishedEditing(true, this.annotation);\r\n    this.drawer.update();\r\n    this.annotation = null;\r\n  }\r\n\r\n  destroy() {\r\n    if (this.annotation != null && this.annotation.state !== 'idle' && this.annotation.state !== 'feedback') {\r\n      this.cancel();\r\n    }\r\n    this.drawer.update();\r\n  }\r\n\r\n  draw() {\r\n    this.drawer.ctx.lineWidth = 1;\r\n    // We will draw the controls we have:\r\n    this.controls.forEach((control) => {\r\n      this.drawer.ctx.beginPath();\r\n      const position = this.drawer.imagePointToCanvasPoint(control.point.x, control.point.y);\r\n      this.drawer.ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false);\r\n\r\n      this.drawer.ctx.setLineDash([]);\r\n      this.drawer.ctx.fillStyle = 'rgb(255,255,255)';\r\n      this.drawer.ctx.fill();\r\n      this.drawer.ctx.strokeStyle = 'black';\r\n      this.drawer.ctx.stroke();\r\n      control.canvasPosition = position;\r\n    });\r\n\r\n    // this.annotation.draw();\r\n  }\r\n\r\n  createControls() {\r\n    // When creating controls, we will differentiate the annotation state:\r\n    if (this.annotation.state === 'feedback-editing') {\r\n      // On feedback annotations, we will edit the feedback geometry instead of the original's\r\n      if (this.annotation.feedback.geometry == null) {\r\n        // There is no feedback data currently, we will instantiate based on the original\r\n        this.annotation.feedback.geometry = this.annotation.geometry.points.map((point) => ({\r\n          x: point.x,\r\n          y: point.y,\r\n        }));\r\n      }\r\n      // Not we will create the points based on the feedback data\r\n      this.controls = this.annotation.feedback.geometry.map((point, index) => ({\r\n        canvasPosition: null,\r\n        index,\r\n        point,\r\n      }));\r\n    } else {\r\n      // This is a normal edit operation, we will interact with the original geometry\r\n      this.controls = this.annotation.geometry.points.map((point, index) => ({\r\n        canvasPosition: null,\r\n        index,\r\n        point,\r\n      }));\r\n    }\r\n  }\r\n\r\n  // create_mode(mode) {\r\n  //   if (mode === 'eraser') {\r\n  //     this.mode = PathMeshEraser.init(this);\r\n  //   } else if (mode === 'mover') {\r\n  //     this.mode = PathMeshMover.init(this);\r\n  //   } else if (mode === 'creator') {\r\n  //     this.mode = PathMeshCreator.init(this);\r\n  //   } else if (mode === 'free') {\r\n  //     this.mode = PathMeshFreeEditor.init(this);\r\n  //   }\r\n  // },\r\n}\r\n\r\n/* the conversion from pixel to shape may be done with a search algorithm.\r\nThe points are the pixels which were unable to find add one of its side to the search */\r\n\r\nconst StateRestorer = {\r\n  instance: null,\r\n  geometry: null,\r\n  states: [],\r\n  current_state_point: 0,\r\n\r\n  addRestorePoint(event) {\r\n    if (this.states.length > 0 && this.current_state_point !== this.states.length - 1) {\r\n      // We are overriding the past, we will clear the states\r\n      this.states.splice(this.current_state_point, this.states.length - this.current_state_point);\r\n      console.log('clearing future:', this.states.length);\r\n    }\r\n    this.states.push({\r\n      type: event,\r\n      points: this.geometry.points.map((item) => // todo not all elements have points\r\n        ({\r\n          x: item.x,\r\n          y: item.y,\r\n        })),\r\n    });\r\n    this.current_state_point = this.states.length - 1;\r\n    this.instance.callback.onStateRestorerEvent(this);\r\n    // todo report state changed\r\n  },\r\n\r\n  restoreToPoint(value) {\r\n    console.log('restoreToPoint', value);\r\n    this.geometry.points = this.states[value].points;\r\n    this.instance.update();\r\n    this.current_state_point = value;\r\n    this.instance.callback.onStateRestorerEvent(this);\r\n  },\r\n  cancel() {\r\n    this.instance.stateRestorer = null;\r\n    this.states = null;\r\n    this.instance.callback.onStateRestorerEvent(null);\r\n  },\r\n  init(instance, geometry) {\r\n    this.instance = instance;\r\n    this.geometry = geometry;\r\n    this.states = [];\r\n    instance.callback.onStateRestorerEvent(this);\r\n    return this;\r\n  },\r\n};\r\n\r\nclass Annotation {\r\n  constructor(drawer, annotation) {\r\n    this.drawer = drawer;\r\n\r\n    // Annotation data:\r\n    this.id = annotation.id;\r\n    this.geometry = annotation.geometry;\r\n    this.label = annotation.label;\r\n    this.slideId = annotation.slide_id;\r\n    this.title = annotation.title;\r\n    this.description = annotation.description;\r\n    this.properties = annotation.properties;\r\n    this.currentlyImporting = false;\r\n    this.feedback = null;\r\n    this.drawFeedback = false;\r\n\r\n    // Feedback data:\r\n    if (annotation.feedback != null) {\r\n      this.feedback = annotation.feedback;\r\n      this.state = 'feedback';\r\n    } else {\r\n      this.state = annotation.state == null ? 'idle' : annotation.state;\r\n    }\r\n\r\n    // Annotation meta data:\r\n    this.isHovering = false;\r\n    this.currentViewport = {\r\n      top: 0,\r\n      left: 0,\r\n      bottom: 0,\r\n      right: 0,\r\n    };\r\n    this.imageLocation = {\r\n      top: Number.MAX_VALUE, // assuming higher value to calculate actual value\r\n      left: Number.MAX_VALUE, // assuming higher value to calculate actual value\r\n      bottom: 0,\r\n      right: 0,\r\n    };\r\n  }\r\n\r\n  setHovering(hovering) {\r\n    this.isHovering = hovering;\r\n  }\r\n\r\n  /**\r\n   * Checks if the user should be able to see this elements from its viewport AND\r\n   * it isn't filtered out.\r\n   * @param userViewport the user's viewport\r\n   * @returns {boolean} true if this element should be visible\r\n   */\r\n  shouldBeVisible(userViewport) {\r\n    const offScreen = this.imageLocation.bottom < userViewport.top\r\n      || this.imageLocation.right < userViewport.left\r\n      || this.imageLocation.left > userViewport.right\r\n      || this.imageLocation.top > userViewport.bottom;\r\n    const { filtering } = this.drawer;\r\n    const notFilteredOut = filtering[this.label.name] || this.state === 'importing';\r\n    return !offScreen && notFilteredOut;\r\n  }\r\n\r\n  /**\r\n   * Checks if the current annotation intersects with the reference position\r\n   * @param position the position being checked\r\n   * @returns {boolean} true if intersects\r\n   */\r\n  // eslint-disable-next-line no-unused-vars,class-methods-use-this\r\n  intersects(position) {\r\n  }\r\n\r\n  serialize() {\r\n    const {\r\n      geometry,\r\n      label,\r\n      slideId,\r\n      title,\r\n      description,\r\n      properties,\r\n      feedback,\r\n      id,\r\n    } = this;\r\n    return {\r\n      geometry,\r\n      label,\r\n      id,\r\n      feedback,\r\n      properties,\r\n      slide_id: slideId,\r\n      title,\r\n      description,\r\n    };\r\n  }\r\n\r\n  // setSlideId(slideId) {\r\n  //   this.slideId = slideId;\r\n  // }\r\n\r\n  getColor() {\r\n    const { style } = this.drawer;\r\n    const { color } = this.label;\r\n    return {\r\n      color: `${color[0]},${color[1]},${color[2]}`,\r\n      opacity: this.isHovering ? style.hoverOpacity : style.fillOpacity,\r\n    };\r\n  }\r\n\r\n  update() {\r\n  }\r\n\r\n  updateViewport() {\r\n    const topLeft = this.drawer.imagePointToCanvasPoint(this.imageLocation.left, this.imageLocation.top);\r\n    const bottomRight = this.drawer.imagePointToCanvasPoint(this.imageLocation.right, this.imageLocation.bottom);\r\n    this.currentViewport.left = topLeft.x;\r\n    this.currentViewport.top = topLeft.y;\r\n    this.currentViewport.bottom = bottomRight.y;\r\n    this.currentViewport.right = bottomRight.x;\r\n  }\r\n\r\n  draw() {\r\n  }\r\n}\r\n\r\nclass RectAnnotation extends Annotation {\r\n  constructor(drawer, annotation) {\r\n    super(drawer, annotation);\r\n\r\n    this.updateImageLocation();\r\n  }\r\n\r\n  updateImageLocation() {\r\n    const { points } = this.geometry;\r\n    this.imageLocation.top = points[0].y;\r\n    this.imageLocation.left = points[0].x;\r\n    this.imageLocation.right = points[1].x;\r\n    this.imageLocation.bottom = points[1].y;\r\n  }\r\n\r\n  intersects(position) {\r\n    return position.y > this.currentViewport.top && position.y < this.currentViewport.bottom\r\n      && position.x > this.currentViewport.left && position.x < this.currentViewport.right;\r\n  }\r\n\r\n  draw() {\r\n    const {\r\n      color,\r\n      opacity,\r\n    } = super.getColor();\r\n    const ctx = this.drawer.ctx;\r\n    const style = this.drawer.style;\r\n    const imageToCanvas = this.drawer.imagePointToCanvasPoint.bind(this.drawer);\r\n    const points = !this.drawFeedback ? this.geometry.points : this.feedback.geometry;\r\n    // shaping:\r\n    const point0 = imageToCanvas(points[0].x, points[0].y);\r\n    const point1 = imageToCanvas(points[1].x, points[1].y);\r\n    ctx.beginPath();\r\n    ctx.rect(\r\n      point0.x,\r\n      point0.y,\r\n      point1.x - point0.x,\r\n      point1.y - point0.y,\r\n    );\r\n\r\n    // stylizing:\r\n    if (this.drawFeedback) {\r\n      ctx.setLineDash([2, 2]);\r\n      ctx.font = '18px Arial';\r\n      ctx.fillStyle = 'black';\r\n      ctx.fillText('Feedback version', point0.x, point0.y);\r\n    } else if (this.state === 'editing' || this.state === 'feedback-editing') {\r\n      ctx.setLineDash([10, 5]);\r\n      ctx.lineWidth = style.lineWidth + 2;\r\n      ctx.font = '30px Arial';\r\n      if (this.state === 'creating') {\r\n        ctx.fillText('Preview, press ENTER to save', point0.x, point0.y);\r\n      }\r\n    } else if (this.state === 'idle') {\r\n      ctx.setLineDash([]);\r\n      ctx.lineWidth = style.lineWidth;\r\n    }\r\n    ctx.fillStyle = `rgba(${color}, ${opacity})`;\r\n    ctx.strokeStyle = `rgb(${color})`;\r\n\r\n    // drawing:\r\n    ctx.fill();\r\n    ctx.stroke();\r\n  }\r\n}\r\n\r\nclass RectAnnotationTool {\r\n  constructor(drawer) {\r\n    this.name = 'rect';\r\n    this.drawer = drawer;\r\n    this.newAnnotation = null;\r\n    this.dragging = false;\r\n\r\n    this.drawer.setPanningEnabled(false);\r\n\r\n    this.info('start');\r\n  }\r\n\r\n  destroy() {\r\n    this.newAnnotation = null;\r\n    this.drawer.setPanningEnabled(true);\r\n  }\r\n\r\n  info(...help) {\r\n    const info = [];\r\n    if (help.includes('start')) {\r\n      info.push('[db-Click] To start rect');\r\n    }\r\n    if (help.includes('save')) {\r\n      info.push('[db-Click] To finish and save');\r\n    }\r\n    if (help.includes('cancel')) {\r\n      info.push('[Esc] To cancel');\r\n    }\r\n    this.drawer.callback.onInfoUpdate(info);\r\n  }\r\n\r\n  mouseEvent(func, e) {\r\n    const imagePosition = this.drawer.mousePointToImagePoint(e.position);\r\n\r\n    switch (func) {\r\n      case 'press':\r\n        if (this.dragging === false) {\r\n          const label = this.drawer.currentLabel;\r\n          this.newAnnotation = new RectAnnotation(this.drawer, {\r\n            state: 'creating',\r\n            geometry: {\r\n              type: 'rect',\r\n              points: [\r\n                this.drawer.mousePointToImagePoint(e.position),\r\n                this.drawer.mousePointToImagePoint(e.position),\r\n              ],\r\n            },\r\n            label,\r\n          });\r\n          this.info('save', 'cancel');\r\n          this.dragging = true;\r\n        } else {\r\n          // We will assure point1 < point2\r\n\r\n          //   ['x', 'y'].forEach((dim) => {\r\n          //\r\n          //   }\r\n          //     .bind(this);\r\n          // )\r\n          //   ;\r\n          // report the drawing is over\r\n          // drawer.callback.onFinishNewDrawing(this.geometry);\r\n          // drawer.currently_drawing = null;\r\n          // drawer.stateRestorer.cancel();\r\n          this.info('start');\r\n        }\r\n        this.drawer.refresh();\r\n        break;\r\n      case 'move':\r\n        if (this.newAnnotation != null && this.dragging) {\r\n          this.newAnnotation.geometry.points[1] = imagePosition;\r\n          this.drawer.refresh();\r\n        }\r\n        break;\r\n      case 'release':\r\n        this.dragging = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  keyboardEvent(func, e) {\r\n    const drawer = this.drawer;\r\n    switch (func) {\r\n      case 'keyUp':\r\n        if (e.keyCode === 27) {\r\n          // User pressed ESC, we will cancel the drawing\r\n          this.newAnnotation = null;\r\n          drawer.update();\r\n          this.info('start');\r\n          drawer.setPanningEnabled(false);\r\n        } else if (e.keyCode === 13) {\r\n          // User pressed enter, we will complete the drawing\r\n\r\n          if (this.newAnnotation != null) {\r\n            if (this.newAnnotation.geometry.points[0].x\r\n              > this.newAnnotation.geometry.points[1].x) {\r\n              const temp = this.newAnnotation.geometry.points[0].x;\r\n              this.newAnnotation.geometry.points[0].x = this.newAnnotation.geometry.points[1].x;\r\n              this.newAnnotation.geometry.points[1].x = temp;\r\n            }\r\n            if (this.newAnnotation.geometry.points[0].y\r\n              > this.newAnnotation.geometry.points[1].y) {\r\n              const temp = this.newAnnotation.geometry.points[0].y;\r\n              this.newAnnotation.geometry.points[0].y = this.newAnnotation.geometry.points[1].y;\r\n              this.newAnnotation.geometry.points[1].y = temp;\r\n            }\r\n          }\r\n\r\n          this.newAnnotation.state = 'idle';\r\n          this.newAnnotation.updateImageLocation();\r\n          drawer.update();\r\n          drawer.callback.onFinishNewDrawing(this.newAnnotation);\r\n          this.newAnnotation = null;\r\n          // todo drawer.stateRestorer.cancel();\r\n          this.info('start');\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    if (this.newAnnotation != null) {\r\n      this.newAnnotation.draw();\r\n    }\r\n  }\r\n}\r\n\r\nclass CircleAnnotation extends Annotation {\r\n  constructor(drawer, annotation) {\r\n    super(drawer, annotation);\r\n    this.updateImageLocation();\r\n  }\r\n\r\n  updateImageLocation() {\r\n    const { points } = this.geometry;\r\n    const horizontalRadius = Math.abs(points[0].x - points[1].x);\r\n    const verticalRadius = Math.abs(points[0].y - points[1].y);\r\n    this.imageLocation.left = points[0].x - horizontalRadius;\r\n    this.imageLocation.right = points[0].x + horizontalRadius;\r\n    this.imageLocation.top = points[0].y - verticalRadius;\r\n    this.imageLocation.bottom = points[0].y + verticalRadius;\r\n  }\r\n\r\n  intersects(position) {\r\n    return position.y > this.currentViewport.top && position.y < this.currentViewport.bottom\r\n      && position.x > this.currentViewport.left && position.x < this.currentViewport.right;\r\n  }\r\n\r\n  draw() {\r\n    const {\r\n      color,\r\n      opacity,\r\n    } = super.getColor();\r\n    const { style } = this.drawer;\r\n    const { points } = this.geometry;\r\n\r\n    const position = this.drawer.imagePointToCanvasPoint(points[0].x, points[0].y);\r\n    const radius = this.drawer.imagePointToCanvasPoint(points[1].x, points[1].y);\r\n    const radiusX = Math.abs(position.x - radius.x);\r\n    const radiusY = Math.abs(position.y - radius.y);\r\n\r\n    // Drawing:\r\n    this.drawer.ctx.beginPath();\r\n    this.drawer.ctx.ellipse(position.x, position.y, radiusX, radiusY, 0, 2 * Math.PI, 0, false);\r\n\r\n    // stylizing:\r\n    this.drawer.ctx.fillStyle = `rgba(${color}, ${opacity})`;\r\n    this.drawer.ctx.strokeStyle = `rgb(${color})`;\r\n    this.drawer.ctx.lineWidth = style.lineWidth;\r\n\r\n    // drawing:\r\n    this.drawer.ctx.fill();\r\n    this.drawer.ctx.stroke();\r\n  }\r\n}\r\n\r\nclass PolygonAnnotation extends Annotation {\r\n  constructor(drawer, annotation) {\r\n    super(drawer, annotation);\r\n    annotation.geometry.points.forEach((point) => {\r\n      if (this.imageLocation.left > point.x) {\r\n        this.imageLocation.left = point.x;\r\n      }\r\n      if (this.imageLocation.right < point.x) {\r\n        this.imageLocation.right = point.x;\r\n      }\r\n      if (this.imageLocation.top > point.y) {\r\n        this.imageLocation.top = point.y;\r\n      }\r\n      if (this.imageLocation.bottom < point.y) {\r\n        this.imageLocation.bottom = point.y;\r\n      }\r\n    });\r\n  }\r\n\r\n  intersects(position) {\r\n    return this.drawer.ctx.isPointInPath(this.path, position.x, position.y, 'nonzero');\r\n  }\r\n\r\n  update() {\r\n    const points = !this.drawFeedback ? this.geometry.points : this.feedback.geometry;\r\n    const path = new Path2D();\r\n    const startPoint = this.drawer.imagePointToCanvasPoint(points[0].x, points[0].y);\r\n    path.moveTo(startPoint.x, startPoint.y);\r\n    points.forEach((point) => {\r\n      const canvasPos = this.drawer.imagePointToCanvasPoint(point.x, point.y);\r\n      path.lineTo(canvasPos.x, canvasPos.y);\r\n    });\r\n    path.lineTo(startPoint.x, startPoint.y);\r\n    this.path = path;\r\n  }\r\n\r\n  draw() {\r\n    const {\r\n      color,\r\n      opacity,\r\n    } = super.getColor();\r\n    const { style } = this.drawer;\r\n\r\n    if (this.id == null) {\r\n      this.update();\r\n    }\r\n\r\n    // stylizing:\r\n    if (this.drawFeedback) {\r\n      const points = this.feedback.geometry;\r\n      const startPoint = this.drawer.imagePointToCanvasPoint(points[0].x, points[0].y);\r\n      this.drawer.ctx.setLineDash([2, 2]);\r\n      this.drawer.ctx.font = '18px Arial';\r\n      this.drawer.ctx.fillStyle = 'black';\r\n      this.drawer.ctx.fillText('Feedback version', startPoint.x, startPoint.y);\r\n    } else if (this.state === 'editing' || this.state === 'feedback-editing') {\r\n      this.drawer.ctx.setLineDash([10, 5]);\r\n      this.drawer.ctx.lineWidth = style.lineWidth + 2;\r\n    } else if (this.state === 'idle') {\r\n      this.drawer.ctx.setLineDash([]);\r\n      this.drawer.ctx.lineWidth = style.lineWidth;\r\n    }\r\n    this.drawer.ctx.fillStyle = `rgba(${color}, ${opacity})`;\r\n    this.drawer.ctx.strokeStyle = `rgb(${color})`;\r\n    this.drawer.ctx.lineWidth = style.lineWidth;\r\n\r\n    // drawing:\r\n    this.drawer.ctx.fill(this.path);\r\n    this.drawer.ctx.stroke(this.path);\r\n  }\r\n}\r\n\r\nclass AnnotationDrawer {\r\n  constructor(Viewer, callback) {\r\n    // Installing canvas for drawing on top of OpenSeadragon:\r\n    const canvas = document.createElement('canvas');\r\n    canvas.style.position = 'absolute';\r\n    canvas.style.left = 0;\r\n    canvas.style.top = 0;\r\n    canvas.style.width = '100%';\r\n    canvas.style.height = '100%';\r\n    Viewer.canvas.appendChild(canvas);\r\n\r\n    // Defining references that will be used throughout this library\r\n    this.viewer = Viewer;\r\n    this.canvas = canvas;\r\n    this.callback = callback;\r\n    this.ctx = canvas.getContext('2d');\r\n    this.annotations = [];\r\n    this.currentlyDrawing = null;\r\n    // this.currentlyEditing = null;\r\n    this.currentLabel = null;\r\n    this.currentTool = null;\r\n    this.elementsOnScreen = [];\r\n    this.filtering = [];\r\n    this.isPanningEnabled = true;\r\n    this.isPanningMode = false;\r\n    this.isCurrentlyHoveringAnnotation = false;\r\n    this.pixelWidth = 0;\r\n    this.isDrawingEnabled = true;\r\n    this.style = {\r\n      fillOpacity: 0.6,\r\n    };\r\n    this.currentViewport = {\r\n      top: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n    };\r\n\r\n    // Defining function that keeps track of screen updates:\r\n    this.viewer.addHandler('update-viewport', _.throttle(this.updateViewport.bind(this)));\r\n\r\n    // Setting resize events to handle the annotation canvas size:\r\n    this.viewer.addHandler('resize', () => {\r\n      this.canvas.width = this.viewer.canvas.clientWidth;\r\n      this.canvas.height = this.viewer.canvas.clientHeight;\r\n    });\r\n\r\n    // Setup all interaction\r\n    this.mouseTracking = new OpenSeadragon.MouseTracker({\r\n      element: this.viewer.canvas, // .container\r\n      nonPrimaryReleaseHandler: () => {\r\n      },\r\n      releaseHandler: (e) => {\r\n        // no interactions on panning mode or if tools are disabled\r\n        if (this.isToolUsageEnabled()) {\r\n          this.currentTool.mouseEvent('release', e);\r\n        }\r\n        // if (this.isPanningMode || !this.isCurrentlyHoveringAnnotation) return;\r\n        // if (this.currentTool != null) {\r\n        //\r\n        // }\r\n      },\r\n      pressHandler: (e) => {\r\n        // no interactions on panning mode\r\n        if (this.isToolUsageEnabled()) {\r\n          this.currentTool.mouseEvent('press', e);\r\n        }\r\n        // if (this.isPanningMode || !this.isCurrentlyHoveringAnnotation) return;\r\n        // if (this.currentTool != null) {\r\n        //   this.currentTool.mouseEvent('press', e);\r\n        // }\r\n      },\r\n      clickHandler: (e) => {\r\n        if (this.isToolUsageEnabled()) {\r\n          this.currentTool.mouseEvent('click', e);\r\n        } else {\r\n          this.elementsOnScreen.forEach((element) => {\r\n            if (element.isHovering) {\r\n              this.callback.onClick(element);\r\n            }\r\n          });\r\n        }\r\n        // if (this.isPanningMode) return; // no interactions on panning mode\r\n        //\r\n        // if (this.currentTool != null) {\r\n        //   this.currentTool.mouseEvent('click', e);\r\n        // }\r\n        // this.elementsOnScreen.forEach((element) => {\r\n        //   if (element.isHovering) {\r\n        //     this.callback.onClick(element);\r\n        //   }\r\n        // });\r\n      },\r\n      dblClickHandler: (e) => {\r\n        // no interactions on panning mode or tool\r\n        if (this.isToolUsageEnabled()) {\r\n          this.currentTool.mouseEvent('dblClick', e);\r\n        }\r\n        // if (this.isPanningMode || !this.isCurrentlyHoveringAnnotation) return;\r\n        // if (this.currentTool != null) {\r\n        //   this.currentTool.mouseEvent('dblClick', e);\r\n        // }\r\n      },\r\n      moveHandler: (e) => {\r\n        if (this.isToolUsageEnabled()) {\r\n          if (this.currentTool.mouseEvent('move', e)) return;\r\n        }\r\n        // if (this.isPanningMode) return; // no interactions on panning mode\r\n        // if (this.isCurrentlyHoveringAnnotation) {\r\n        //   // Tool interaction is enabled:\r\n        //   if (this.currentTool != null && this.currentTool.mouseEvent('move', e)) return;\r\n        // }\r\n\r\n        // When not drawing, we will check for collision with the mouse pointer for interactivity\r\n        let hovering = 0;\r\n        // We only check for interaction when not in editing mode.\r\n        let updateRequired = false;\r\n        this.elementsOnScreen.forEach((annotation) => {\r\n          const intersects = annotation.intersects(e.position);\r\n          const statusUpdateRequired = annotation.isHovering !== intersects;\r\n          updateRequired = updateRequired\r\n            || (intersects && statusUpdateRequired)\r\n            || statusUpdateRequired;\r\n\r\n          // Handling element interaction listeners:\r\n          if (statusUpdateRequired) {\r\n            if (intersects) {\r\n              callback.onHover(annotation);\r\n              hovering += 1;\r\n            } else {\r\n              callback.onLeave(annotation);\r\n            }\r\n          }\r\n\r\n          annotation.setHovering(intersects);\r\n        });\r\n\r\n        if (updateRequired) {\r\n          if (hovering > 0) {\r\n            // When hovering one or more elements, the cursor is a pointer and no tool interaction\r\n            this.canvas.style.cursor = 'pointer';\r\n            this.isCurrentlyHoveringAnnotation = true;\r\n          } else {\r\n            // No elements are being hovered, return interaction\r\n            this.canvas.style.cursor = 'default';\r\n            this.isCurrentlyHoveringAnnotation = false;\r\n          }\r\n          this.refresh();\r\n        }\r\n      },\r\n      keyDownHandler: (e) => {\r\n        // On keydown we will check if user is switching to panning mode (pressing SPACE)\r\n        if (!this.isPanningEnabled) {\r\n          if (e.keyCode === 32) { // SPACE key\r\n            this.viewer.panHorizontal = true;\r\n            this.viewer.panVertical = true;\r\n            this.panningMode = true;\r\n            return;\r\n          }\r\n        }\r\n        if (this.currentTool != null) {\r\n          this.currentTool.keyboardEvent('keyDown', e);\r\n        }\r\n      },\r\n      keyUpHandler: (e) => {\r\n        // On keyup we will check if users wants to leave panning mode (releasing SPACE)\r\n        if (!this.isPanningEnabled) {\r\n          if (e.keyCode === 32) {\r\n            this.viewer.panHorizontal = false;\r\n            this.viewer.panVertical = false;\r\n            this.panningMode = false;\r\n            return;\r\n          }\r\n        }\r\n\r\n        if (this.currentTool != null) {\r\n          this.currentTool.keyboardEvent('keyUp', e);\r\n        }\r\n      },\r\n    });\r\n\r\n    this.canvas.width = this.viewer.canvas.clientWidth;\r\n    this.canvas.height = this.viewer.canvas.clientHeight;\r\n  }\r\n\r\n  /**\r\n   * Sets the current tool. The tool must be the class of the tool, which will be instantiated\r\n   * by the function.\r\n   * @param value The class of the AnnotationTool\r\n   */\r\n  set tool(value) {\r\n    if (this.currentTool != null) {\r\n      this.currentTool.destroy();\r\n    }\r\n    const tools = {\r\n      rect: RectAnnotationTool,\r\n      polygon: PolygonAnnotationTool,\r\n      circle: CircleAnnotationTool,\r\n      ruler: RulerTool,\r\n    };\r\n\r\n    // We will instantiate the tool:\r\n    if (value != null && value in tools) {\r\n      this.currentTool = new tools[value](this);\r\n    } else {\r\n      this.currentTool = null;\r\n    }\r\n  }\r\n\r\n  get tool() {\r\n    if (this.currentTool != null) {\r\n      return this.currentTool.name;\r\n    }\r\n    return 'none';\r\n  }\r\n\r\n  set label(value) {\r\n    if (this.currentTool != null) {\r\n      // Label was changed, we need to refresh the screen\r\n      this.refresh();\r\n    }\r\n    this.currentLabel = value;\r\n  }\r\n\r\n  set panningMode(value) {\r\n    if (value) {\r\n      this.canvas.style.cursor = 'grab';\r\n    } else if (!this.isCurrentlyHoveringAnnotation) {\r\n      // We will assume the user is currently on a blank space:\r\n      this.canvas.style.cursor = 'default';\r\n    } else {\r\n      // Just for continuity, we will assume the user is hovering over an annotation:\r\n      this.canvas.style.cursor = 'pointer';\r\n    }\r\n    this.isPanningMode = value;\r\n  }\r\n\r\n  /**\r\n   * Starts the editing process of an annotation\r\n   * @param annotation\r\n   */\r\n  editAnnotation(annotation) {\r\n    if (this.currentTool != null) {\r\n      this.currentTool.destroy();\r\n    }\r\n    this.currentTool = new PathMeshEditor(annotation, this);\r\n    this.refresh();\r\n    // Finally, we save the first state as a restoration point for the user\r\n    // this.currently_editing.addRestorePoint('editing');\r\n  }\r\n\r\n  cancelEdit() {\r\n    if (this.currentTool instanceof PathMeshEditor) {\r\n      this.tool = null;\r\n    }\r\n    this.update();\r\n  }\r\n\r\n  concludeEdit() {\r\n    if (this.currentTool instanceof PathMeshEditor) {\r\n      this.currentTool.conclude();\r\n      this.tool = null;\r\n    }\r\n  }\r\n\r\n  //   concludeEdit() {\r\n  //     // Disable the editing tool and update view\r\n  //     console.log('concludeEdit:', this.currently_editing.geometry);\r\n  //     this.callback.onFinishedEditing(true, this.currently_editing.geometry);\r\n  //     this.currently_editing = null;\r\n  //     this.update();\r\n  //   },\r\n\r\n  /**\r\n   * Load the annotations and instantiate the drawers.\r\n   * @param annotations the list of annotations to load\r\n   */\r\n  loadAnnotations(annotations) {\r\n    if (annotations == null) return;\r\n    const instantiators = {\r\n      rect: (annotation) => new RectAnnotation(this, annotation),\r\n      circle: (annotation) => new CircleAnnotation(this, annotation),\r\n      polygon: (annotation) => new PolygonAnnotation(this, annotation),\r\n    };\r\n    this.annotations = annotations.map((annotation) => {\r\n      const { type } = annotation.geometry;\r\n      return instantiators[type](annotation);\r\n    });\r\n    this.update();\r\n    return this.annotations;\r\n  }\r\n\r\n  /**\r\n   * Checks if interactions such as mouse ou keyboard events should be passed to the current tool.\r\n   * In some cases, such as when in panning mode or if the interaction is disabled, we don't wa\r\n   * @returns {boolean|*|boolean}\r\n   */\r\n  isToolUsageEnabled() {\r\n    if (this.isPanningMode) {\r\n      // No tools are allowed when in panning mode (when pressing SPACE):\r\n      return false;\r\n    }\r\n    if (this.currentTool != null) {\r\n      // Only makes sense if there is a current tool\r\n      if (this.currentTool instanceof PathMeshEditor) {\r\n        // if current tool is the PathMeshEditor (for editing), we want to bypass hovering locks\r\n        return true;\r\n      }\r\n      // Tool interaction is only allowed when not hovering a annotation\r\n      return !this.isCurrentlyHoveringAnnotation;\r\n    }\r\n\r\n    // There is no tool, so no:\r\n    return false;\r\n  }\r\n\r\n  setPanningEnabled(isEnabled) {\r\n    this.viewer.panHorizontal = isEnabled;\r\n    this.viewer.panVertical = isEnabled;\r\n    this.isPanningEnabled = isEnabled;\r\n    this.panningMode = false;\r\n  }\r\n\r\n  /**\r\n   * Updates the current viewport (portion of the image the user is looking)\r\n   * and returns whether it changed\r\n   * @returns {boolean} true if the viewport has changed\r\n   */\r\n  calculateViewport() {\r\n    const { ctx } = this;\r\n    const viewportMin = this.viewer.viewport.windowToImageCoordinates(\r\n      new OpenSeadragon.Point(0, 0),\r\n    );\r\n    const viewportMax = this.viewer.viewport.windowToImageCoordinates(\r\n      new OpenSeadragon.Point(ctx.canvas.width, ctx.canvas.height),\r\n    );\r\n\r\n    const updateRequired = (viewportMin.x !== this.currentViewport.left\r\n      || viewportMin.y !== this.currentViewport.bottom\r\n      || viewportMax.x !== this.currentViewport.right\r\n      || viewportMax.y !== this.currentViewport.top);\r\n\r\n    this.currentViewport.top = viewportMin.y;\r\n    this.currentViewport.bottom = viewportMax.y;\r\n    this.currentViewport.left = viewportMin.x;\r\n    this.currentViewport.right = viewportMax.x;\r\n\r\n    return updateRequired;\r\n  }\r\n\r\n  updateViewport() {\r\n    // The viewport has updated:\r\n    if (this.calculateViewport()) {\r\n      // Viewport has changed, we will make the required modifications\r\n      this.callback.onViewportChanged(this.currentViewport);\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  mousePointToImagePoint(mouseEvent) {\r\n    const viewportPoint = this.viewer.viewport.pointFromPixel(mouseEvent);\r\n    const coordinates = this.viewer.viewport.viewportToImageCoordinates(viewportPoint.x, viewportPoint.y);\r\n    return {\r\n      x: coordinates.x,\r\n      y: coordinates.y,\r\n    };\r\n  }\r\n\r\n  imagePointToCanvasPoint(x, y) {\r\n    const point = new OpenSeadragon.Point(x, y);\r\n    return this.viewer.viewport.imageToViewerElementCoordinates(point);\r\n  }\r\n\r\n  peep(annotation) {\r\n    const viewer = this.viewer;\r\n    const imageLocation = annotation.imageLocation;\r\n    const annotationWidth = imageLocation.right - imageLocation.left;\r\n    const annotationHeight = imageLocation.bottom - imageLocation.top;\r\n    const horizontalCenter = annotationWidth / 2;\r\n    const verticalCenter = annotationHeight / 2;\r\n    const panTo = viewer.viewport.imageToViewportCoordinates(\r\n      imageLocation.left + horizontalCenter,\r\n      imageLocation.top + verticalCenter,\r\n    );\r\n    viewer.viewport.panTo(panTo, false);\r\n    const tiledImage = viewer.world.getItemAt(0);\r\n    const yZoom = tiledImage.source.dimensions.y / annotationHeight;\r\n    const xZoom = tiledImage.source.dimensions.x / annotationWidth;\r\n    const zoom = (yZoom < xZoom ? yZoom : xZoom);\r\n    viewer.viewport.zoomTo(zoom - (zoom * 0.5), false);\r\n  }\r\n\r\n  /**\r\n   * Updates the elements on the screen, usually when there is panning or zooming\r\n   */\r\n  update() {\r\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n\r\n    const self = this;\r\n    self.elementsOnScreen = [];\r\n    if (this.annotations != null) {\r\n      this.annotations.forEach((annotation) => {\r\n        // Checking if annotation should be visible\r\n        annotation.updateViewport(); // for collision checks\r\n        if (annotation.shouldBeVisible(self.currentViewport)) {\r\n          // Annotation would be visible on the screen, does the user want to see it?\r\n          if (self.filtering[annotation.label.name] || annotation.state === 'importing') {\r\n            // This annotation must be drawn:\r\n            annotation.update();\r\n            annotation.draw();\r\n            self.elementsOnScreen.push(annotation);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (this.currentTool != null) {\r\n      this.currentTool.draw();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Refreshes the elements on screen, when no changes to the objects are required\r\n   */\r\n  refresh() {\r\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n\r\n    this.elementsOnScreen.forEach((annotation) => {\r\n      if (annotation.shouldBeVisible(this.currentViewport)) {\r\n        annotation.draw();\r\n      }\r\n    });\r\n\r\n    if (this.currentTool != null) {\r\n      this.currentTool.draw();\r\n    }\r\n  }\r\n}\r\n\r\nfunction loadAnnotations(rawAnnotations, drawer) {\r\n  const instantiators = {\r\n    rect: RectAnnotation,\r\n    circle: CircleAnnotation,\r\n    polygon: PolygonAnnotation,\r\n  };\r\n\r\n  const drawerInstance = drawer;\r\n  const annotations = {};\r\n  Object.entries(rawAnnotations)\r\n    .forEach(([slideId, slideAnnotations]) => {\r\n      annotations[slideId] = slideAnnotations.map((annotation) => {\r\n        const { type } = annotation.geometry;\r\n        return new instantiators[type](drawerInstance, annotation);\r\n      });\r\n    });\r\n  return annotations;\r\n}\r\n\r\nexport {\r\n  AnnotationDrawer,\r\n  RectAnnotationTool,\r\n  PolygonAnnotationTool,\r\n  Annotation,\r\n  optimizePath,\r\n  loadAnnotations,\r\n};\r\n\r\n//\r\n// export default {\r\n//   annotations: [],\r\n//\r\n//   current_label: null,\r\n//\r\n//   /**\r\n//    * When false, SliceDrawer doesn't allow any drawing\r\n//    */\r\n//   enabled: true,\r\n//\r\n//   /**\r\n//    * Elements currently being rendering are added to this list. This list is mostly used to check\r\n//    * mouse interaction with the elements.\r\n//    */\r\n//   elementsOnScreen: [],\r\n//\r\n//   stateRestorer: null,\r\n//\r\n//   /**\r\n//    * The current drawing tool\r\n//    */\r\n//   set tool(name) {\r\n//     this.new_tool = this.tools[name]();\r\n//     this.set_canvas_pan(true);\r\n//     this.viewer.canvas.focus();\r\n//   },\r\n//   get tool() {\r\n//     if (this.new_tool != null) {\r\n//       return this.new_tool.name;\r\n//     }\r\n//     return 'none';\r\n//   },\r\n//\r\n//   set editorMode(name) {\r\n//     this.currently_editing.create_mode(name);\r\n//     this.viewer.canvas.focus();\r\n//   },\r\n//   get editorMode() {\r\n//     return '';\r\n//   },\r\n//\r\n//   /**\r\n//    *\r\n//    */\r\n//   pixel_width: 0,\r\n//\r\n//   tools: {},\r\n//\r\n//   drawingStyle: {\r\n//     region_opacity: 0.3,\r\n//     line_weight: 1,\r\n//   },\r\n//\r\n//   /**\r\n//    * Elements can be filtered so it won't render.\r\n//    * Label => boolean\r\n//    */\r\n//   filtering: {},\r\n//\r\n//   /**\r\n//    * The element being currently edited.\r\n//    * We may be able to join two paths by checking if a given point intersects the other shape. Points from\r\n//    * both shapes that intersects another are added to a list for removal. Once we have a list, we remove the elements.\r\n//    * The new shape is created by joining the points from the two path in the index of the first removed element.\r\n//    * Arbitrary shapes (brush, rect) may be converted to path (by sampling and optimizing) before being joined.\r\n//    * The shapes may be joined after the drawing.\r\n//    */\r\n//   currently_editing: null,\r\n//\r\n//   new_tool: null,\r\n//\r\n//   /**\r\n//    * The polygon currently being draw\r\n//    */\r\n//   currently_drawing: null,\r\n//\r\n//   /**\r\n//    * Throttle behavior for improving performance when there are too many elements to draw\r\n//    */\r\n//   _lastUpdate: 0,\r\n//\r\n//   /**\r\n//    * Keeps track of the viewport in image pixels. This is used to notify when the\r\n//    * canvas is dirty and needs to be redraw.\r\n//    */\r\n//   _viewportLocation: {\r\n//     min: [],\r\n//     max: [],\r\n//   },\r\n//\r\n//   editElement(annotation) {\r\n//     this.currently_editing = PathMeshEditor.init(this, annotation, 'mover');\r\n//     this.update();\r\n//     // Finally, we save the first state as a restoration point for the user\r\n//     this.currently_editing.addRestorePoint('editing');\r\n//   },\r\n//\r\n//   concludeEdit() {\r\n//     // Disable the editing tool and update view\r\n//     console.log('concludeEdit:', this.currently_editing.geometry);\r\n//     this.callback.onFinishedEditing(true, this.currently_editing.geometry);\r\n//     this.currently_editing = null;\r\n//     this.update();\r\n//   },\r\n//\r\n//   cancelEdit() {\r\n//     this.currently_editing.cancel();\r\n//     this.currently_editing = null;\r\n//     this.update();\r\n//   },\r\n//\r\n//   resize() {\r\n//\r\n//   },\r\n//\r\n//   _mousePointToImagePoint(mouseEvent) {\r\n//     const viewportPoint = this.viewer.viewport.pointFromPixel(mouseEvent);\r\n//     const coordinates = this.viewer.viewport.viewportToImageCoordinates(viewportPoint.x, viewportPoint.y);\r\n//     return {\r\n//       x: coordinates.x,\r\n//       y: coordinates.y,\r\n//     };\r\n//   },\r\n//\r\n//   _imagePointToCanvasPoint(x, y) {\r\n//     const point = new OpenSeadragon.Point(x, y);\r\n//     return this.viewer.viewport.imageToViewerElementCoordinates(point);\r\n//   },\r\n//\r\n//   update() {\r\n//     // console.log(\"update called\", this.annotations)\r\n//     if (this.ctx == null) return;\r\n//\r\n//     const { ctx } = this;\r\n//     if (this._lastUpdate > Date.now() - (this.elementsOnScreen.length / 5)) {\r\n//       return;\r\n//     }\r\n//     ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n//     if (this.annotations == null) {\r\n//       return;\r\n//     }\r\n//\r\n//     const viewportMin = this._viewportLocation.min;\r\n//     const viewportMax = this._viewportLocation.max;\r\n//     this.elementsOnScreen = [];\r\n//     this.annotations.forEach((annotation) => {\r\n//       if (this.filtering[annotation.label.name] && annotation.geometry != null) {\r\n//         // We will only draw when the label of the element isn't filter out\r\n//         const firstPoint = annotation.geometry.points[0];\r\n//         if ((firstPoint.x > viewportMin.x && firstPoint.x < viewportMax.x)\r\n//           && (firstPoint.y > viewportMin.y && firstPoint.y < viewportMax.y)) {\r\n//           this._draw_annotation(annotation);\r\n//           this.elementsOnScreen.push(annotation);\r\n//         }\r\n//       }\r\n//     });\r\n//     if (this.currently_drawing != null) {\r\n//       this._draw_annotation(this.currently_drawing);\r\n//     }\r\n//\r\n//     // We are editing a element, let's draw the controls\r\n//     if (this.currently_editing != null) {\r\n//       this.currently_editing.draw(ctx);\r\n//     }\r\n//\r\n//     if (typeof this.new_tool.draw === 'function') {\r\n//       this.new_tool.draw(ctx);\r\n//     }\r\n//\r\n//     this._lastUpdate = Date.now();\r\n//   },\r\n//\r\n//   _draw_annotation(annotation) {\r\n//     switch (annotation.geometry.type) {\r\n//       case 'polygon':\r\n//         this._update_polygon(annotation);\r\n//         break;\r\n//       case 'rect':\r\n//         this._update_rect(annotation);\r\n//         break;\r\n//       case 'circle':\r\n//         this._update_circle(annotation);\r\n//         break;\r\n//       case 'brush':\r\n//         this._update_brush(annotation);\r\n//         break;\r\n//     }\r\n//   },\r\n//\r\n//   _gen_color(rgb) {\r\n//     return `${rgb[0]}, ${rgb[1]}, ${rgb[2]}`;\r\n//   },\r\n//\r\n//   _update_polygon(annotation, color) {\r\n//     const { ctx } = this;\r\n//     const { points } = annotation.geometry;\r\n//     const color_code = this._gen_color(color == null ? annotation.label.color : color);\r\n//     const path = this._update_path(points);\r\n//\r\n//     const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y);\r\n//     path.lineTo(startPoint.x, startPoint.y);\r\n//     annotation.meta.path = path;\r\n//     ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`;\r\n//     ctx.strokeStyle = `rgb(${color_code})`;\r\n//     ctx.lineWidth = this.drawingStyle.line_weight;\r\n//     ctx.fill(path);\r\n//     ctx.stroke(path);\r\n//   },\r\n//\r\n//   _update_rect(annotation, color) {\r\n//     // console.log(rect_data)\r\n//     const { ctx } = this;\r\n//     const position = this._imagePointToCanvasPoint(annotation.geometry.points[0].x, annotation.geometry.points[0].y);\r\n//     const limits = this._imagePointToCanvasPoint(annotation.geometry.points[1].x, annotation.geometry.points[1].y);\r\n//     const color_code = this._gen_color(color == null ? annotation.label.color : color);\r\n//     ctx.beginPath();\r\n//     ctx.rect(position.x, position.y, limits.x - position.x, limits.y - position.y);\r\n//     annotation.meta._canvas_points = [position, limits];\r\n//     // console.log(\"_update_rect\", position.x, position.y, position.x - limits.x, position.y - limits.y)\r\n//     ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`;\r\n//     ctx.strokeStyle = `rgb(${color_code})`;\r\n//     ctx.lineWidth = this.drawingStyle.line_weight;\r\n//     ctx.fill();\r\n//     ctx.stroke();\r\n//   },\r\n//\r\n//   _update_circle(annotation) {\r\n//     const { ctx } = this;\r\n//     const color_code = this._gen_color(annotation.label.color);\r\n//     ctx.beginPath();\r\n//     const position = this._imagePointToCanvasPoint(annotation.geometry.points[0].x, annotation.geometry.points[0].y);\r\n//     const radius = this._imagePointToCanvasPoint(annotation.geometry.points[1].x, annotation.geometry.points[1].y);\r\n//     const radiusX = Math.abs(position.x - radius.x);\r\n//     const radiusY = Math.abs(position.y - radius.y);\r\n//     annotation.meta._canvas_points = [\r\n//       {\r\n//         x: position.x - radiusX,\r\n//         y: position.y - radiusY,\r\n//       },\r\n//       {\r\n//         x: position.x + radiusX,\r\n//         y: position.y + radiusY,\r\n//       },\r\n//     ];\r\n//     ctx.ellipse(position.x, position.y, radiusX, radiusY, 0, 2 * Math.PI, 0, false);\r\n//     ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`;\r\n//     ctx.strokeStyle = `rgb(${color_code})`;\r\n//     ctx.lineWidth = this.drawingStyle.line_weight;\r\n//     ctx.fill();\r\n//     ctx.stroke();\r\n//   },\r\n//\r\n//   _update_path(points) {\r\n//     const path = new Path2D();\r\n//     const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y);\r\n//     path.moveTo(startPoint.x, startPoint.y);\r\n//     points.forEach((point) => {\r\n//       const canvasPos = this._imagePointToCanvasPoint(point.x, point.y);\r\n//       path.lineTo(canvasPos.x, canvasPos.y);\r\n//     });\r\n//     // path.closePath()\r\n//     return path;\r\n//   },\r\n//\r\n//   _update_brush(annotation) {\r\n//     const { ctx } = this;\r\n//     const { points } = annotation.geometry;\r\n//     const color_code = this._gen_color(annotation.label.color);\r\n//     // console.log(\"lineWidth\", lineWidth)\r\n//     ctx.lineWidth = this._imagePointToCanvasPoint(annotation.geometry.size, 0).x - this._imagePointToCanvasPoint(0, 0).x;\r\n//     ctx.lineCap = 'round';\r\n//     ctx.lineJoin = 'round';\r\n//     ctx.strokeStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`;\r\n//\r\n//     const path = this._update_path(points);\r\n//\r\n//     annotation.meta.path = path;\r\n//     ctx.stroke(path);\r\n//   },\r\n//\r\n//   set_canvas_pan(enabled) {\r\n//     this.viewer.panHorizontal = enabled;\r\n//     this.viewer.panVertical = enabled;\r\n//   },\r\n//\r\n//   peep(annotation) {\r\n//     const { viewer } = this;\r\n//     let xmin = 10000000;\r\n//     let xmax = -1;\r\n//     let ymin = 10000000;\r\n//     let ymax = -1;\r\n//     annotation.geometry.points.forEach((coord) => {\r\n//       if (coord.x < xmin) xmin = coord.x;\r\n//       if (coord.x > xmax) xmax = coord.x;\r\n//       if (coord.y < ymin) ymin = coord.y;\r\n//       if (coord.y > ymax) ymax = coord.y;\r\n//     });\r\n//     const panTo = viewer.viewport.imageToViewportCoordinates((xmax + xmin) / 2, (ymax + ymin) / 2);\r\n//     console.log('panTo:', panTo, ' | ', xmin, xmax, ymin, ymax);\r\n//     viewer.viewport.panTo(panTo, false);\r\n//     const tiledImage = viewer.world.getItemAt(0);\r\n//     const yZoom = tiledImage.source.dimensions.y / (ymax - ymin);\r\n//     // const xZoom = viewer.viewport.getContainerSize().x / (xmax - xmin)\r\n//     const xZoom = tiledImage.source.dimensions.x / (xmax - xmin);\r\n//     const zoom = (yZoom < xZoom ? yZoom : xZoom);\r\n//     viewer.viewport.zoomTo(zoom - (zoom * 0.5), false);\r\n//     // console.log(\"targetZoom:\", targetZoom, tiledImage.source.dimensions.x, \"|\", viewer.viewport.getContainerSize().x)\r\n//   },\r\n//\r\n//   /**\r\n//    * Instantiate a SliceDrawer for the OpenSeadragon viewer.\r\n//    * Object interaction events can be listened using the callback parameter by passing a object as such:\r\n//    * {\r\n//    *     onHover: (element) => {} // mouse over element\r\n//    *     onLeave: (element) => {} // mouse left the element\r\n//    *     onClick: (element) => {} // mouse click on a element\r\n//    *     newElementDrawn: (element) => {} // new element was drawn\r\n//    * }\r\n//    *\r\n//    * @param Viewer the OpenSeadragon viewer instance\r\n//    * @param callback a object containing the required callbacks\r\n//    */\r\n//   init(Viewer, callback) {\r\n//     // Drawing canvas creation\r\n//\r\n//     // Create references:\r\n//\r\n//     this.tools = {\r\n//       polygon: () => polygonTool.init(this),\r\n//       free: () => freeTool.init(this),\r\n//       rect: () => rectTool.init(this),\r\n//       circle: () => circleTool.init(this),\r\n//       brush: () => brushTool.init(this),\r\n//       ruler: () => rulerTool.init(this),\r\n//       none: () => nullTool.init(this),\r\n//     };\r\n//     this.tool = this.enabled ? 'polygon' : 'none';\r\n//\r\n//     this.resize(Viewer.canvas.width, Viewer.canvas.height);\r\n//   },\r\n// };\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=style&index=0&id=6e566028&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewer.vue?vue&type=style&index=0&id=6ec4834d&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=style&index=0&id=4f6dfeeb&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionClassBalance.vue?vue&type=style&index=0&id=3f902a78&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewerRuler.vue?vue&type=style&index=0&id=7b171464&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"seadragon-viewer\"}}),_c('div',{staticClass:\"drawing-tool-container\"},[_c('div',{staticClass:\"tool-item\"},[(_vm.task_type === 0)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-menu',{attrs:{\"top\":\"\",\"close-on-click\":true,\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"color\":(\"rgb(\" + (_vm.selectedLabel.color[0]) + \",\" + (_vm.selectedLabel.color[1]) + \",\" + (_vm.selectedLabel.color[2]) + \")\"),\"size\":\"26\"}}),_vm._v(\"\\n              \"+_vm._s(_vm.selectedLabel.name)+\"\\n            \")],1)]}}],null,false,1061530642)},[_c('v-list',_vm._l((_vm.labels),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.selectedLabel = item}}},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":(\"rgb(\" + (item.color[0]) + \",\" + (item.color[1]) + \",\" + (item.color[2]) + \")\"),\"size\":\"26\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1)],1)}),1)],1)],1):_vm._e(),(_vm.drawer)?_c('v-divider'):_vm._e(),(_vm.annotationDrawer != null && _vm.annotationDrawer.isDrawingEnabled && _vm.editing.element == null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'none' === _vm.annotationDrawer.tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.annotationDrawer.tool = 'none'}}},[_c('v-icon',[_vm._v(\"mdi-cursor-default\")])],1),(_vm.drawer)?_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'polygon' === _vm.annotationDrawer.tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.annotationDrawer.tool = 'polygon'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polygon\")])],1):_vm._e(),(_vm.drawer)?_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'rect' === _vm.annotationDrawer.tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.annotationDrawer.tool = 'rect'}}},[_c('v-icon',[_vm._v(\"mdi-vector-rectangle\")])],1):_vm._e(),(_vm.drawer)?_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'circle' === _vm.annotationDrawer.tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.annotationDrawer.tool = 'circle'}}},[_c('v-icon',[_vm._v(\"mdi-circle-outline\")])],1):_vm._e(),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'ruler' === _vm.annotationDrawer.tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.annotationDrawer.tool = 'ruler'}}},[_c('v-icon',[_vm._v(\"mdi-ruler\")])],1)],1):_vm._e()],1),(_vm.state_restorer.showing)?_c('div',{staticClass:\"tool-item\"},[_c('v-slider',{attrs:{\"step\":\"1\",\"dense\":\"\",\"hide-details\":\"\",\"max\":_vm.state_restorer.max_undo,\"label\":\"Undo\"},model:{value:(_vm.state_restorer.undo),callback:function ($$v) {_vm.$set(_vm.state_restorer, \"undo\", $$v)},expression:\"state_restorer.undo\"}})],1):_vm._e(),(_vm.info.length > 0)?_c('div',{staticClass:\"tool-item\"},_vm._l((_vm.info),function(instruction){return _c('p',{key:instruction,staticClass:\"instruction-item\"},[_vm._v(\"\\n        \"+_vm._s(instruction)+\"\\n      \")])}),0):_vm._e()]),_c('div',{staticClass:\"toolbox navigation-toolbox\"},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"thumb-label\":\"\",\"dense\":\"\",\"max\":40,\"min\":\"0.5\",\"step\":\"0\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n        \"+_vm._s(value.toFixed(2))+\"\\n      \")]}}]),model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}}),_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 1}}},[_vm._v(\"1x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 2}}},[_vm._v(\"2x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 10}}},[_vm._v(\"10x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 20}}},[_vm._v(\"20x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 40}}},[_vm._v(\"40x\")])],1)],1),_c('div',{staticClass:\"toolbox ruler transparent\"},[_c('SliceViewerRuler',{attrs:{\"value\":_vm.viewportLocation,\"pixel-density\":_vm.pixel_density}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{staticClass:\"ruler-renderer\",attrs:{\"id\":\"ruler-canvas\",\"width\":\"80\",\"height\":\"10\"}}),_c('div',{staticClass:\"ruler-text\"},[_vm._v(_vm._s((_vm.pixelDensity * this.bar_size).toFixed(2))+\"µm\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <canvas id=\"ruler-canvas\" class=\"ruler-renderer\" width=\"80\" height=\"10\"></canvas>\n    <div class=\"ruler-text\">{{ (pixelDensity * this.bar_size).toFixed(2) }}µm</div>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nexport default {\n  name: 'WSIViewerRuler',\n  watch: {\n    pixelDensity: {\n      immediate: true,\n      handler() {\n        // const max = (new_value * 80)\n        this.updateRuler();\n        // const desiredValue = max - ((max-10)%10)\n        // console.log(\"desired:\", desiredValue)\n        // this.snapped_value = desiredValue\n        // this.bar_size = 100 - (((max-desiredValue)+desiredValue) % 100)\n        // this.bar_size = 100 - (max % 100)\n      },\n    },\n    bar_size() {\n      this.updateRuler();\n    },\n  },\n  computed: {},\n  data: () => ({\n    bar_size: 80,\n  }),\n  methods: {\n    // eslint-disable-next-line func-names\n    updateRuler: _.debounce(function () {\n      if (this.ctx == null) return;\n      this.ctx.clearRect(0, 0, this.canvas.clientWidth, this.canvas.clientHeight);\n      this.ctx.beginPath();\n      this.ctx.moveTo(80, 5);\n      this.ctx.lineTo(80 - this.bar_size, 5);\n      this.ctx.stroke();\n      // this.ctx.fillText(\"50cm\", 50, 10)\n      this.ctx.beginPath();\n      this.ctx.moveTo(80, 0);\n      this.ctx.lineTo(80, 10);\n      this.ctx.stroke();\n      this.ctx.beginPath();\n      this.ctx.moveTo(80 - this.bar_size, 0);\n      this.ctx.lineTo(80 - this.bar_size, 10);\n      this.ctx.stroke();\n    }, 0),\n  },\n  mounted() {\n    this.canvas = document.getElementById('ruler-canvas');\n    this.ctx = this.canvas.getContext('2d');\n    this.canvas.onwheel = (evt) => {\n      const delta = evt.deltaY * -0.05;\n      this.bar_size = Math.max(Math.min(this.bar_size + delta, 80), 10);\n    };\n  },\n  props: ['value', 'pixelDensity'],\n};\n</script>\n\n<style scoped>\n.ruler-renderer {\n  width: 100px;\n  height: 10px;\n  position: absolute;\n  right: 8px;\n\n}\n\n.ruler-text {\n  width: 100%;\n  text-align: center;\n  font-size: 12px;\n  position: relative;\n  right: 0;\n  top: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewerRuler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewerRuler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WSIViewerRuler.vue?vue&type=template&id=7b171464&scoped=true&\"\nimport script from \"./WSIViewerRuler.vue?vue&type=script&lang=js&\"\nexport * from \"./WSIViewerRuler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WSIViewerRuler.vue?vue&type=style&index=0&id=7b171464&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b171464\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div id=\"seadragon-viewer\"/>\r\n\r\n    <div class=\"drawing-tool-container\">\r\n\r\n      <div class=\"tool-item\">\r\n        <div class=\"zoom-shortcuts\" v-if=\"task_type === 0\" >\r\n          <v-menu top :close-on-click=\"true\" offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn text v-bind=\"attrs\" v-on=\"on\">\r\n                <v-avatar\r\n                    class=\"mr-2\"\r\n                    :color=\"`rgb(${selectedLabel.color[0]},${selectedLabel.color[1]},${selectedLabel.color[2]})`\"\r\n                    size=\"26\"/>\r\n                {{ selectedLabel.name }}\r\n              </v-btn>\r\n            </template>\r\n            <v-list>\r\n              <v-list-item @click=\"selectedLabel = item\"\r\n                           v-for=\"(item, index) in labels\" :key=\"index\">\r\n                <v-list-item-avatar>\r\n                  <v-avatar :color=\"`rgb(${item.color[0]},${item.color[1]},${item.color[2]})`\"\r\n                            size=\"26\"/>\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </div>\r\n\r\n        <v-divider v-if=\"drawer\"></v-divider>\r\n        <div v-if=\"annotationDrawer != null && annotationDrawer.isDrawingEnabled && editing.element == null\"\r\n             class=\"zoom-shortcuts\">\r\n          <v-btn text icon\r\n                 @click=\"annotationDrawer.tool = 'none'\"\r\n                 :color=\"'none' === annotationDrawer.tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-cursor-default</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon @click=\"annotationDrawer.tool = 'polygon'\"\r\n                 :color=\"'polygon' === annotationDrawer.tool ? 'primary' : 'grey'\"\r\n                 v-if=\"drawer\">\r\n            <v-icon>mdi-vector-polygon</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon @click=\"annotationDrawer.tool = 'rect'\"\r\n                 :color=\"'rect' === annotationDrawer.tool ? 'primary' : 'grey'\"\r\n                 v-if=\"drawer\">\r\n            <v-icon>mdi-vector-rectangle</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"annotationDrawer.tool = 'circle'\"\r\n                 :color=\"'circle' === annotationDrawer.tool ? 'primary' : 'grey'\"\r\n                 v-if=\"drawer\">\r\n            <v-icon>mdi-circle-outline</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"annotationDrawer.tool = 'ruler'\"\r\n                 :color=\"'ruler' === annotationDrawer.tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-ruler</v-icon>\r\n          </v-btn>\r\n\r\n          <!--          <v-btn text icon-->\r\n          <!--                 @click=\"annotationDrawer.tool = 'free'\"-->\r\n          <!--                 :color=\"'free' === annotationDrawer.tool ? 'primary' : 'grey'\">-->\r\n          <!--            <v-icon>mdi-lead-pencil</v-icon>-->\r\n          <!--          </v-btn>-->\r\n\r\n          <!--          <v-btn text icon-->\r\n          <!--                 @click=\"selectedTool = 'brush'\"-->\r\n          <!--                 :color=\"'brush' === selectedTool ? 'primary' : 'grey'\">-->\r\n          <!--            <v-icon>mdi-brush</v-icon>-->\r\n          <!--          </v-btn>-->\r\n\r\n        </div>\r\n\r\n        <!--        <div v-if=\"editing.element != null\" class=\"zoom-shortcuts\">-->\r\n\r\n        <!--          <v-btn text icon-->\r\n        <!--                 @click=\"editing.mode = 'mover'\"-->\r\n        <!--                 :color=\"'mover' === editing.mode ? 'primary' : 'grey'\">-->\r\n        <!--            <v-icon>mdi-vector-polyline-edit</v-icon>-->\r\n        <!--          </v-btn>-->\r\n        <!--          <v-btn text icon-->\r\n        <!--                 @click=\"editing.mode = 'eraser'\"-->\r\n        <!--                 :color=\"'eraser' === editing.mode ? 'primary' : 'grey'\">-->\r\n        <!--            <v-icon>mdi-vector-polyline-minus</v-icon>-->\r\n        <!--          </v-btn>-->\r\n        <!--          <v-btn text icon-->\r\n        <!--                 @click=\"editing.mode = 'creator'\"-->\r\n        <!--                 :color=\"'creator' === editing.mode ? 'primary' : 'grey'\">-->\r\n        <!--            <v-icon>mdi-vector-polyline-plus</v-icon>-->\r\n        <!--          </v-btn>-->\r\n        <!--          <v-btn text icon-->\r\n        <!--                 @click=\"editing.mode = 'free'\"-->\r\n        <!--                 :color=\"'free' === editing.mode ? 'primary' : 'grey'\">-->\r\n        <!--            <v-icon>mdi-lead-pencil</v-icon>-->\r\n        <!--          </v-btn>-->\r\n        <!--        </div>-->\r\n        <!--      </div>-->\r\n\r\n      </div>\r\n      <div v-if=\"state_restorer.showing\" class=\"tool-item\">\r\n        <v-slider step=\"1\" dense hide-details\r\n                  v-model=\"state_restorer.undo\" :max=\"state_restorer.max_undo\"\r\n                  label=\"Undo\"/>\r\n      </div>\r\n\r\n      <div class=\"tool-item\" v-if=\"info.length > 0\">\r\n        <p class=\"instruction-item\" v-for=\"instruction in info\" :key=\"instruction\">\r\n          {{ instruction }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"toolbox navigation-toolbox\">\r\n      <v-slider hide-details thumb-label dense v-model=\"zoom\" :max=\"40\" min=\"0.5\" step=\"0\">\r\n        <template v-slot:thumb-label=\"{ value }\">\r\n          {{ value.toFixed(2) }}\r\n        </template>\r\n      </v-slider>\r\n      <div class=\"zoom-shortcuts\">\r\n        <v-btn text icon @click=\"zoom = 1\">1x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 2\">2x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 10\">10x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 20\">20x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 40\">40x</v-btn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"toolbox ruler transparent\">\r\n      <SliceViewerRuler :value=\"viewportLocation\" :pixel-density=\"pixel_density\"></SliceViewerRuler>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OpenSeadragon from 'openseadragon';\r\nimport { AnnotationDrawer, RectAnnotationTool, PolygonAnnotationTool } from '@/SliceDrawer';\r\nimport WSIViewerRuler from './WSIViewerRuler';\r\n\r\nexport default {\r\n  name: 'WSIViewer',\r\n  components: { SliceViewerRuler: WSIViewerRuler },\r\n  computed: {\r\n    task_type() {\r\n      return this.$store.state.session.type;\r\n    },\r\n    pixel_density() {\r\n      // console.log(\"calculating pixel_density\")\r\n      if (this.viewportLocation == null || this.slideProperties == null) return 0;\r\n      const imgPixels = this.viewportLocation.right - this.viewportLocation.left;\r\n      const imgPixelPerCanvasPixel = imgPixels / this.annotationDrawer.ctx.canvas.width;\r\n      // why are we off by this amount? this is some seriously shade stuff:\r\n      return (this.slideProperties.pixel_width * imgPixelPerCanvasPixel) * 1.2;\r\n    },\r\n  },\r\n\r\n  data: () => ({\r\n    selectedLabel: null,\r\n    labeled_regions: [],\r\n    // selectedTool: 'polygon',\r\n    editor_tool: '',\r\n    zoom: 0,\r\n    viewportLocation: null,\r\n    annotationDrawer: null,\r\n    editing: {\r\n      element: null,\r\n      mode: 'mover',\r\n    },\r\n    state_restorer: {\r\n      showing: false,\r\n      undo: 0,\r\n      max_undo: 0,\r\n    },\r\n    info: [],\r\n  }),\r\n  watch: {\r\n    drawer() {\r\n      // Changes on the drawer will immediately reset the current tool to none.\r\n      if (this.annotationDrawer != null) {\r\n        this.annotationDrawer.tool = null;\r\n      }\r\n    },\r\n    value: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        this.labeled_regions = newValue;\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.annotations = newValue;\r\n          newValue.forEach((annotation) => {\r\n            annotation.drawer = this.annotationDrawer;\r\n          });\r\n        }\r\n      },\r\n    },\r\n    task_type: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.isDrawingEnabled = newValue === 0;\r\n        }\r\n      },\r\n    },\r\n    labels: {\r\n      immediate: true,\r\n      handler(newLabels) {\r\n        this.selectedLabel = newLabels[0];\r\n      },\r\n    },\r\n    labelsVisibility: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newVisibility) {\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.filtering = newVisibility;\r\n          this.annotationDrawer.refresh();\r\n        }\r\n      },\r\n    },\r\n    selectedLabel: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.label = newValue;\r\n        }\r\n        // if (this.annotationDrawer != null) {\r\n        //   this.annotationDrawer.currentLabel = newValue;\r\n        // }\r\n        // if (this.editing.element != null) {\r\n        //   // this.editing.element.data.color = new_value.color\r\n        //   this.annotationDrawer.refresh();\r\n        // }\r\n      },\r\n    },\r\n    // selectedTool(tool) {\r\n    //   if (this.annotationDrawer != null) {\r\n    //     if (tool === 'polygon') {\r\n    //       this.annotationDrawer.tool = PolygonAnnotationTool;\r\n    //     } else if (tool === 'rect') {\r\n    //       this.annotationDrawer.tool = RectAnnotationTool;\r\n    //     }\r\n    //\r\n    //   }\r\n    // },\r\n    zoom(newZoom) {\r\n      const { viewer } = this;\r\n      if (viewer != null && !this.no_model_action) {\r\n        viewer.viewport.zoomTo(newZoom);\r\n      }\r\n      this.no_model_action = false;\r\n    },\r\n    drawingStyle: {\r\n      deep: true,\r\n      handler(newStyle) {\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.style = newStyle;\r\n          this.annotationDrawer.refresh();\r\n        }\r\n      },\r\n    },\r\n    'editing.mode': function (value) {\r\n      // SliceDrawer.editorMode = value;\r\n    },\r\n    'state_restorer.undo': function (value) {\r\n      if (!this.no_model_action) {\r\n        // SliceDrawer.stateRestorer.restoreToPoint(value);\r\n      }\r\n      this.no_model_action = false;\r\n    },\r\n    tileSources(value) {\r\n      this.viewer.open(value);\r\n    },\r\n    slideProperties: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue) {\r\n        if (this.annotationDrawer != null) {\r\n          this.annotationDrawer.pixelWidth = newValue.pixel_width;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    editElement(annotation) {\r\n      // this.editing.element = element;\r\n      this.no_model_action = true;\r\n      this.annotationDrawer.editAnnotation(annotation);\r\n    },\r\n    concludeEdit() {\r\n      // this.editing.element = element\r\n      // this.no_model_action = true\r\n      this.annotationDrawer.concludeEdit();\r\n    },\r\n    cancelEdit() {\r\n      this.annotationDrawer.cancelEdit();\r\n    },\r\n    peepAnnotation(annotation) {\r\n      this.annotationDrawer.peep(annotation);\r\n    },\r\n    update() {\r\n      this.annotationDrawer.update();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      const viewer = OpenSeadragon({\r\n        id: 'seadragon-viewer',\r\n        tileSources: this.tileSources,\r\n        showNavigator: true,\r\n        navigatorPosition: 'TOP_RIGHT',\r\n        navigatorRight: '16px',\r\n        navigatorBottom: '16px',\r\n        navigatorHeight: '120px',\r\n        navigatorWidth: '145px',\r\n        showNavigationControl: false,\r\n        gestureSettingsMouse: {\r\n          clickToZoom: false,\r\n        },\r\n      });\r\n\r\n      const delegateCallback = (callback, ...args) => {\r\n        if (callback != null) {\r\n          callback(...args);\r\n        }\r\n      };\r\n\r\n      this.viewer = viewer;\r\n      this.annotationDrawer = new AnnotationDrawer(viewer, {\r\n        onViewportChanged: (viewport) => {\r\n          this.viewportLocation = viewport;\r\n          delegateCallback(this.drawEvents.onViewportChanged, viewport);\r\n        },\r\n        onHover: (element) => {\r\n          delegateCallback(this.drawEvents.onHover, element);\r\n          // if (this.drawEvents != null && this.drawEvents.onHover != null)\r\n          //     this.drawEvents.onHover(element)\r\n        },\r\n        onLeave: (element) => {\r\n          delegateCallback(this.drawEvents.onLeave, element);\r\n        },\r\n        onClick: (element) => {\r\n          delegateCallback(this.drawEvents.onClick, element);\r\n        },\r\n        onStateRestorerEvent: (stateRestorer) => {\r\n          this.no_model_action = true;\r\n          if (stateRestorer != null) {\r\n            this.state_restorer.showing = true;\r\n            this.state_restorer.max_undo = stateRestorer.states.length - 1;\r\n            this.state_restorer.undo = stateRestorer.current_state_point;\r\n          } else {\r\n            this.state_restorer.showing = false;\r\n          }\r\n          delegateCallback(this.drawEvents.onStateRestorerEvent, stateRestorer);\r\n        },\r\n        onEditingEvent: () => {\r\n          this.no_model_action = true;\r\n          const lastStateIndex = this.annotationDrawer.currently_editing.history.length - 1;\r\n          this.editing.max_undo = lastStateIndex;\r\n          this.editing.undo = lastStateIndex;\r\n          delegateCallback(this.drawEvents.onEditingEvent);\r\n        },\r\n        onFinishNewDrawing: (annotation) => {\r\n          // Creating a new label object:\r\n          this.$emit('new-draw', annotation);\r\n        },\r\n        onInfoUpdate: (messages) => {\r\n          this.info = messages;\r\n        },\r\n        onFinishedEditing: (changed, annotation) => {\r\n          this.annotationDrawer.tool = null;\r\n          if (changed) {\r\n            this.$emit('edit-draw', annotation);\r\n          }\r\n          this.editing.element = null;\r\n          delegateCallback(this.drawEvents.onFinishedEditing, changed, annotation);\r\n        },\r\n      });\r\n      const self = this.annotationDrawer;\r\n      if (this.value != null) {\r\n        this.value.forEach((annotation) => {\r\n          annotation.drawer = self;\r\n        });\r\n      }\r\n      this.annotationDrawer.annotations = this.value;\r\n      this.annotationDrawer.tool = 'pointer';\r\n      this.annotationDrawer.filtering = this.labelsVisibility;\r\n      this.annotationDrawer.label = this.selectedLabel;\r\n      this.annotationDrawer.pixelWidth = this.slideProperties.pixel_width;\r\n      this.annotationDrawer.update();\r\n      this.viewer.addHandler('zoom', (e) => {\r\n        this.no_model_action = true; // don't let the zoom listener take action\r\n        this.zoom = e.zoom;\r\n      });\r\n      this.no_model_action = false;\r\n    });\r\n  },\r\n  props: {\r\n    drawer: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    labels: { type: Array },\r\n    value: { type: Array },\r\n    tileSources: { type: String },\r\n    labelsVisibility: { type: Object },\r\n    drawingStyle: { type: Object },\r\n    drawEvents: {},\r\n    slideProperties: { type: Object },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#seadragon-viewer {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.toolbox {\r\n  position: absolute;\r\n  border-radius: 8px;\r\n  background-color: #f1f1f1;\r\n  padding: 8px;\r\n}\r\n\r\n.transparent {\r\n  background-color: transparent;\r\n}\r\n\r\n.ruler {\r\n  right: 32px;\r\n  bottom: 16px;\r\n}\r\n\r\n.drawing-tool-container {\r\n  position: absolute;\r\n  left: 16px;\r\n  bottom: 16px;\r\n  height: 500px;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n}\r\n\r\n.tool-item {\r\n  flex-flow: column;\r\n  border-radius: 8px;\r\n  background-color: #f1f1f1;\r\n  padding: 8px;\r\n  margin-top: 4px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.instruction-item {\r\n  font-size: small;\r\n  font-weight: normal;\r\n  width: 100%;\r\n  margin: 0;\r\n}\r\n\r\n.navigation-toolbox {\r\n  width: 200px;\r\n  bottom: 16px;\r\n  margin: 0 auto;\r\n  left: calc(50% - 100px);\r\n}\r\n\r\n.zoom-shortcuts {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WSIViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WSIViewer.vue?vue&type=template&id=6ec4834d&scoped=true&\"\nimport script from \"./WSIViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./WSIViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WSIViewer.vue?vue&type=style&index=0&id=6ec4834d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ec4834d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAvatar,VBtn,VDivider,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemTitle,VMenu,VSlider})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=style&index=0&id=73d20e91&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view',{attrs:{\"name\":\"app_bar\"}}),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"\\n        Welcome to Vuetify\\n      \")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\"\\n        For help and collaboration with other Vuetify developers,\\n        \"),_c('br'),_vm._v(\"please join our online\\n        \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        What's next?\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(next.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Important Links\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(link.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Ecosystem\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(eco.text)+\"\\n        \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row class=\"text-center\">\r\n      <v-col cols=\"12\">\r\n        <v-img\r\n          :src=\"require('../assets/logo.svg')\"\r\n          class=\"my-3\"\r\n          contain\r\n          height=\"200\"\r\n        />\r\n      </v-col>\r\n\r\n      <v-col class=\"mb-4\">\r\n        <h1 class=\"display-2 font-weight-bold mb-3\">\r\n          Welcome to Vuetify\r\n        </h1>\r\n\r\n        <p class=\"subheading font-weight-regular\">\r\n          For help and collaboration with other Vuetify developers,\r\n          <br>please join our online\r\n          <a\r\n            href=\"https://community.vuetifyjs.com\"\r\n            target=\"_blank\"\r\n          >Discord Community</a>\r\n        </p>\r\n      </v-col>\r\n\r\n      <v-col\r\n        class=\"mb-5\"\r\n        cols=\"12\"\r\n      >\r\n        <h2 class=\"headline font-weight-bold mb-3\">\r\n          What's next?\r\n        </h2>\r\n\r\n        <v-row justify=\"center\">\r\n          <a\r\n            v-for=\"(next, i) in whatsNext\"\r\n            :key=\"i\"\r\n            :href=\"next.href\"\r\n            class=\"subheading mx-3\"\r\n            target=\"_blank\"\r\n          >\r\n            {{ next.text }}\r\n          </a>\r\n        </v-row>\r\n      </v-col>\r\n\r\n      <v-col\r\n        class=\"mb-5\"\r\n        cols=\"12\"\r\n      >\r\n        <h2 class=\"headline font-weight-bold mb-3\">\r\n          Important Links\r\n        </h2>\r\n\r\n        <v-row justify=\"center\">\r\n          <a\r\n            v-for=\"(link, i) in importantLinks\"\r\n            :key=\"i\"\r\n            :href=\"link.href\"\r\n            class=\"subheading mx-3\"\r\n            target=\"_blank\"\r\n          >\r\n            {{ link.text }}\r\n          </a>\r\n        </v-row>\r\n      </v-col>\r\n\r\n      <v-col\r\n        class=\"mb-5\"\r\n        cols=\"12\"\r\n      >\r\n        <h2 class=\"headline font-weight-bold mb-3\">\r\n          Ecosystem\r\n        </h2>\r\n\r\n        <v-row justify=\"center\">\r\n          <a\r\n            v-for=\"(eco, i) in ecosystem\"\r\n            :key=\"i\"\r\n            :href=\"eco.href\"\r\n            class=\"subheading mx-3\"\r\n            target=\"_blank\"\r\n          >\r\n            {{ eco.text }}\r\n          </a>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HelloWorld',\r\n\r\n  data: () => ({\r\n    ecosystem: [\r\n      {\r\n        text: 'vuetify-loader',\r\n        href: 'https://github.com/vuetifyjs/vuetify-loader',\r\n      },\r\n      {\r\n        text: 'github',\r\n        href: 'https://github.com/vuetifyjs/vuetify',\r\n      },\r\n      {\r\n        text: 'awesome-vuetify',\r\n        href: 'https://github.com/vuetifyjs/awesome-vuetify',\r\n      },\r\n    ],\r\n    importantLinks: [\r\n      {\r\n        text: 'Documentation',\r\n        href: 'https://vuetifyjs.com',\r\n      },\r\n      {\r\n        text: 'Chat',\r\n        href: 'https://community.vuetifyjs.com',\r\n      },\r\n      {\r\n        text: 'Made with Vuetify',\r\n        href: 'https://madewithvuejs.com/vuetify',\r\n      },\r\n      {\r\n        text: 'Twitter',\r\n        href: 'https://twitter.com/vuetifyjs',\r\n      },\r\n      {\r\n        text: 'Articles',\r\n        href: 'https://medium.com/vuetify',\r\n      },\r\n    ],\r\n    whatsNext: [\r\n      {\r\n        text: 'Explore components',\r\n        href: 'https://vuetifyjs.com/components/api-explorer',\r\n      },\r\n      {\r\n        text: 'Select a layout',\r\n        href: 'https://vuetifyjs.com/getting-started/pre-made-layouts',\r\n      },\r\n      {\r\n        text: 'Frequently Asked Questions',\r\n        href: 'https://vuetifyjs.com/getting-started/frequently-asked-questions',\r\n      },\r\n    ],\r\n  }),\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=4fc377a7&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","<template>\r\n    <v-app>\r\n        <router-view name=\"app_bar\"></router-view>\r\n        <v-main>\r\n            <router-view></router-view>\r\n        </v-main>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport HelloWorld from './components/HelloWorld';\r\n\r\nexport default {\r\n  name: 'App',\r\n\r\n  components: {\r\n    HelloWorld,\r\n  },\r\n\r\n  data: () => ({\r\n    //\r\n  }),\r\n};\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=52c3d386&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    session: null,\r\n    user: null,\r\n    token: null,\r\n  },\r\n  mutations: {\r\n    set_session(state, session) {\r\n      state.session = session;\r\n    },\r\n\r\n    login(state, login_data) {\r\n      state.token = login_data.token;\r\n      state.user = login_data.user;\r\n    },\r\n    logout(state) {\r\n      state.token = null;\r\n      state.user = null;\r\n    },\r\n  },\r\n  actions: {},\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('HelloWorld',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home\">\r\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\r\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport HelloWorld from '@/components/HelloWorld.vue';\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    HelloWorld,\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=328096ec&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('loading',{attrs:{\"is-loading\":_vm.loading}},[(_vm.tasks != null)?_c('v-container',{attrs:{\"grid-list-sm\":\"\"}},[_c('v-scale-transition',[(_vm.tasks.annotation_status != null)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\"}},[_c('task-status-overview',{attrs:{\"status\":_vm.tasks.annotation_status},on:{\"start-session\":_vm.startTask}},[_vm._v(\"\\n            Slide Annotation Progress\\n          \")])],1),_c('v-col',{attrs:{\"md\":\"6\"}},[_c('task-status-overview',{attrs:{\"status\":_vm.tasks.review_status},on:{\"start-session\":_vm.startTask}},[_vm._v(\"\\n            Annotation Revision Progress\\n          \")])],1)],1):_vm._e()],1),(_vm.tasks.annotations != null && _vm.tasks.annotations.length > 0)?_c('v-row',[_c('v-subheader',{staticClass:\"text-h4 mt-2\"},[_vm._v(\"Segmentation and annotation tasks\")])],1):_vm._e(),(_vm.tasks.annotations != null && _vm.tasks.annotations.length > 0)?_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"headers\":_vm.annotation_headers,\"items\":_vm.tasks.annotations},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.slides),function(slide){return _c('v-chip',{key:slide.id,staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(slide.name)+\"\\n              \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{key:user.id,staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(user.name)+\"\\n              \")])}),1)]}},{key:\"item.completed\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('v-simple-checkbox',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"ripple\":false,\"value\":item.completed}}),(!item.completed)?_c('v-chip',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Remaining!\")]):_vm._e()],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"text\":\"\",\"color\":item.completed ? 'primary' : 'orange accent-4'},on:{\"click\":function($event){return _vm.startTask(item)}}},[_vm._v(\"Open image\\n            \")])]}}],null,false,3027707243)})],1)],1):_vm._e(),(_vm.tasks.review != null && _vm.tasks.review.length > 0)?_c('v-row',[_c('v-subheader',{staticClass:\"text-h4 mt-2\"},[_vm._v(\"Annotation revision tasks\")])],1):_vm._e(),(_vm.tasks.review != null && _vm.tasks.review.length > 0)?_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"headers\":_vm.review_headers,\"items\":_vm.tasks.review},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.task.task.slides),function(slide){return _c('v-chip',{key:slide.id,staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(slide.name)+\"\\n              \")])}),1)]}},{key:\"item.revisions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.revisions),function(revision){return _c('v-chip',{key:revision.id,staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(revision.user != null ? revision.user.name : revision.app.name)+\"\\n              \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{key:user.id,staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(user.name)+\"\\n              \")])}),1)]}},{key:\"item.completed\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('v-simple-checkbox',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"ripple\":false,\"value\":item.completed}}),(!item.completed)?_c('v-chip',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Remaining!\")]):_vm._e()],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"text\":\"\",\"color\":item.completed ? 'primary' : 'orange accent-4'},on:{\"click\":function($event){return _vm.startTask(item)}}},[_vm._v(\"Open\\n              Revision\\n            \")])]}}],null,false,3679809166)})],1)],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto\"},[_c('v-card-text',[_c('div',[_vm._t(\"default\")],2),(_vm.status.next != null && !_vm.taskCompleted)?_c('div',[_c('p',{staticClass:\"text-h4 text--primary\"},[_vm._v(\"\\n        \"+_vm._s(_vm.status.total - _vm.status.done)+\" remaining! You completed\\n        \"+_vm._s(_vm.status.done)+\" of \"+_vm._s(_vm.status.total)+\".\\n      \")]),_c('p',[_c('v-progress-linear',{attrs:{\"readonly\":\"\",\"value\":_vm.progress}})],1),(!_vm.taskCompleted)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.status.next.project.name))]),_c('div',{staticClass:\"text--primary\"},[_vm._v(\"\\n          Up next:\"),_c('br'),_vm._v(\"\\n          \"+_vm._s(_vm.status.next.name)+\"\\n        \")])]):_c('div',{staticClass:\"text--primary\"},[_vm._v(\"You have completed all the slides. You can continue to review them.\\n      \")])]):_c('div',[_c('p',{staticClass:\"text-h4 text--primary\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"orange accent-4\",\"size\":\"42\"}},[_vm._v(\"mdi-check-all\")]),_vm._v(\"\\n        All tasks completed!\\n      \")],1),(_vm.status.total > 0)?_c('div',{staticClass:\"text--primary\"},[_vm._v(\"You completed \"+_vm._s(_vm.status.done)+\" of \"+_vm._s(_vm.status.total)+\" tasks.\")]):_c('div',{staticClass:\"text--primary\"},[_vm._v(\"No tasks available yet\")])])]),_c('v-divider'),(_vm.status.next != null)?_c('v-card-actions',[(_vm.status.next != null)?_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\",\"color\":\"orange accent-4\",\"disabled\":_vm.status.next.completed},on:{\"click\":_vm.startSession}},[_vm._v(\"\\n      Continue\\n    \")]):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"mx-auto\">\r\n    <v-card-text>\r\n      <div>\r\n        <slot></slot>\r\n      </div>\r\n      <div v-if=\"status.next != null && !taskCompleted\">\r\n        <p class=\"text-h4 text--primary\">\r\n          {{ status.total - status.done }} remaining! You completed\r\n          {{ status.done }} of {{ status.total }}.\r\n        </p>\r\n        <p>\r\n          <v-progress-linear readonly :value=\"progress\"/>\r\n        </p>\r\n        <div v-if=\"!taskCompleted\">\r\n          <p>{{ status.next.project.name }}</p>\r\n          <div class=\"text--primary\">\r\n            Up next:<br>\r\n            {{ status.next.name }}\r\n          </div>\r\n        </div>\r\n        <div class=\"text--primary\" v-else>You have completed all the slides. You can continue to review them.\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"text-h4 text--primary\">\r\n          <v-icon class=\"mr-2\" color=\"orange accent-4\" size=\"42\">mdi-check-all</v-icon>\r\n          All tasks completed!\r\n        </p>\r\n        <div class=\"text--primary\" v-if=\"status.total > 0\">You completed {{ status.done }} of {{ status.total }} tasks.</div>\r\n        <div class=\"text--primary\" v-else>No tasks available yet</div>\r\n      </div>\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions v-if=\"status.next != null\">\r\n      <v-btn block text color=\"orange accent-4\"\r\n             v-if=\"status.next != null\"\r\n             :disabled=\"status.next.completed\"\r\n             @click=\"startSession\">\r\n        Continue\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TaskStatusOverview',\r\n  methods: {\r\n    startSession() {\r\n      this.$emit('start-session', this.status.next);\r\n    },\r\n  },\r\n  computed: {\r\n    progress() {\r\n      return (this.status.done / this.status.total) * 100;\r\n    },\r\n    taskCompleted() {\r\n      return this.status.done === this.status.total;\r\n    },\r\n  },\r\n  props: ['status'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskStatusOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskStatusOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskStatusOverview.vue?vue&type=template&id=6de0742e&scoped=true&\"\nimport script from \"./TaskStatusOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskStatusOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6de0742e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VDivider,VIcon,VProgressLinear})\n","<template>\r\n  <!--  <div v-if=\"tasks != null\">-->\r\n  <loading :is-loading=\"loading\">\r\n    <v-container grid-list-sm v-if=\"tasks != null\">\r\n      <v-scale-transition>\r\n        <v-row v-if=\"tasks.annotation_status != null\">\r\n          <v-col md=\"6\">\r\n            <task-status-overview\r\n                :status=\"tasks.annotation_status\"\r\n                v-on:start-session=\"startTask\">\r\n              Slide Annotation Progress\r\n            </task-status-overview>\r\n          </v-col>\r\n          <v-col md=\"6\">\r\n            <task-status-overview\r\n                :status=\"tasks.review_status\"\r\n                v-on:start-session=\"startTask\">\r\n              Annotation Revision Progress\r\n            </task-status-overview>\r\n          </v-col>\r\n        </v-row>\r\n      </v-scale-transition>\r\n      <v-row v-if=\"tasks.annotations != null && tasks.annotations.length > 0\">\r\n        <v-subheader class=\"text-h4 mt-2\">Segmentation and annotation tasks</v-subheader>\r\n      </v-row>\r\n      <v-row v-if=\"tasks.annotations != null && tasks.annotations.length > 0\">\r\n        <v-col>\r\n          <v-data-table\r\n              :headers=\"annotation_headers\"\r\n              :items=\"tasks.annotations\">\r\n            <template v-slot:item.slides=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        v-for=\"slide in item.slides\"\r\n                        :key=\"slide.id\">\r\n                  {{ slide.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.assigned=\"{ item }\">\r\n              <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark\r\n                        :key=\"user.id\">\r\n                  {{ user.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.completed=\"{ item }\">\r\n              <div style=\"display: inline;\">\r\n                <v-simple-checkbox :ripple=\"false\" style=\"display: inline-block;\" :value=\"item.completed\"/>\r\n                <v-chip style=\"display: inline-block;\" outlined color=\"red\" v-if=\"!item.completed\">Remaining!</v-chip>\r\n              </div>\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn text :color=\"item.completed ? 'primary' : 'orange accent-4'\" @click=\"startTask(item)\">Open image\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"tasks.review != null && tasks.review.length > 0\">\r\n        <v-subheader class=\"text-h4 mt-2\">Annotation revision tasks</v-subheader>\r\n      </v-row>\r\n      <v-row v-if=\"tasks.review != null && tasks.review.length > 0\">\r\n        <v-col>\r\n          <v-data-table\r\n              :headers=\"review_headers\"\r\n              :items=\"tasks.review\">\r\n            <template v-slot:item.slides=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        :key=\"slide.id\"\r\n                        v-for=\"slide in item.task.task.slides\">\r\n                  {{ slide.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.revisions=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        :key=\"revision.id\"\r\n                        v-for=\"revision in item.revisions\">\r\n                  {{ revision.user != null ? revision.user.name : revision.app.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.assigned=\"{ item }\">\r\n              <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark\r\n                        :key=\"user.id\">\r\n                  {{ user.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.completed=\"{ item }\">\r\n              <div style=\"display: inline;\">\r\n                <v-simple-checkbox :ripple=\"false\" style=\"display: inline-block;\" :value=\"item.completed\"/>\r\n                <v-chip style=\"display: inline-block;\" outlined color=\"red\" v-if=\"!item.completed\">Remaining!</v-chip>\r\n              </div>\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn text :color=\"item.completed ? 'primary' : 'orange accent-4'\" @click=\"startTask(item)\">Open\r\n                Revision\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </loading>\r\n  <!--  <div v-else>-->\r\n  <!--    <v-progress-circular class=\"loading\" size=\"52\" :indeterminate=\"true\"/>-->\r\n  <!--  </div>-->\r\n</template>\r\n\r\n<script>\r\nimport TaskStatusOverview from '../components/TaskStatusOverview';\r\nimport Loading from '../components/LoadingContent';\r\n\r\nexport default {\r\n  name: 'Tasks',\r\n  components: {\r\n    Loading,\r\n    TaskStatusOverview,\r\n  },\r\n  data: () => ({\r\n    loading: true,\r\n    tasks: null,\r\n    task_types: [\r\n      'Annotate images',\r\n      'Review annotations',\r\n    ],\r\n    annotation_headers: [\r\n      {\r\n        text: 'Slides',\r\n        align: 'start',\r\n        sortable: false,\r\n        value: 'slides',\r\n      },\r\n      {\r\n        text: 'Completed?',\r\n        value: 'completed',\r\n      },\r\n      // {text: 'Slides', value: 'slides'},\r\n      {\r\n        text: 'Project',\r\n        value: 'project.name',\r\n      },\r\n      // {text: 'Users', value: 'assigned'},\r\n      {\r\n        text: 'Actions',\r\n        value: 'actions',\r\n      },\r\n    ],\r\n    review_headers: [\r\n      {\r\n        text: 'Slides associated',\r\n        align: 'start',\r\n        sortable: false,\r\n        value: 'slides',\r\n      },\r\n      {\r\n        text: 'Annotations by to review',\r\n        align: 'start',\r\n        sortable: false,\r\n        value: 'revisions',\r\n      },\r\n      {\r\n        text: 'Completed?',\r\n        value: 'completed',\r\n      },\r\n      {\r\n        text: 'Project',\r\n        value: 'project.name',\r\n      },\r\n      {\r\n        text: 'Actions',\r\n        value: 'actions',\r\n      },\r\n    ],\r\n  }),\r\n  methods: {\r\n    startTask(task) {\r\n      this.$post('session/create', task)\r\n          .then((resp) => {\r\n            this.$store.commit('set_session', resp);\r\n            this.$router.push(`/session/${resp.id}`);\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    loadTasks() {\r\n      this.loading = true;\r\n      this.$get('task/list')\r\n          .then((resp) => {\r\n            this.tasks = resp;\r\n            this.loading = false;\r\n          })\r\n          .catch((err) => {\r\n            alert(err);\r\n            this.loading = false;\r\n          });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadTasks();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=f92ee8d6&scoped=true&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f92ee8d6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VScaleTransition } from 'vuetify/lib/components/transitions';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VChip,VChipGroup,VCol,VContainer,VDataTable,VRow,VScaleTransition,VSimpleCheckbox,VSubheader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"overflow\":\"hidden\"}},[_c('slice-viewer',{ref:\"slice_viewer\",attrs:{\"drawer\":!_vm.session.completed && _vm.task_type === 0 && _vm.taskBelongsToUser,\"tile-sources\":_vm.tile_sources,\"labels\":_vm.project_labels,\"labels-visibility\":_vm.labels_visible,\"drawing-style\":_vm.drawingStyle,\"draw-events\":_vm.draw_events,\"slide-properties\":_vm.current_slide.properties},on:{\"region-clicked\":_vm.regionClicked,\"new-draw\":_vm.onNewRegionDraw,\"edit-draw\":_vm.onEditRegionDraw},model:{value:(_vm.annotations[_vm.current_slide.id]),callback:function ($$v) {_vm.$set(_vm.annotations, _vm.current_slide.id, $$v)},expression:\"annotations[current_slide.id]\"}}),_c('side-window',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"fixed\":\"\",\"color\":\"grey lighten-4\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab',[_vm._v(\"View\")]),(_vm.annotations[_vm.current_slide.id] != null && _vm.annotations[_vm.current_slide.id].length > 0)?_c('v-tab',[_vm._v(\"Annotations\\n            (\"+_vm._s(_vm.annotations[_vm.current_slide.id].length)+\")\\n          \")]):_vm._e()],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.task_type === 0 ? 'Annotation task' : 'Review task'))])],1),_c('v-tabs-items',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.task_type === 0)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('session-class-balance',{ref:\"classBalance\",attrs:{\"session-id\":_vm.session_id,\"slide-id\":_vm.current_slide.id}})],1):_vm._e(),_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Annotation visibility\")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\",staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.project_labels),function(label){return _c('v-switch',{key:label.id,staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":label.name,\"color\":_vm.genColor(label.color)},model:{value:(_vm.labels_visible[label.name]),callback:function ($$v) {_vm.$set(_vm.labels_visible, label.name, $$v)},expression:\"labels_visible[label.name]\"}})}),1),_c('v-divider'),_c('div',{staticClass:\"flex-container\"},[_c('v-slider',{staticClass:\"pl-2 pr-2\",staticStyle:{\"width\":\"50%\"},attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-circle-opacity\",\"step\":\"0\",\"thumb-label\":\"\",\"min\":\"0.0\",\"max\":\"1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                      \"+_vm._s(value.toFixed(2))+\"\\n                    \")]}}]),model:{value:(_vm.drawingStyle.fillOpacity),callback:function ($$v) {_vm.$set(_vm.drawingStyle, \"fillOpacity\", $$v)},expression:\"drawingStyle.fillOpacity\"}}),_c('v-slider',{staticClass:\"pl-2 pr-2\",staticStyle:{\"width\":\"50%\"},attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-gesture-tap\",\"step\":\"0\",\"thumb-label\":\"\",\"min\":\"0.0\",\"max\":\"1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                      \"+_vm._s(value.toFixed(2))+\"\\n                    \")]}}]),model:{value:(_vm.drawingStyle.hoverOpacity),callback:function ($$v) {_vm.$set(_vm.drawingStyle, \"hoverOpacity\", $$v)},expression:\"drawingStyle.hoverOpacity\"}}),_c('div',{staticClass:\"break\"}),_c('v-slider',{staticClass:\"pl-2 pr-2\",staticStyle:{\"width\":\"50%\"},attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-format-line-weight\",\"step\":\"1\",\"thumb-label\":\"\",\"min\":\"1\",\"max\":\"10\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                      \"+_vm._s(value.toFixed(2))+\"\\n                    \")]}}]),model:{value:(_vm.drawingStyle.lineWidth),callback:function ($$v) {_vm.$set(_vm.drawingStyle, \"lineWidth\", $$v)},expression:\"drawingStyle.lineWidth\"}}),_c('v-switch',{staticStyle:{\"width\":\"50%\",\"margin\":\"0px\"},attrs:{\"hide-details\":\"\",\"label\":\"Highlight\"},model:{value:(_vm.highlightOnTab),callback:function ($$v) {_vm.highlightOnTab=$$v},expression:\"highlightOnTab\"}})],1)],1)],1),(_vm.slides.length > 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task slides\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"There is more than one slide\\n                  associated with this task. Select the slide you want to work with below.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-list',{staticClass:\"slides-list\",attrs:{\"dense\":\"\",\"shaped\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"orange\",\"mandatory\":\"\"},model:{value:(_vm.current_slide),callback:function ($$v) {_vm.current_slide=$$v},expression:\"current_slide\"}},_vm._l((_vm.slides),function(slide){return _c('v-list-item',{key:slide.id,attrs:{\"two-line\":\"\",\"value\":slide}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(slide.name)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(slide.properties.comment)}})],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.slideInfo(slide)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-information-outline\")])],1)],1)],1)}),1)],1)],1)])],1):_vm._e(),_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task status\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Once you feel you are done with\\n                  task you may mark it as completed.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-switch',{attrs:{\"disabled\":!_vm.taskBelongsToUser,\"label\":\"Task completed\"},model:{value:(_vm.session.completed),callback:function ($$v) {_vm.$set(_vm.session, \"completed\", $$v)},expression:\"session.completed\"}})],1)])],1),(_vm.task_type === 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Annotations to review\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"List of user's annotations for\\n                  this task that must be reviewed. Select the user's annotations you want to review at this time.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-radio-group',{model:{value:(_vm.revisingUserTask),callback:function ($$v) {_vm.revisingUserTask=$$v},expression:\"revisingUserTask\"}},[_c('v-radio',{attrs:{\"value\":\"none\",\"label\":\"None\"}}),_vm._l((_vm.revisions),function(item){return _c('v-radio',{key:item.id,attrs:{\"value\":item.id,\"label\":item.user}})})],2)],1)])],1):_vm._e(),(_vm.annotationImportingEnabled)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Import annotations\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Select a geojson file to import\\n                  its annotations to the currently selected slide.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"file-importer-input\",\"type\":\"file\"}}),_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":_vm.importAnnotations}},[_vm._v(\"Select file\")])],1)])],1):_vm._e()],1)],1)],1),_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.annotations[_vm.current_slide.id]),function(region,idx){return _c('v-flex',{key:region.id,attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('annotation-card',{key:idx,on:{\"save-annotation\":_vm.concludeEdit,\"edit-annotation\":_vm.editRegion,\"cancel-edit\":_vm.cancelEdit,\"annotation-feedback\":_vm.annotationFeedback,\"import-annotation\":_vm.onNewRegionDraw,\"dismiss-annotation\":_vm.dismissAnnotation,\"annotation-peep\":_vm.annotationPeep,\"annotation-update\":_vm.annotationUpdate},model:{value:(_vm.annotations[_vm.current_slide.id][idx]),callback:function ($$v) {_vm.$set(_vm.annotations[_vm.current_slide.id], idx, $$v)},expression:\"annotations[current_slide.id][idx]\"}})],1)}),1)],1)],1)],1)],1),(_vm.feedback_dialog)?_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.feedback_dialog),callback:function ($$v) {_vm.feedback_dialog=$$v},expression:\"feedback_dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"\\n        Annotation label feedback\\n      \")]),_c('v-card-text',[_c('div',{staticClass:\"text-center font-weight-light\"},[_vm._v(\"What is the correct label?\")]),_c('v-chip-group',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.editing.feedback.label_id),callback:function ($$v) {_vm.$set(_vm.editing.feedback, \"label_id\", $$v)},expression:\"editing.feedback.label_id\"}},_vm._l((_vm.project_labels),function(label){return _c('v-chip',{key:label.id,attrs:{\"filter\":\"\",\"value\":label.id}},[_vm._v(_vm._s(label.name))])}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.relabelScreenContinue}},[_vm._v(\"Continue\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{ref:\"side_window\",attrs:{\"app\":\"\",\"right\":\"\",\"width\":_vm.width},model:{value:(_vm.shown),callback:function ($$v) {_vm.shown=$$v},expression:\"shown\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-navigation-drawer ref=\"side_window\" app right :width=\"width\" v-model=\"shown\">\r\n    <slot></slot>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SideWindow',\r\n  data: () => ({\r\n    width: 300,\r\n    shown: true,\r\n    borderSize: 3,\r\n  }),\r\n  methods: {\r\n    setBorderWidth() {\r\n      const i = this.$refs.side_window.$el.querySelector(\r\n        '.v-navigation-drawer__border',\r\n      );\r\n      i.style.width = `${this.borderSize}px`;\r\n      i.style.cursor = 'ew-resize';\r\n    },\r\n    setEvents() {\r\n      const minSize = this.borderSize + 300;\r\n      const el = this.$refs.side_window.$el;\r\n      const drawerBorder = el.querySelector('.v-navigation-drawer__border');\r\n      const vm = this;\r\n      const direction = el.classList.contains('v-navigation-drawer--right')\r\n        ? 'right'\r\n        : 'left';\r\n\r\n      function resize(e) {\r\n        document.body.style.cursor = 'ew-resize';\r\n        const f = direction === 'right'\r\n          ? document.body.scrollWidth - e.clientX\r\n          : e.clientX;\r\n        el.style.width = `${f}px`;\r\n      }\r\n\r\n      drawerBorder.addEventListener(\r\n        'mousedown',\r\n        (e) => {\r\n          if (e.offsetX < minSize) {\r\n            // m_pos = e.x;\r\n            el.style.transition = 'initial';\r\n            document.addEventListener('mousemove', resize, false);\r\n          }\r\n        },\r\n        false,\r\n      );\r\n\r\n      document.addEventListener(\r\n        'mouseup',\r\n        () => {\r\n          el.style.transition = '';\r\n          vm.width = el.style.width;\r\n          document.body.style.cursor = '';\r\n          document.removeEventListener('mousemove', resize, false);\r\n        },\r\n        false,\r\n      );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setBorderWidth();\r\n    this.setEvents();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideWindow.vue?vue&type=template&id=12d46b9c&scoped=true&\"\nimport script from \"./SideWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./SideWindow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12d46b9c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"id\":(\"region-\" + (_vm.value.id)),\"min-width\":\"200\",\"outlined\":\"\"},on:{\"click\":_vm.peep}},[(_vm.value.state === 'idle')?_c('AnnotationIdleCard',{on:{\"edit-annotation\":_vm.editRegion,\"dismiss-annotation\":_vm.dismissAnnotation},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.value.state === 'editing')?_c('AnnotationEditingCard',{on:{\"cancel-edit\":_vm.cancelEdit,\"annotation-update\":_vm.updateRender,\"save-annotation\":_vm.saveAnnotation},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.value.state === 'importing')?_c('AnnotationImportingCard',{on:{\"dismiss-annotation\":_vm.dismissAnnotation,\"annotation-update\":_vm.updateRender,\"import-annotation\":_vm.importAnnotation},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.value.state === 'feedback'|| _vm.value.state === 'feedback-editing')?_c('AnnotationFeedbackCard',{on:{\"annotation-update\":_vm.updateRender,\"annotation-feedback\":_vm.annotationFeedback},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card-title',{staticClass:\"title-nowrap\"},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"18\",\"color\":_vm.labelColor}}),_c('span',[_vm._v(_vm._s(_vm.cardTitle))])],1),(_vm.value.description != null)?_c('v-card-text',[_vm._v(\"\\n    \"+_vm._s(_vm.value.description)+\"\\n  \")]):_vm._e(),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.dismissAnnotation}},[_vm._v(\"Remove\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.editRegion(_vm.value)}}},[_vm._v(\"Edit\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card-title class=\"title-nowrap\">\r\n      <v-avatar size=\"18\" class=\"mr-2\" :color=\"labelColor\"/>\r\n      <span>{{ cardTitle }}</span>\r\n    </v-card-title>\r\n    <v-card-text v-if=\"value.description != null\">\r\n      {{ value.description }}\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions>\r\n      <v-spacer/>\r\n      <v-btn text @click=\"dismissAnnotation\">Remove</v-btn>\r\n      <v-btn text @click=\"editRegion(value)\">Edit</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Annotation } from '@/SliceDrawer';\r\n\r\nexport default {\r\n  name: 'AnnotationIdleCard',\r\n  computed: {\r\n    cardTitle() {\r\n      if (this.value.title != null && this.value.title !== '') {\r\n        return this.value.title;\r\n      }\r\n      return this.value.label.name;\r\n    },\r\n    labelColor() {\r\n      const { color } = this.value.label;\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n  },\r\n  methods: {\r\n    editRegion(region) {\r\n      this.updating_label = true;\r\n      this.$emit('edit-annotation', region);\r\n    },\r\n    dismissAnnotation() {\r\n      this.updating_label = false;\r\n      this.$emit('dismiss-annotation', this.value);\r\n    },\r\n  },\r\n  props: { value: { type: Annotation } },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationIdleCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationIdleCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationIdleCard.vue?vue&type=template&id=e3b44172&scoped=true&\"\nimport script from \"./AnnotationIdleCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationIdleCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3b44172\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCardActions,VCardText,VCardTitle,VDivider,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card-title',{staticClass:\"title-nowrap\"},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"18\",\"color\":_vm.genColor(_vm.value.label.color)}}),_c('v-text-field',{attrs:{\"label\":\"Annotation title\"},model:{value:(_vm.value.title),callback:function ($$v) {_vm.$set(_vm.value, \"title\", $$v)},expression:\"value.title\"}})],1),_c('v-card-text',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-text-field',{attrs:{\"label\":\"Description\"},model:{value:(_vm.value.description),callback:function ($$v) {_vm.$set(_vm.value, \"description\", $$v)},expression:\"value.description\"}}),_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"column\":\"\"},model:{value:(_vm.selectedLabel),callback:function ($$v) {_vm.selectedLabel=$$v},expression:\"selectedLabel\"}},_vm._l((_vm.projectLabels),function(label){return _c('v-chip',{key:label.id,attrs:{\"color\":_vm.genColor(label.color),\"outlined\":\"\",\"filter\":\"\",\"value\":label}},[_vm._v(\"\\n        \"+_vm._s(label.name)+\"\\n      \")])}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.saveRegion}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card-title class=\"title-nowrap\">\r\n      <v-avatar size=\"18\" class=\"mr-2\" :color=\"genColor(value.label.color)\"/>\r\n      <v-text-field v-model=\"value.title\" label=\"Annotation title\"/>\r\n    </v-card-title>\r\n    <v-card-text @click.stop>\r\n      <v-text-field v-model=\"value.description\" label=\"Description\"/>\r\n      <v-chip-group v-model=\"selectedLabel\" mandatory column>\r\n        <v-chip :color=\"genColor(label.color)\" outlined\r\n                v-for=\"label in projectLabels\" filter :value=\"label\"\r\n                :key=\"label.id\">\r\n          {{ label.name }}\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions>\r\n      <v-spacer/>\r\n      <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n      <v-btn text @click=\"saveRegion\">Save</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Annotation } from '@/SliceDrawer';\r\n\r\nexport default {\r\n  name: 'AnnotationEditingCard',\r\n  watch: {\r\n    'value.label': {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        this.selectedLabel = newValue;\r\n      },\r\n    },\r\n    selectedLabel(newValue) {\r\n      this.value.label = newValue;\r\n      this.updateRender();\r\n    },\r\n  },\r\n  computed: {\r\n    cardTitle() {\r\n      if (this.value.title != null && this.value.title !== '') {\r\n        return this.value.title;\r\n      }\r\n      return this.value.label.name;\r\n    },\r\n    projectLabels() {\r\n      const labels = {};\r\n      const data = this.$store.state.session.task.project.labels;\r\n      for (let i = 0; i < data.length; i += 1) {\r\n        labels[data[i].id] = data[i];\r\n      }\r\n      return labels;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selectedLabel: null,\r\n    };\r\n  },\r\n  methods: {\r\n    genColor(color) {\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n    editRegion() {\r\n      this.$emit('edit-annotation', this.value);\r\n    },\r\n    saveRegion() {\r\n      this.$emit('save-annotation', this.value);\r\n    },\r\n    cancelEdit() {\r\n      this.$emit('cancel-edit');\r\n    },\r\n    dismissAnnotation() {\r\n      this.$emit('dismiss-annotation', this.value);\r\n    },\r\n\r\n    updateRender() {\r\n      this.$emit('annotation-update');\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n  props: { value: { type: Annotation } },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationEditingCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationEditingCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationEditingCard.vue?vue&type=template&id=9d301700&scoped=true&\"\nimport script from \"./AnnotationEditingCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationEditingCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d301700\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VDivider,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card-title',{staticClass:\"title-nowrap\"},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"18\",\"color\":_vm.genColor(_vm.value.label.color)}}),_c('span',[_vm._v(_vm._s(_vm.cardTitle))])],1),(_vm.updatingLabel)?_c('v-card-text',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"column\":\"\"},model:{value:(_vm.feedbackLabelId),callback:function ($$v) {_vm.feedbackLabelId=$$v},expression:\"feedbackLabelId\"}},_vm._l((_vm.projectLabels),function(label){return _c('v-chip',{key:label.id,attrs:{\"color\":_vm.genColor(label.color),\"outlined\":\"\",\"filter\":\"\",\"value\":label.id}},[_vm._v(\"\\n        \"+_vm._s(label.name)+\"\\n      \")])}),1)],1):_vm._e(),(_vm.value.feedback.id != null)?_c('v-card-text',[(_vm.value.feedback.feedback === 0)?_c('div',[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\"\\n      Correct annotation\\n    \")],1):_c('div',[_c('p',{staticClass:\"ma-0\"},[_vm._v(\"\\n        \"+_vm._s(_vm.feedback[_vm.value.feedback.feedback])+\"\\n      \")]),_c('p',{staticClass:\"ma-0\"},[_vm._v(\"Correct label:\\n        \"),_c('v-avatar',{staticClass:\"ml-2 mr-1\",attrs:{\"size\":\"16\",\"color\":_vm.genColor(_vm.feedbackLabel.color)}}),_vm._v(\"\\n        \"+_vm._s(_vm.feedbackLabel.name)+\"\\n      \")],1),(_vm.value.feedback.geometry != null)?_c('p',{staticClass:\"ma-0\"},[_c('v-checkbox',{staticClass:\"ma-0\",attrs:{\"label\":\"Show geometry correction\",\"hide-details\":\"\"},on:{\"change\":_vm.annotationUpdate},model:{value:(_vm.value.drawFeedback),callback:function ($$v) {_vm.$set(_vm.value, \"drawFeedback\", $$v)},expression:\"value.drawFeedback\"}})],1):_vm._e()])]):_vm._e(),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.updatingLabel)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.saveFeedback}},[_vm._v(\"Save\")])],1):(_vm.value.feedback.id == null || _vm.undoing)?_c('div',[_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Incorrect\")])]}}])},[_c('v-list',_vm._l((_vm.incorrectOptions),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":item.func}},[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)}),1)],1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.feedbackCorrect}},[_vm._v(\"Correct\")])],1):(_vm.value.feedback.id != null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.undoing = true}}},[_vm._v(\"Undo\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card-title class=\"title-nowrap\">\r\n      <v-avatar size=\"18\" class=\"mr-2\" :color=\"genColor(value.label.color)\"/>\r\n      <span>{{ cardTitle }}</span>\r\n    </v-card-title>\r\n    <v-card-text v-if=\"updatingLabel\" @click.stop>\r\n      <v-chip-group v-model=\"feedbackLabelId\" mandatory column>\r\n        <v-chip :color=\"genColor(label.color)\" outlined\r\n                v-for=\"label in projectLabels\" filter :value=\"label.id\"\r\n                :key=\"label.id\">\r\n          {{ label.name }}\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-text>\r\n    <v-card-text v-if=\"value.feedback.id != null\">\r\n      <div v-if=\"value.feedback.feedback === 0\">\r\n        <v-icon>mdi-check</v-icon>\r\n        Correct annotation\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"ma-0\">\r\n          {{ feedback[value.feedback.feedback] }}\r\n        </p>\r\n        <p class=\"ma-0\">Correct label:\r\n          <v-avatar size=\"16\" class=\"ml-2 mr-1\"\r\n                    :color=\"genColor(feedbackLabel.color)\"/>\r\n          {{ feedbackLabel.name }}\r\n        </p>\r\n        <p class=\"ma-0\" v-if=\"value.feedback.geometry != null\">\r\n          <v-checkbox v-model=\"value.drawFeedback\" class=\"ma-0\" label=\"Show geometry correction\"\r\n                      @change=\"annotationUpdate\" hide-details/>\r\n        </p>\r\n      </div>\r\n    </v-card-text>\r\n    <!--    <v-card-text v-if=\"value.description != null && !updatingLabel\">-->\r\n    <!--      {{ value.description }}-->\r\n    <!--    </v-card-text>-->\r\n    <v-divider/>\r\n    <v-card-actions>\r\n      <v-spacer/>\r\n      <div v-if=\"updatingLabel\">\r\n        <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n        <v-btn text @click=\"saveFeedback\">Save</v-btn>\r\n      </div>\r\n      <div v-else-if=\"value.feedback.id == null || undoing\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn text v-bind=\"attrs\" v-on=\"on\">Incorrect</v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item v-for=\"(item, index) in incorrectOptions\" :key=\"index\" @click=\"item.func\">\r\n              <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n        <v-btn text @click=\"feedbackCorrect\">Correct</v-btn>\r\n      </div>\r\n      <div v-else-if=\"value.feedback.id != null\">\r\n        <v-btn text @click=\"undoing = true\">Undo</v-btn>\r\n      </div>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Annotation } from '@/SliceDrawer';\r\n\r\nexport default {\r\n  name: 'AnnotationFeedbackCard',\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        if (newValue.feedback.label_id != null) {\r\n          this.feedbackLabelId = newValue.feedback.label_id;\r\n        } else {\r\n          this.feedbackLabelId = newValue.label.id;\r\n        }\r\n      },\r\n\r\n    },\r\n    'value.state': function (newState, oldState) {\r\n      if (oldState === 'feedback-editing' && newState === 'feedback') {\r\n        this.updatingLabel = false;\r\n      }\r\n    },\r\n    'value.feedback.label_id': function () {\r\n      this.annotationUpdate();\r\n    },\r\n    feedbackLabelId(newFeedbackLabelId) {\r\n      this.value.feedback.label_id = newFeedbackLabelId;\r\n      this.annotationUpdate();\r\n    },\r\n  },\r\n  computed: {\r\n    cardTitle() {\r\n      if (this.value.title != null && this.value.title !== '') {\r\n        return this.value.title;\r\n      }\r\n      return this.value.label.name;\r\n    },\r\n    projectLabels() {\r\n      const labels = {};\r\n      const data = this.$store.state.session.task.project.labels;\r\n      for (let i = 0; i < data.length; i += 1) {\r\n        labels[data[i].id] = data[i];\r\n      }\r\n      return labels;\r\n    },\r\n    feedbackLabel() {\r\n      if (this.value.feedback != null && this.value.feedback.label_id != null) {\r\n        return this.projectLabels[this.value.feedback.label_id];\r\n      }\r\n      return this.projectLabels[this.value.label.id];\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      incorrectOptions: [\r\n        {\r\n          text: 'Wrong label',\r\n          func: this.feedbackWrongLabel,\r\n        },\r\n        {\r\n          text: 'Wrong region',\r\n          func: this.feedbackWrongRegion,\r\n        },\r\n      ],\r\n      feedbackLabelId: null,\r\n      updatingLabel: false,\r\n      currentFeedback: null,\r\n      undoing: false,\r\n      feedback: [\r\n        '✓ Correct',\r\n        '✗ Wrong label',\r\n        '✗ Wrong region',\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    genColor(color) {\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n    annotationUpdate() {\r\n      this.$nextTick(() => {\r\n        this.$emit('annotation-update');\r\n      });\r\n    },\r\n    editRegion(region) {\r\n      this.updatingLabel = true;\r\n      this.$emit('edit-region', region);\r\n    },\r\n    saveFeedback() {\r\n      this.updatingLabel = false;\r\n      if (this.currentFeedback === 'wrong-label') {\r\n        this.value.feedback.feedback = 1;\r\n      } else if (this.currentFeedback === 'wrong-region') {\r\n        this.value.feedback.feedback = 2;\r\n      }\r\n      this.$emit('annotation-feedback', this.currentFeedback, this.value);\r\n    },\r\n    cancelEdit() {\r\n      this.updatingLabel = false;\r\n      this.$emit('cancel-edit');\r\n    },\r\n    dismissAnnotation() {\r\n      this.$emit('dismiss-annotation', this.value);\r\n    },\r\n\r\n    feedbackWrongLabel() {\r\n      if (this.updatingLabel === false) {\r\n        this.undoing = false;\r\n        this.currentFeedback = 'wrong-label';\r\n        this.updatingLabel = true;\r\n        this.value.feedback.feedback = 1;\r\n      }\r\n    },\r\n    feedbackWrongRegion() {\r\n      if (this.updatingLabel === false) {\r\n        this.undoing = false;\r\n        this.updatingLabel = true;\r\n        this.currentFeedback = 'wrong-region';\r\n        this.$emit('annotation-feedback', 'edit-region', this.value);\r\n      }\r\n    },\r\n    feedbackCorrect() {\r\n      this.undoing = false;\r\n      this.$emit('annotation-feedback', 'correct', this.value);\r\n    },\r\n  },\r\n  props: { value: { type: Annotation } },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationFeedbackCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationFeedbackCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationFeedbackCard.vue?vue&type=template&id=4b4acfc2&scoped=true&\"\nimport script from \"./AnnotationFeedbackCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationFeedbackCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b4acfc2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VChipGroup,VDivider,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.value.currentlyImporting)?_c('span',{staticClass:\"importing-pending-warning\"},[_vm._v(\"\\n    Pending import\\n\\n  \")]):_vm._e(),_c('v-card-title',{staticClass:\"title-nowrap\"},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"18\",\"color\":_vm.genColor(_vm.value.label.color)}}),_c('v-text-field',{attrs:{\"label\":\"Annotation title\"},model:{value:(_vm.value.title),callback:function ($$v) {_vm.$set(_vm.value, \"title\", $$v)},expression:\"value.title\"}})],1),_c('v-card-text',{on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-text-field',{attrs:{\"label\":\"Description\"},model:{value:(_vm.value.description),callback:function ($$v) {_vm.$set(_vm.value, \"description\", $$v)},expression:\"value.description\"}}),_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"column\":\"\"},on:{\"change\":_vm.annotationUpdate},model:{value:(_vm.value.label),callback:function ($$v) {_vm.$set(_vm.value, \"label\", $$v)},expression:\"value.label\"}},_vm._l((_vm.projectLabels),function(label){return _c('v-chip',{key:label.id,attrs:{\"color\":_vm.genColor(label.color),\"outlined\":\"\",\"filter\":\"\",\"value\":label}},[_vm._v(\"\\n        \"+_vm._s(label.name)+\"\\n      \")])}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dismissAnnotation.apply(null, arguments)}}},[_vm._v(\"Dismiss\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.importAnnotation.apply(null, arguments)}}},[_vm._v(\"Import\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <span v-if=\"value.currentlyImporting\" class=\"importing-pending-warning\">\r\n      Pending import\r\n\r\n    </span>\r\n    <v-card-title class=\"title-nowrap\">\r\n      <v-avatar size=\"18\" class=\"mr-2\" :color=\"genColor(value.label.color)\"/>\r\n      <v-text-field v-model=\"value.title\" label=\"Annotation title\"/>\r\n    </v-card-title>\r\n    <v-card-text @click.stop>\r\n      <v-text-field v-model=\"value.description\" label=\"Description\"/>\r\n\r\n      <v-chip-group v-model=\"value.label\" mandatory column @change=\"annotationUpdate\">\r\n        <v-chip :color=\"genColor(label.color)\" outlined\r\n                v-for=\"label in projectLabels\" filter :value=\"label\"\r\n                :key=\"label.id\">\r\n          {{ label.name }}\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions>\r\n      <v-spacer/>\r\n      <v-btn text @click.prevent=\"dismissAnnotation\">Dismiss</v-btn>\r\n      <v-btn text @click.prevent=\"importAnnotation\">Import</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Annotation } from '@/SliceDrawer';\r\n\r\nexport default {\r\n  name: 'AnnotationIdleCard',\r\n  computed: {\r\n    cardTitle() {\r\n      if (this.value.title != null && this.value.title !== '') {\r\n        return this.value.title;\r\n      }\r\n      return this.value.label.name;\r\n    },\r\n    projectLabels() {\r\n      const labels = {};\r\n      const data = this.$store.state.session.task.project.labels;\r\n      for (let i = 0; i < data.length; i += 1) {\r\n        labels[data[i].id] = data[i];\r\n      }\r\n      return labels;\r\n    },\r\n  },\r\n  methods: {\r\n    genColor(color) {\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n\r\n    importAnnotation() {\r\n      this.$emit('import-annotation', this.value);\r\n    },\r\n    dismissAnnotation() {\r\n      this.$emit('dismiss-annotation', this.value);\r\n    },\r\n    annotationUpdate() {\r\n      this.$nextTick(() => {\r\n        this.$emit('annotation-update');\r\n      });\r\n    },\r\n  },\r\n  props: { value: { type: Annotation } },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationImportingCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationImportingCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationImportingCard.vue?vue&type=template&id=c6b17422&scoped=true&\"\nimport script from \"./AnnotationImportingCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationImportingCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6b17422\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VDivider,VSpacer,VTextField})\n","<template>\r\n  <v-card @click=\"peep\" :id=\"`region-${value.id}`\" min-width=\"200\" outlined>\r\n    <AnnotationIdleCard v-if=\"value.state === 'idle'\"\r\n                        v-model=\"value\"\r\n                        v-on:edit-annotation=\"editRegion\"\r\n                        v-on:dismiss-annotation=\"dismissAnnotation\"/>\r\n    <AnnotationEditingCard v-else-if=\"value.state === 'editing'\"\r\n                           v-model=\"value\"\r\n                           v-on:cancel-edit=\"cancelEdit\"\r\n                           v-on:annotation-update=\"updateRender\"\r\n                           v-on:save-annotation=\"saveAnnotation\"/>\r\n    <AnnotationImportingCard v-else-if=\"value.state === 'importing'\"\r\n                             v-model=\"value\"\r\n                             v-on:dismiss-annotation=\"dismissAnnotation\"\r\n                             v-on:annotation-update=\"updateRender\"\r\n                             v-on:import-annotation=\"importAnnotation\"/>\r\n    <AnnotationFeedbackCard v-else-if=\"value.state === 'feedback'|| value.state === 'feedback-editing'\"\r\n                            v-model=\"value\"\r\n                            v-on:annotation-update=\"updateRender\"\r\n                            v-on:annotation-feedback=\"annotationFeedback\"/>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport { Annotation } from '@/SliceDrawer';\r\nimport AnnotationIdleCard from '@/components/AnnotationIdleCard';\r\nimport AnnotationEditingCard from '@/components/AnnotationEditingCard';\r\nimport AnnotationFeedbackCard from '@/components/AnnotationFeedbackCard';\r\nimport AnnotationImportingCard from '@/components/AnnotationImportingCard';\r\n\r\nexport default {\r\n  name: 'AnnotationCard',\r\n  components: {\r\n    AnnotationFeedbackCard,\r\n    AnnotationEditingCard,\r\n    AnnotationImportingCard,\r\n    AnnotationIdleCard,\r\n  },\r\n  computed: {\r\n    task_type() {\r\n      return this.$store.state.session.type;\r\n    },\r\n    project_labels() {\r\n      const labels = {};\r\n      const data = this.$store.state.session.task.project.labels;\r\n      for (let i = 0; i < data.length; i += 1) {\r\n        labels[data[i].id] = data[i];\r\n      }\r\n      return labels;\r\n    },\r\n  },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        this.originalLabel = _.cloneDeep(newValue.label);\r\n        if (newValue.currentlyImporting) {\r\n          // If this annotation is imported, we immediately allow to update its label\r\n          this.updating_label = true;\r\n        }\r\n      },\r\n    },\r\n    editing: {\r\n      handler(newValue) {\r\n        // if the editing value is null, then we know we can disable the label update\r\n        if (newValue == null && this.value.currentlyImporting) {\r\n          this.updating_label = false;\r\n        }\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    updateRender() {\r\n      this.$emit('annotation-update');\r\n    },\r\n    peep() {\r\n      this.$emit('annotation-peep', this.value);\r\n    },\r\n    undo() {\r\n      if (this.drawing_swapped) {\r\n        this.swapDrawings();\r\n      }\r\n      this.undoing_feedback = true;\r\n    },\r\n\r\n    annotationFeedback(feedback, annotation) {\r\n      this.$emit('annotation-feedback', feedback, annotation);\r\n    },\r\n\r\n    swapDrawings() {\r\n      if (!this.drawing_swapped) {\r\n        this.originalRegion = this.value.geometry;\r\n        this.value.geometry = this.value.feedback.geometry;\r\n      } else {\r\n        this.value.geometry = this.originalRegion;\r\n      }\r\n      this.drawing_swapped = !this.drawing_swapped;\r\n      this.$emit('annotation-update');\r\n    },\r\n    genColor(color) {\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n    feedbackWrongLabel() {\r\n      this.undoing_feedback = false;\r\n      this.$emit('annotation-feedback', 'wrong-label', this.value);\r\n    },\r\n    feedbackWrongRegion() {\r\n      if (this.drawing_swapped) {\r\n        // If the drawing was swapped, we swap them back\r\n        this.value.geometry = this.originalRegion;\r\n        this.drawing_swapped = false;\r\n      }\r\n      this.$emit('annotation-feedback', 'wrong-region', this.value);\r\n      this.undoing_feedback = false;\r\n    },\r\n    feedbackCorrect() {\r\n      this.$emit('annotation-feedback', 'correct', this.value);\r\n      this.undoing_feedback = false;\r\n    },\r\n\r\n    editRegion(annotation) {\r\n      this.updating_label = true;\r\n      this.$emit('edit-annotation', annotation);\r\n    },\r\n    saveAnnotation(annotation) {\r\n      this.updating_label = false;\r\n      this.$emit('save-annotation', annotation);\r\n    },\r\n    cancelEdit() {\r\n      this.updating_label = false;\r\n      this.$emit('cancel-edit');\r\n    },\r\n    importAnnotation() {\r\n      this.$emit('import-annotation', this.value);\r\n    },\r\n    dismissAnnotation() {\r\n      this.updating_label = false;\r\n      this.$emit('dismiss-annotation', this.value);\r\n    },\r\n  },\r\n  props: {\r\n    editing: { type: Boolean },\r\n    value: { type: Annotation },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.importing-pending-warning {\r\n  background-color: #ff6f00;\r\n  padding: 0 10px;\r\n  border-radius: 10px;\r\n  font-size: 12px;\r\n}\r\n\r\n.title-nowrap {\r\n  display: block;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCard.vue?vue&type=template&id=172de640&scoped=true&\"\nimport script from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCard.vue?vue&type=style&index=0&id=172de640&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"172de640\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Annotation stats\")]),(_vm.stats != null)?_c('v-card-text',[_c('div',{staticClass:\"link-container\"},[_c('a',{class:(\"link \" + (_vm.stat === 'count' ? 'selected' : '')),on:{\"click\":function($event){return _vm.switchMode('count', 'count_perc')}}},[_vm._v(\"Count (all)\")]),_c('a',{class:(\"link \" + (_vm.stat === 'area' ? 'selected' : '')),on:{\"click\":function($event){return _vm.switchMode('area', 'area')}}},[_vm._v(\"Area (all)\")]),_c('a',{class:(\"link \" + (_vm.stat === 'desc' ? 'selected' : '')),on:{\"click\":function($event){return _vm.switchMode('desc', 'desc_perc')}}},[_vm._v(\"Count (comments)\")]),_c('a',{class:(\"link \" + (_vm.stat === 'certain_area' ? 'selected' : '')),on:{\"click\":function($event){return _vm.switchMode('certain_area', 'certain_area')}}},[_vm._v(\"Area (not including comments)\")])]),_vm._l((Object.keys(_vm.stats)),function(item){return _c('div',[_c('span',[_vm._v(_vm._s(item)+\" (\"+_vm._s(_vm.stats[item][_vm.stat])+\")\")]),_c('v-progress-linear',{attrs:{\"value\":_vm.stats[item][_vm.statPerc]*100,\"color\":_vm.genColor(_vm.stats[item].color),\"readonly\":true}})],1)})],2):_c('v-card-text',[_vm._v(\"\\n    Stats currently unavailable.\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>Annotation stats</v-card-title>\n    <v-card-text v-if=\"stats != null\">\n      <div class=\"link-container\">\n        <a :class=\"`link ${stat === 'count' ? 'selected' : ''}`\" @click=\"switchMode('count', 'count_perc')\">Count (all)</a>\n        <a :class=\"`link ${stat === 'area' ? 'selected' : ''}`\" @click=\"switchMode('area', 'area')\">Area (all)</a>\n        <a :class=\"`link ${stat === 'desc' ? 'selected' : ''}`\" @click=\"switchMode('desc', 'desc_perc')\">Count (comments)</a>\n        <a :class=\"`link ${stat === 'certain_area' ? 'selected' : ''}`\"\n           @click=\"switchMode('certain_area', 'certain_area')\">Area (not including comments)</a>\n      </div>\n      <div v-for=\"item in Object.keys(stats)\">\n        <span>{{ item }} ({{ stats[item][stat] }})</span>\n        <v-progress-linear :value=\"stats[item][statPerc]*100\" :color=\"genColor(stats[item].color)\" :readonly=\"true\"/>\n      </div>\n    </v-card-text>\n    <v-card-text v-else>\n      Stats currently unavailable.\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: 'SessionClassBalance',\n  watch: {\n    sessionId() {\n      this.refresh();\n    },\n    slideId() {\n      this.refresh();\n    }\n  },\n  data() {\n    return {\n      stats: null,\n      stat: 'count',\n      statPerc: 'count_perc'\n    };\n  },\n  methods: {\n    genColor(color) {\n      return `rgb(${color[0]}, ${color[1]}, ${color[2]})`;\n    },\n    switchMode(stat, statPerc) {\n      this.stat = stat;\n      this.statPerc = statPerc;\n    },\n    refresh() {\n      this.$post(`session/${this.sessionId}/${this.slideId}/class_balance`)\n          .then(res => {\n            this.stats = res;\n          })\n          .catch(err => alert(err));\n    }\n  },\n  mounted() {\n    this.refresh();\n  },\n  props: ['sessionId', 'slideId']\n};\n</script>\n\n<style scoped>\n.link {\n  text-decoration: underline;\n}\n\n.link.selected {\n  text-decoration: none;\n  font-weight: bolder;\n}\n\n.link-container {\n  display: inline-flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  column-gap: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionClassBalance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionClassBalance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SessionClassBalance.vue?vue&type=template&id=3f902a78&scoped=true&\"\nimport script from \"./SessionClassBalance.vue?vue&type=script&lang=js&\"\nexport * from \"./SessionClassBalance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SessionClassBalance.vue?vue&type=style&index=0&id=3f902a78&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f902a78\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VProgressLinear})\n","<template>\r\n  <v-container style=\"overflow: hidden\">\r\n    <slice-viewer\r\n        ref=\"slice_viewer\"\r\n        :drawer=\"!session.completed && task_type === 0 && taskBelongsToUser\"\r\n        :tile-sources=\"tile_sources\"\r\n        :labels=\"project_labels\"\r\n        :labels-visibility=\"labels_visible\"\r\n        :drawing-style=\"drawingStyle\"\r\n        :draw-events=\"draw_events\"\r\n        :slide-properties=\"current_slide.properties\"\r\n        v-model=\"annotations[current_slide.id]\"\r\n        v-on:region-clicked=\"regionClicked\"\r\n        v-on:new-draw=\"onNewRegionDraw\"\r\n        v-on:edit-draw=\"onEditRegionDraw\"/>\r\n    <side-window>\r\n      <v-toolbar dense fixed color=\"grey lighten-4\">\r\n        <v-toolbar-title>{{ task_type === 0 ? 'Annotation task' : 'Review task' }}</v-toolbar-title>\r\n        <template v-slot:extension>\r\n          <v-tabs v-model=\"selected_tab\">\r\n            <v-tab>View</v-tab>\r\n            <v-tab v-if=\"annotations[current_slide.id] != null && annotations[current_slide.id].length > 0\">Annotations\r\n              ({{ annotations[current_slide.id].length }})\r\n            </v-tab>\r\n          </v-tabs>\r\n        </template>\r\n      </v-toolbar>\r\n\r\n      <v-tabs-items v-model=\"selected_tab\">\r\n        <v-tab-item>\r\n          <!-- Controls tab -->\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex v-if=\"task_type === 0\" cols=\"12\" sm=\"12\" md=\"6\">\r\n                <session-class-balance\r\n                    ref=\"classBalance\"\r\n                    :session-id=\"session_id\"\r\n                    :slide-id=\"current_slide.id\"/>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <v-card-title>Annotation visibility</v-card-title>\r\n                  <div class=\"pl-3 pr-3 pb-3\" style=\"max-height: 200px; overflow-y: auto\">\r\n                    <v-switch\r\n                        class=\"mt-0\"\r\n                        hide-details dense\r\n                        v-for=\"label in project_labels\"\r\n                        :key=\"label.id\"\r\n                        v-model=\"labels_visible[label.name]\"\r\n                        :label=\"label.name\"\r\n                        :color=\"genColor(label.color)\"/>\r\n                  </div>\r\n                  <v-divider></v-divider>\r\n                  <div class=\"flex-container\">\r\n                    <v-slider hide-details class=\"pl-2 pr-2\"\r\n                              style=\"width: 50%\"\r\n                              prepend-icon=\"mdi-circle-opacity\"\r\n                              v-model=\"drawingStyle.fillOpacity\"\r\n                              step=\"0\"\r\n                              thumb-label\r\n                              min=\"0.0\" max=\"1\">\r\n                      <template v-slot:thumb-label=\"{ value }\">\r\n                        {{ value.toFixed(2) }}\r\n                      </template>\r\n                    </v-slider>\r\n                    <v-slider hide-details class=\"pl-2 pr-2\"\r\n                              style=\"width: 50%\"\r\n                              prepend-icon=\"mdi-gesture-tap\"\r\n                              v-model=\"drawingStyle.hoverOpacity\"\r\n                              step=\"0\"\r\n                              thumb-label\r\n                              min=\"0.0\" max=\"1\">\r\n                      <template v-slot:thumb-label=\"{ value }\">\r\n                        {{ value.toFixed(2) }}\r\n                      </template>\r\n                    </v-slider>\r\n                    <div class=\"break\"/>\r\n                    <v-slider hide-details class=\"pl-2 pr-2\"\r\n                              style=\"width: 50%\"\r\n                              prepend-icon=\"mdi-format-line-weight\"\r\n                              v-model=\"drawingStyle.lineWidth\"\r\n                              step=\"1\"\r\n                              thumb-label\r\n                              min=\"1\" max=\"10\">\r\n                      <template v-slot:thumb-label=\"{ value }\">\r\n                        {{ value.toFixed(2) }}\r\n                      </template>\r\n                    </v-slider>\r\n                    <v-switch\r\n                        style=\"width: 50%; margin:0px;\"\r\n                        hide-details\r\n                        v-model=\"highlightOnTab\" label=\"Highlight\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"slides.length > 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task slides</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">There is more than one slide\r\n                    associated with this task. Select the slide you want to work with below.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <!--                    <v-radio-group hide-details v-model=\"current_slide\">-->\r\n                    <!--                      <v-radio v-for=\"slide in slides\" :label=\"slide.name\" :value=\"slide\"/>-->\r\n                    <!--                    </v-radio-group>-->\r\n\r\n                    <v-list dense shaped class=\"slides-list\">\r\n                      <v-list-item-group v-model=\"current_slide\" color=\"orange\" mandatory>\r\n                        <v-list-item two-line v-for=\"slide in slides\" :key=\"slide.id\" :value=\"slide\">\r\n\r\n                          <v-list-item-content>\r\n                            <v-list-item-title v-text=\"slide.name\"></v-list-item-title>\r\n                            <v-list-item-subtitle v-text=\"slide.properties.comment\"></v-list-item-subtitle>\r\n                          </v-list-item-content>\r\n\r\n                          <v-list-item-action>\r\n                            <v-btn @click.stop=\"slideInfo(slide)\" icon>\r\n                              <v-icon dark>mdi-information-outline</v-icon>\r\n                            </v-btn>\r\n                          </v-list-item-action>\r\n                        </v-list-item>\r\n                      </v-list-item-group>\r\n                    </v-list>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task status</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Once you feel you are done with\r\n                    task you may mark it as completed.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch v-model=\"session.completed\" :disabled=\"!taskBelongsToUser\" label=\"Task completed\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"task_type === 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Annotations to review</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">List of user's annotations for\r\n                    this task that must be reviewed. Select the user's annotations you want to review at this time.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-radio-group v-model=\"revisingUserTask\">\r\n                      <v-radio value=\"none\" label=\"None\"/>\r\n                      <v-radio v-for=\"item in revisions\" :key=\"item.id\" :value=\"item.id\" :label=\"item.user\"/>\r\n                    </v-radio-group>\r\n                    <!--                    <v-switch v-for=\"item in revisions\" :label=\"item.user\" v-model=\"revision_enabled[item.id]\"/>-->\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"annotationImportingEnabled\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Import annotations</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Select a geojson file to import\r\n                    its annotations to the currently selected slide.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <input id=\"file-importer-input\" type=\"file\" style=\"display: none\">\r\n                    <v-btn @click=\"importAnnotations\" block text>Select file</v-btn>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(region, idx) in annotations[current_slide.id]\" :key=\"region.id\">\r\n                <annotation-card\r\n                    v-model=\"annotations[current_slide.id][idx]\" :key=\"idx\"\r\n                    v-on:save-annotation=\"concludeEdit\"\r\n                    v-on:edit-annotation=\"editRegion\"\r\n                    v-on:cancel-edit=\"cancelEdit\"\r\n                    v-on:annotation-feedback=\"annotationFeedback\"\r\n                    v-on:import-annotation=\"onNewRegionDraw\"\r\n                    v-on:dismiss-annotation=\"dismissAnnotation\"\r\n                    v-on:annotation-peep=\"annotationPeep\"\r\n                    v-on:annotation-update=\"annotationUpdate\"/>\r\n              </v-flex>\r\n            </v-layout>\r\n            <!--            <v-btn fab @click=\"stressTest\"></v-btn>-->\r\n          </v-container>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n\r\n    </side-window>\r\n    <v-dialog v-if=\"feedback_dialog\" v-model=\"feedback_dialog\" width=\"500\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5 grey lighten-2\">\r\n          Annotation label feedback\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <div class=\"text-center font-weight-light\">What is the correct label?</div>\r\n          <v-chip-group v-model=\"editing.feedback.label_id\" mandatory>\r\n            <v-chip filter :key=\"label.id\" v-for=\"label in project_labels\" :value=\"label.id\">{{ label.name }}</v-chip>\r\n          </v-chip-group>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer/>\r\n          <v-btn text @click=\"relabelScreenContinue\">Continue</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport SliceViewer from '../components/WSIViewer';\r\nimport SideWindow from '../components/SideWindow';\r\nimport AnnotationCard from '../components/AnnotationCard';\r\nimport { optimizePath, loadAnnotations } from '@/SliceDrawer';\r\nimport SessionClassBalance from '@/components/SessionClassBalance';\r\n\r\nexport default {\r\n  name: 'Session',\r\n  computed: {\r\n    /**\r\n     * Returns true if annotation importing is enabled.\r\n     * Importing is enabled when the task is human or app annotation (type 0 and 2, respectively), the task\r\n     * is not currently completed and the task belongs to the current user.\r\n     *\r\n     * @returns {boolean} true if annotation importing is allowed\r\n     */\r\n    annotationImportingEnabled() {\r\n      return !this.completed && (this.session.type === 0 || this.session.type === 2) && this.taskBelongsToUser;\r\n    },\r\n    session_id() {\r\n      return this.$route.params.session_id;\r\n    },\r\n    tile_sources() {\r\n      return `${process.env.VUE_APP_BASE_URL}session/${this.session_id}/${this.current_slide.id}.dzi`;\r\n    },\r\n    project_labels() {\r\n      return this.$store.state.session.task.project.labels;\r\n    },\r\n    session() {\r\n      return this.$store.state.session;\r\n    },\r\n    slides() {\r\n      const { session } = this.$store.state;\r\n      console.log(session);\r\n      return session.type !== 1 ? session.task.slides : session.task.task.slides;\r\n    },\r\n    revisions() {\r\n      const revision = [];\r\n      const revisionMeta = this.$store.state.session.task.revisions;\r\n      const revisionData = this.$store.state.session.revision;\r\n      for (let i = 0; i < revisionMeta.length; i++) {\r\n        revision.push({\r\n          id: revisionMeta[i].id,\r\n          user: revisionMeta[i].user != null ? revisionMeta[i].user.name : revisionMeta[i].app.name,\r\n          annotations: revisionData[revisionMeta[i].id],\r\n          selected: false,\r\n        });\r\n      }\r\n      return revision;\r\n    },\r\n    /**\r\n     * Checks if this task belongs to this user. Otherwise, this is currently only for visualization purposes.\r\n     * @returns {boolean} true if the task belongs to the user\r\n     */\r\n    taskBelongsToUser: function () {\r\n      if (this.task_type === 2) {\r\n        // This is an app annotation task, the task belongs to the user if the user owns the app:\r\n        return this.session.app.owner.id === this.$store.state.user.id;\r\n      } else {\r\n        // This is a user-based task\r\n        return this.session.user.id === this.$store.state.user.id;\r\n      }\r\n    },\r\n    task_type() {\r\n      return this.$store.state.session.type;\r\n    },\r\n  },\r\n  watch: {\r\n    session: {\r\n      immediate: true,\r\n      handler(session) {\r\n        if (session.task.type === 0 || session.task.type === 2) {\r\n          this.annotations = loadAnnotations(session.labelled);\r\n          this.current_slide = session.task.slides[0];\r\n        } else if (session.task.type === 1) {\r\n          this.annotations = {};\r\n          this.current_slide = session.task.task.slides[0];\r\n        }\r\n      },\r\n    },\r\n    project_labels: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(new_labels) {\r\n        console.log('project_labels watcher', new_labels);\r\n        for (let i = 0; i < new_labels.length; i++) {\r\n          this.$set(this.labels_visible, new_labels[i].name, true);\r\n        }\r\n      },\r\n    },\r\n    labels_visible: {\r\n      deep: true,\r\n      handler(value) {\r\n        console.log('labels_visible watcher:', value);\r\n      },\r\n    },\r\n\r\n    'session.completed': function (newValue) {\r\n      this.$get(`task/completed?id=${this.session.id}&completed=${newValue}`)\r\n          .catch((err) => {\r\n            this.session.completed = !this.session.completed;\r\n            alert(err);\r\n          });\r\n    },\r\n    revisingUserTask: {\r\n      handler(newRevisionUserTask) {\r\n        if (newRevisionUserTask !== 'none') {\r\n          const userTaskAnnotations = this.$store.state.session.revision[newRevisionUserTask];\r\n          this.annotations = loadAnnotations(userTaskAnnotations);\r\n        } else {\r\n          const annotations = {};\r\n          this.slides.forEach((item) => {\r\n            annotations[item.id] = [];\r\n          });\r\n          this.annotations = annotations;\r\n        }\r\n        this.$nextTick(() => {\r\n          this.annotationUpdate();\r\n        });\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    const self = this;\r\n    return {\r\n      current_slide: null,\r\n      annotations: {},\r\n      selected_tab: 0,\r\n      labels_visible: {},\r\n      drawingStyle: {\r\n        fillOpacity: 0.3,\r\n        lineWidth: 1,\r\n        hoverOpacity: 0.7\r\n      },\r\n      line_weight: 1,\r\n      revisingUserTask: 'none',\r\n      feedback_dialog: false,\r\n      highlightOnTab: true,\r\n      draw_events: {\r\n        onHover: self.onRegionHover,\r\n        onLeave: self.onRegionLeave,\r\n        onClick: self.regionClicked,\r\n        // onFinishedEditing: (completed, annotation) => {},\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    slideInfo(slide) {\r\n      alert(slide.properties.comment);\r\n    },\r\n\r\n    relabelScreenContinue() {\r\n      if (this.editing.feedback.feedback !== 2) {\r\n        this.saveFeedback();\r\n      } else {\r\n        this.feedback_dialog = false;\r\n        this.editRegion(this.editing);\r\n      }\r\n    },\r\n\r\n    saveFeedback(annotation) {\r\n      this.$post(`session/${this.session_id}/annotation_feedback`, annotation.serialize())\r\n          .then((resp) => {\r\n            annotation.feedback.id = resp.feedback.id;\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    onRegionHover(region) {\r\n      if (this.highlightOnTab) {\r\n        const element = document.getElementById(`region-${region.id}`);\r\n        if (element == null) return;\r\n        this.selected_tab = 1;\r\n        element.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'center',\r\n        });\r\n        element.classList.add('hovered');\r\n      }\r\n    },\r\n\r\n    onRegionLeave(region) {\r\n      const element = document.getElementById(`region-${region.id}`);\r\n      if (element == null) return;\r\n      element.classList.remove('hovered');\r\n    },\r\n\r\n    genColor(color) {\r\n      return `rgb(${color[0]},${color[1]},${color[2]})`;\r\n    },\r\n\r\n    // eslint-disable-next-line no-param-reassign\r\n    onNewRegionDraw(annotation) {\r\n      annotation.id = null; // making sure to reset the id\r\n      annotation.slideId = this.current_slide.id;\r\n      const self = this;\r\n      this.$post(`session/${this.session_id}/add_region`, annotation.serialize())\r\n          .then((resp) => {\r\n            // Add the new region to the list\r\n            annotation.id = resp.id;\r\n            annotation.state = 'idle';\r\n            self.annotations[self.current_slide.id].push(annotation);\r\n            self.annotationUpdate();\r\n            this.$refs.classBalance.refresh();\r\n          })\r\n          .catch((err) => {\r\n            alert(`Error while saving region: ${err}`);\r\n          });\r\n    },\r\n\r\n    /**\r\n     * A region was updated. We will submit the data to the server.\r\n     *\r\n     * @param annotation Annotation instance\r\n     */\r\n    onEditRegionDraw(annotation) {\r\n      if (this.task_type === 0) {\r\n        this.editing = null;\r\n        this.$post(`session/${this.session_id}/edit_region`, annotation.serialize())\r\n            .then((resp) => {\r\n              // Add the new region to the list\r\n              console.log(resp);\r\n              this.$refs.classBalance.refresh();\r\n            })\r\n            .catch((err) => {\r\n              alert(`Error while saving region: ${err}`);\r\n            });\r\n      } else if (this.task_type === 1) {\r\n        // Making sure to assign that this is a wrong-region type of feedback\r\n        annotation.feedback.feedback = 2;\r\n        this.saveFeedback(annotation);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * User clicked on a region. We will highlighted it in the list\r\n     *\r\n     * @param region\r\n     * @param short\r\n     */\r\n    regionClicked(region, short = false) {\r\n      const element = document.getElementById(`region-${region.id}`);\r\n      this.selected_tab = 1;\r\n      if (element == null) {\r\n        // if element is null we will wait a few seconds before trying again (switching tabs)\r\n        setTimeout(() => {\r\n          document.getElementById(`region-${region.id}`)\r\n              .scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'center',\r\n              });\r\n        }, 250);\r\n      } else {\r\n        // element is already instantiated, we will jump to it:\r\n        element.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'center',\r\n        });\r\n        element.classList.add('highlighted');\r\n        if (short) element.classList.add('short');\r\n        setTimeout(() => {\r\n          element.classList.remove('highlighted');\r\n          element.classList.remove('short');\r\n        }, short ? 250 : 3000);\r\n      }\r\n    },\r\n\r\n    importAnnotations() {\r\n      const input = document.getElementById('file-importer-input');\r\n      input.onchange = (e) => {\r\n        const reader = new FileReader();\r\n        reader.readAsText(e.target.files[0], 'UTF-8');\r\n        reader.onload = (readerEvent) => {\r\n          const json = JSON.parse(readerEvent.target.result);\r\n          const slideId = this.current_slide.id;\r\n          const annotations = json.features.map((feature, idx) => {\r\n            const geo = feature.geometry;\r\n            return {\r\n              id: `import-${idx}`,\r\n              label: {\r\n                color: [0, 0, 0],\r\n                name: 'Imported annotation',\r\n              },\r\n              geometry: {\r\n                type: 'polygon',\r\n                points: optimizePath(geo.coordinates[0].map((coord) => ({\r\n                  x: coord[0],\r\n                  y: coord[1],\r\n                }))),\r\n              },\r\n              slide_id: slideId,\r\n              state: 'importing',\r\n            };\r\n          });\r\n          console.log('Annotations: ', annotations);\r\n          const slideAnnotations = loadAnnotations({ 0: annotations })[0];\r\n          this.annotations[slideId].push(...slideAnnotations);\r\n          this.annotationUpdate();\r\n        };\r\n      };\r\n      input.click();\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param region\r\n     */\r\n    editRegion(region) {\r\n      console.log('editRegion session');\r\n      this.$refs.slice_viewer.editElement(region);\r\n      this.editing = region;\r\n    },\r\n    concludeEdit(region) {\r\n      this.$refs.slice_viewer.concludeEdit(region);\r\n    },\r\n    cancelEdit() {\r\n      this.$refs.slice_viewer.cancelEdit();\r\n      this.editing = null;\r\n    },\r\n\r\n    annotationPeep(annotation) {\r\n      this.$refs.slice_viewer.peepAnnotation(annotation);\r\n    },\r\n\r\n    annotationUpdate() {\r\n      this.$refs.slice_viewer.update();\r\n    },\r\n\r\n    annotationFeedback(feedback, annotation) {\r\n      console.log(feedback, annotation);\r\n      // this.editing = annotation;\r\n      switch (feedback) {\r\n        case 'correct':\r\n          annotation.feedback.feedback = 0;\r\n          annotation.feedback.geometry = null;\r\n          annotation.feedback.label_id = null;\r\n          this.saveFeedback(annotation);\r\n          break;\r\n        case 'wrong-label':\r\n          this.saveFeedback(annotation);\r\n          break;\r\n        case 'edit-region':\r\n          this.editRegion(annotation);\r\n          break;\r\n        case 'wrong-region':\r\n          this.concludeEdit(annotation);\r\n          break;\r\n      }\r\n    },\r\n\r\n    dismissAnnotation(annotation) {\r\n      if (annotation.state === 'importing') {\r\n        this.annotations[this.current_slide.id] = this.annotations[this.current_slide.id].filter((item) => item !== annotation);\r\n      } else if (confirm('Are you sure you want to remove this annotation?')) {\r\n        this.$post(`session/${this.session_id}/remove_annotation`, annotation.serialize())\r\n            .then((resp) => {\r\n              this.annotations[this.current_slide.id] = this.annotations[this.current_slide.id].filter((item) => item.id !== annotation.id);\r\n              this.annotationUpdate();\r\n            })\r\n            .catch((err) => alert(err));\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    SessionClassBalance,\r\n    AnnotationCard,\r\n    SideWindow,\r\n    SliceViewer,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@keyframes highlight {\r\n\r\n  0% {\r\n    background-color: white;\r\n  }\r\n  50% {\r\n    background-color: darkgrey;\r\n  }\r\n  100% {\r\n    background-color: white;\r\n  }\r\n}\r\n\r\n.slides-list {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.highlighted {\r\n  animation-name: highlight;\r\n  animation-duration: 1s;\r\n  animation-iteration-count: infinite;\r\n  animation-direction: reverse;\r\n}\r\n\r\n.hovered {\r\n  background-color: darkgrey;\r\n}\r\n\r\n.flex-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n\r\n.break {\r\n  flex-basis: 100%;\r\n  height: 0;\r\n}\r\n\r\n.card-description {\r\n  font-size: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=fdf254ca&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=fdf254ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdf254ca\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VContainer,VDialog,VDivider,VFlex,VIcon,VLayout,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRadio,VRadioGroup,VSlider,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_c('v-row',[(_vm.user.manages_tasks)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Tasks\")])],1),_c('v-expansion-panel-content',[_c('v-tabs',{model:{value:(_vm.task_type),callback:function ($$v) {_vm.task_type=$$v},expression:\"task_type\"}},[_c('v-tab',[_vm._v(\"Annotations\")]),_c('v-tab',[_vm._v(\"Revisions\")])],1),_c('v-data-table',{attrs:{\"headers\":_vm.config.task_headers[_vm.task_type],\"items\":_vm.tasks[_vm.task_type],\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                    \"+_vm._s(slide.name)+\"\\n                  \")])}),1)]}},{key:\"item.task\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.task.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                    \"+_vm._s(slide.name)+\"\\n                  \")])}),1)]}},{key:\"item.usertasks\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.user_tasks),function(task){return _c('v-chip',{attrs:{\"readonly\":true,\"outlined\":task.user == null,\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openTask(task)}}},[(task.completed)?_c('v-icon',[_vm._v(\"mdi-check\")]):_vm._e(),_vm._v(\"\\n                    \"+_vm._s(task.user != null ? task.user.name : task.app.name)+\"\\n                  \")],1)}),1)]}},{key:\"item.revisions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.revisions),function(user_task){return _c('v-chip',{attrs:{\"readonly\":true,\"dark\":\"\"},on:{\"click\":function($event){return _vm.openTask(user_task)}}},[_vm._v(\"\\n                    \"+_vm._s(user_task.user != null ? user_task.user.name : user_task.app.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editTask(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.removeTask(item)}}},[_vm._v(\"mdi-delete\")])]}}],null,false,1687668623)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.newTask}},[_vm._v(\"New task\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.newBatch}},[_vm._v(\"New batch\")])],1)],1)],1)],1):_vm._e(),(_vm.user.manages_users)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Users\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.user_headers,\"items\":_vm.users,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editUser(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.removeUser(item)}}},[_vm._v(\"mdi-delete\")])]}}],null,false,1381973006)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.newUser}},[_vm._v(\"New user\")])],1)],1)],1)],1):_vm._e(),(_vm.user.manages_projects)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Projects\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.project_header,\"items\":_vm.projects,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.labels\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"show-arrows\":\"\",\"column\":\"\"}},_vm._l((item.labels),function(label){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"color\":(\"rgb(\" + (label.color[0]) + \", \" + (label.color[1]) + \",\" + (label.color[2]) + \")\"),\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(label.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editProject(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\"},on:{\"click\":function($event){}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"Not implemented\")])])]}}],null,false,3743735714)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.newProject}},[_vm._v(\"New project\")])],1)],1)],1)],1):_vm._e()],1)],1),(_vm.drawer)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"temporary\":\"\",\"stateless\":\"\",\"right\":\"\",\"width\":\"500px\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"large\":\"\"},on:{\"click\":function($event){_vm.drawer = false}}},[_vm._v(\"mdi-close\")]),_vm._v(\"\\n        Information editor\\n      \")],1)],1),_c('v-container',[(_vm.mode === 'user')?_c('user-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'batch')?_c('task-batch',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'project')?_c('project-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'task')?_c('task-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}),_c('v-text-field',{attrs:{\"label\":\"Username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('v-checkbox',{attrs:{\"label\":\"Is user admin?\"},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}}),_c('span',{staticClass:\"title\"},[_vm._v(\"User permissions\")]),_c('div',{staticClass:\"chip-group\"},[_c('v-check-chip',{model:{value:(_vm.user.manages_apps),callback:function ($$v) {_vm.$set(_vm.user, \"manages_apps\", $$v)},expression:\"user.manages_apps\"}},[_vm._v(\"Manage apps\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_users),callback:function ($$v) {_vm.$set(_vm.user, \"manages_users\", $$v)},expression:\"user.manages_users\"}},[_vm._v(\"Manage users\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_tasks),callback:function ($$v) {_vm.$set(_vm.user, \"manages_tasks\", $$v)},expression:\"user.manages_tasks\"}},[_vm._v(\"Manage tasks\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_projects),callback:function ($$v) {_vm.$set(_vm.user, \"manages_projects\", $$v)},expression:\"user.manages_projects\"}},[_vm._v(\"Manage projects\")]),_c('v-check-chip',{model:{value:(_vm.user.can_export),callback:function ($$v) {_vm.$set(_vm.user, \"can_export\", $$v)},expression:\"user.can_export\"}},[_vm._v(\"Can export annotations\")]),_c('v-check-chip',{model:{value:(_vm.user.access_overview),callback:function ($$v) {_vm.$set(_vm.user, \"access_overview\", $$v)},expression:\"user.access_overview\"}},[_vm._v(\"Access overview\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-chip',{attrs:{\"filter\":\"\",\"color\":_vm.color},on:{\"click\":function($event){return _vm.$emit('input', !_vm.value)}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-chip filter :color=\"color\" v-model=\"value\" @click=\"$emit('input', !value)\">\r\n    <slot></slot>\r\n  </v-chip>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'VCheckChip',\r\n  props: ['value', 'color'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VCheckChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VCheckChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VCheckChip.vue?vue&type=template&id=3d2e1610&scoped=true&\"\nimport script from \"./VCheckChip.vue?vue&type=script&lang=js&\"\nexport * from \"./VCheckChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d2e1610\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\ninstallComponents(component, {VChip})\n","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"user != null\">-->\r\n    <v-text-field label=\"Name\" v-model=\"user.name\"></v-text-field>\r\n    <v-text-field label=\"Username\" v-model=\"user.username\"></v-text-field>\r\n    <v-text-field label=\"Password\" type=\"password\" v-model=\"user.password\"></v-text-field>\r\n    <v-checkbox v-model=\"user.is_admin\" label=\"Is user admin?\"></v-checkbox>\r\n    <span class=\"title\">User permissions</span>\r\n    <div class=\"chip-group\">\r\n      <!--      <v-chip-group multiple column>-->\r\n      <v-check-chip v-model=\"user.manages_apps\">Manage apps</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_users\">Manage users</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_tasks\">Manage tasks</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_projects\">Manage projects</v-check-chip>\r\n      <v-check-chip v-model=\"user.can_export\">Can export annotations</v-check-chip>\r\n      <v-check-chip v-model=\"user.access_overview\">Access overview</v-check-chip>\r\n    </div>\r\n    <!--    </v-chip-group>-->\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Save</v-btn>\r\n    </v-card-actions>\r\n    <!--  </v-form>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport VCheckChip from './VCheckChip';\r\n\r\nexport default {\r\n  name: 'UserEditor',\r\n  components: { VCheckChip },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(new_value) {\r\n        this.user = _.cloneDeep(new_value);\r\n      },\r\n    },\r\n  },\r\n  data: () => ({ user: null, test: [] }),\r\n  methods: {\r\n    save() {\r\n      if (this.user.id != null) {\r\n        // update user profile information\r\n        this.$post('user/edit', this.user)\r\n          .then((resp) => {\r\n            this.user = resp;\r\n            this.$emit('input', this.user);\r\n            this.$emit('done', 'user');\r\n          })\r\n          .catch((err) => {\r\n            alert(err);\r\n          });\r\n      } else {\r\n        // create new user profile\r\n        this.$post('user/new', this.user)\r\n          .then((resp) => {\r\n            this.user = resp;\r\n            this.$emit('input', this.user);\r\n            this.$emit('done', 'user');\r\n          })\r\n          .catch((err) => {\r\n            alert(err);\r\n          });\r\n      }\r\n    },\r\n  },\r\n  props: ['value'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .chip-group {\r\n    white-space: normal;\r\n    flex-wrap: wrap;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .chip-group * {\r\n    margin: 2px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditor.vue?vue&type=template&id=6e566028&scoped=true&\"\nimport script from \"./UserEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEditor.vue?vue&type=style&index=0&id=6e566028&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e566028\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardActions,VCheckbox,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Project name\"},model:{value:(_vm.project.name),callback:function ($$v) {_vm.$set(_vm.project, \"name\", $$v)},expression:\"project.name\"}}),_c('v-textarea',{attrs:{\"label\":\"Project description\"},model:{value:(_vm.project.description),callback:function ($$v) {_vm.$set(_vm.project, \"description\", $$v)},expression:\"project.description\"}}),_c('v-text-field',{attrs:{\"label\":\"Files location\",\"error-messages\":_vm.path_errors},on:{\"input\":_vm.check_path},model:{value:(_vm.project.folder),callback:function ($$v) {_vm.$set(_vm.project, \"folder\", $$v)},expression:\"project.folder\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.header,\"items\":_vm.project.labels,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.color\",fn:function(ref){\nvar item = ref.item;\nvar idx = ref.idx;\nreturn [_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"color-box\",style:(_vm.gen_color(item)),on:{\"click\":function($event){return _vm.change_color(item)}}},'div',attrs,false),on))]}}],null,true),model:{value:(_vm.color_menu[item.name]),callback:function ($$v) {_vm.$set(_vm.color_menu, item.name, $$v)},expression:\"color_menu[item.name]\"}},[_c('v-card',[_c('v-color-picker',{attrs:{\"hide-inputs\":\"\",\"swatches-max-height\":100,\"show-swatches\":\"\"},model:{value:(_vm.color_picked),callback:function ($$v) {_vm.color_picked=$$v},expression:\"color_picked\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeColorPicker(item.name)}}},[_vm._v(\"Done\")])],1)],1)],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_label(item)}}},[_vm._v(\"\\n        mdi-delete\\n      \")])]}}])}),_c('v-text-field',{attrs:{\"filled\":\"\",\"label\":\"New label\",\"append-outer-icon\":\"add\"},on:{\"click:append-outer\":_vm.add_label},model:{value:(_vm.new_label),callback:function ($$v) {_vm.new_label=$$v},expression:\"new_label\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--  <v-form v-if=\"project != null\">-->\n    <v-text-field label=\"Project name\" v-model=\"project.name\"/>\n    <v-textarea label=\"Project description\" v-model=\"project.description\"/>\n    <v-text-field label=\"Files location\" v-model=\"project.folder\" :error-messages=\"path_errors\" @input=\"check_path\"/>\n    <v-data-table :headers=\"header\" :items=\"project.labels\" :items-per-page=\"5\">\n      <template v-slot:item.color=\"{ item, idx }\">\n        <v-menu v-model=\"color_menu[item.name]\" offset-y :close-on-content-click=\"false\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <div class=\"color-box\"\n                 @click=\"change_color(item)\"\n                 :style=\"gen_color(item)\"\n                 v-bind=\"attrs\"\n                 v-on=\"on\"></div>\n          </template>\n          <v-card>\n            <v-color-picker hide-inputs :swatches-max-height=\"100\" show-swatches\n                            v-model=\"color_picked\" ></v-color-picker>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"primary\" text @click=\"closeColorPicker(item.name)\">Done</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-menu>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small @click=\"remove_label(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n    </v-data-table>\n    <v-text-field\n            filled\n            label=\"New label\"\n            v-model=\"new_label\"\n            append-outer-icon=\"add\"\n            @click:append-outer=\"add_label\"\n    />\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn @click=\"save\" outlined>Save</v-btn>\n    </v-card-actions>\n  </div>\n</template>\n\n<script>\n\nimport _ from 'lodash';\n\nexport default {\n  name: 'ProjectEditor',\n  watch: {\n    value: {\n      immediate: true,\n      handler(new_value) {\n        this.project = _.cloneDeep(new_value);\n      },\n    },\n\n    color_picked(new_value) {\n      // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\n      if (this.editing_label != null) this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b];\n    },\n  },\n  data: () => ({\n    project: null,\n    color_picked: null,\n    color_menu: [],\n    header: [\n      { text: 'Label', value: 'name' },\n      { text: 'Color', value: 'color', sortable: false },\n      { text: 'Actions', value: 'actions' },\n    ],\n    path_errors: [],\n    editing_label: null,\n    new_label: null,\n  }),\n  methods: {\n    closeColorPicker(itemName) {\n      this.color_menu[itemName] = false;\n      this.editing_label = null;\n      this.color_picked = null;\n    },\n    check_path(input) {\n      if (input === '') {\n        this.path_errors = ['Path required'];\n      } else {\n        this.$post('project/valid_path', { path: input })\n          .then((resp) => {\n            if (resp.valid_path) {\n              this.path_errors = [];\n            } else {\n              this.path_errors = ['Path not found on environment'];\n            }\n          })\n          .catch((err) => alert(err));\n      }\n    },\n\n    add_label() {\n      if (this.project == null) this.project = { labels: [] };\n      if (this.project.labels == null) this.project.labels = [];\n      this.project.labels.push({\n        name: this.new_label,\n        color: [255, 255, 255],\n      });\n      this.new_label = '';\n    },\n\n    change_color(item) {\n      this.editing_label = item;\n    },\n\n    gen_color(item) {\n      const colors = item.color;\n      return `background-color: rgba(${colors[0]},${colors[1]},${colors[2]}, 1)`;\n    },\n    save() {\n      if (this.path_errors.length > 0) alert(\"You need to fix the project's path before continuing.\");\n      else if (confirm('Are you sure you want to continue?')) {\n        if (this.project.id == null) {\n          this.$post('/project/new', this.project)\n            .then((resp) => {\n              this.project = resp;\n              this.$emit('input', this.project);\n              this.$emit('done', 'project');\n            })\n            .catch((err) => {\n              alert(err);\n            });\n        } else {\n          this.$post('/project/edit', this.project)\n            .then((resp) => {\n              this.project = resp;\n              this.$emit('input', this.project);\n              this.$emit('done', 'project');\n            })\n            .catch((err) => {\n              alert(err);\n            });\n        }\n      }\n    },\n    remove_label(label) {\n      if (label.id == null) {\n        // No id, simple remove item from the list\n        this.project.labels = this.project.labels.filter((item) => item !== label);\n      } else {\n        // Request removal from the the database\n        this.$post('/project/remove_label', label)\n          .then(() => {\n            this.project.labels = this.project.labels.filter((item) => item.id !== label.id);\n            this.$emit('input', this.project);\n          })\n          .catch((err) => alert(err));\n      }\n    },\n  },\n  mounted() {\n    // this.load_users()\n  },\n  props: ['value'],\n};\n</script>\n\n<style scoped>\n  .color-box {\n    height: 30px;\n    width: 60px;\n    border: black 1px solid;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectEditor.vue?vue&type=template&id=4f6dfeeb&scoped=true&\"\nimport script from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectEditor.vue?vue&type=style&index=0&id=4f6dfeeb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f6dfeeb\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VColorPicker } from 'vuetify/lib/components/VColorPicker';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VColorPicker,VDataTable,VIcon,VMenu,VSpacer,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),(_vm.folders.length > 0)?_c('span',{staticClass:\"grey--text text--darken-2 text-body-2\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"Files from:\")]):_vm._e(),_c('v-treeview',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"},attrs:{\"items\":_vm.folders,\"selectable\":\"\",\"dense\":\"\",\"open-all\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"return-object\":\"\",\"readonly\":_vm.task.project_id == null,\"shaped\":\"\",\"hoverable\":\"\",\"selection-type\":\"independent\"},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(_vm._s(item.name)+\" (\"+_vm._s(item.total)+\" file(s), \"+_vm._s(item.new)+\" new files)\")])]}}]),model:{value:(_vm.task.folders),callback:function ($$v) {_vm.$set(_vm.task, \"folders\", $$v)},expression:\"task.folders\"}}),(_vm.folders.length > 0)?_c('v-checkbox',{attrs:{\"label\":\"Only include new files\"},model:{value:(_vm.task.only_new),callback:function ($$v) {_vm.$set(_vm.task, \"only_new\", $$v)},expression:\"task.only_new\"}}):_vm._e(),_c('v-checkbox',{attrs:{\"label\":\"Group slides by name\"},model:{value:(_vm.task.group_slides),callback:function ($$v) {_vm.$set(_vm.task, \"group_slides\", $$v)},expression:\"task.group_slides\"}}),_c('v-select',{attrs:{\"label\":\"Divide between\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('span',{staticClass:\"grey--text text--darken-2 text-body-2\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"Intersection: how many people should annotate each slide?\")]),_c('v-slider',{attrs:{\"label\":\"Intersection\",\"min\":1,\"max\":_vm.totalIntersection,\"step\":\"1\",\"thumb-label\":\"\",\"ticks\":\"always\",\"tick-size\":\"5\"},model:{value:(_vm.task.concurrent),callback:function ($$v) {_vm.$set(_vm.task, \"concurrent\", $$v)},expression:\"task.concurrent\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Continue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\"\r\n              item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <span v-if=\"folders.length > 0\" class=\"grey--text text--darken-2 text-body-2\"\r\n          style=\"font-size: 10px\">Files from:</span>\r\n    <v-treeview\r\n        style=\"max-height: 300px; overflow-y: auto\"\r\n        :items=\"folders\"\r\n        selectable\r\n        dense\r\n        open-all\r\n        item-text=\"name\"\r\n        item-value=\"id\"\r\n        return-object\r\n        :readonly=\"task.project_id == null\"\r\n        v-model=\"task.folders\"\r\n        shaped\r\n        hoverable\r\n        selection-type=\"independent\">\r\n      <template v-slot:label=\"{ item }\">\r\n        <div>{{ item.name }} ({{ item.total }} file(s), {{ item.new }} new files)</div>\r\n      </template>\r\n    </v-treeview>\r\n    <v-checkbox v-if=\"folders.length > 0\" v-model=\"task.only_new\" label=\"Only include new files\"/>\r\n    <v-checkbox v-model=\"task.group_slides\" label=\"Group slides by name\"/>\r\n\r\n    <v-select label=\"Divide between\" chips multiple :items=\"users\"\r\n              item-text=\"username\" v-model=\"task.assigned\"\r\n              return-object/>\r\n\r\n    <span class=\"grey--text text--darken-2 text-body-2\"\r\n          style=\"font-size: 10px\">Intersection: how many people should annotate each slide?</span>\r\n    <v-slider v-model=\"task.concurrent\"\r\n              label=\"Intersection\"\r\n              :min=\"1\"\r\n              :max=\"totalIntersection\"\r\n              step=\"1\"\r\n              thumb-label\r\n              ticks=\"always\"\r\n              tick-size=\"5\"/>\r\n\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Continue</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TaskBatch',\r\n  watch: {\r\n    'task.project_id': function (newValue) {\r\n      if (newValue != null) {\r\n        this.load_folders(newValue);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    totalIntersection() {\r\n      this.$nextTick(() => {\r\n        this.task.concurrent = 1;\r\n      });\r\n      if (this.task.assigned != null) {\r\n        return this.task.assigned.length;\r\n      }\r\n      return 0;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      projects: null,\r\n      users: null,\r\n      folders: [],\r\n      task: {\r\n        name: '',\r\n        project_id: null,\r\n        assigned: [],\r\n        folders: [],\r\n        concurrent: 1,\r\n        only_new: true,\r\n        group_slides: true,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    save() {\r\n      this.$post('task/new_batch', this.task)\r\n        .then((res) => {\r\n          let counter = '';\r\n          Object.entries(res.user_tasks)\r\n            .forEach(([name, count]) => {\r\n              counter += `${name} has ${count} new tasks.\\n`;\r\n            });\r\n          alert(`Successfully created ${res.new_tasks} new tasks.\\n${counter}`);\r\n          this.$emit('done', 'task');\r\n        })\r\n        .catch((err) => alert(err));\r\n    },\r\n\r\n    load_projects() {\r\n      this.$get('project/list')\r\n        .then((resp) => {\r\n          this.projects = resp;\r\n        })\r\n        .catch((err) => alert(err));\r\n    },\r\n    load_users() {\r\n      this.$get('user/list')\r\n        .then((resp) => {\r\n          this.users = resp;\r\n        })\r\n        .catch((err) => alert(err));\r\n    },\r\n    load_folders(projectId) {\r\n      this.$get(`task/folders?project_id=${projectId}`)\r\n        .then((resp) => {\r\n          this.folders = resp;\r\n        })\r\n        .catch(() => {\r\n          alert('Unable to locate the project\\'s folder. Make sure the project is properly setup for the current environment.');\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.load_projects();\r\n    this.load_users();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskBatch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskBatch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskBatch.vue?vue&type=template&id=1852a872&scoped=true&\"\nimport script from \"./TaskBatch.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskBatch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1852a872\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCardActions,VCheckbox,VSelect,VSlider,VSpacer,VTextField,VTreeview})\n","<template>\r\n  <v-container>\r\n    <v-expansion-panels multiple>\r\n      <v-row>\r\n        <v-col sm=\"12\" v-if=\"user.manages_tasks\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Tasks</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-tabs v-model=\"task_type\">\r\n                <v-tab>Annotations</v-tab>\r\n                <v-tab>Revisions</v-tab>\r\n              </v-tabs>\r\n              <v-data-table\r\n                  :headers=\"config.task_headers[task_type]\"\r\n                  :items=\"tasks[task_type]\"\r\n                  :items-per-page=\"5\">\r\n                <template v-slot:item.slides=\"{ item }\">\r\n                  <v-chip-group column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined :readonly=\"true\"\r\n                            v-for=\"slide in item.slides\">\r\n                      {{ slide.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.task=\"{ item }\">\r\n                  <v-chip-group column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined :readonly=\"true\"\r\n                            v-for=\"slide in item.task.slides\">\r\n                      {{ slide.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.usertasks=\"{ item }\">\r\n                  <v-chip-group column show-arrows>\r\n                    <v-chip :readonly=\"true\"\r\n                            v-for=\"task in item.user_tasks\"\r\n                            :outlined=\"task.user == null\"\r\n                            color=\"primary\"\r\n                            @click=\"openTask(task)\">\r\n                      <v-icon v-if=\"task.completed\">mdi-check</v-icon>\r\n                      {{ task.user != null ? task.user.name : task.app.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.revisions=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                    <v-chip :readonly=\"true\"\r\n                            v-for=\"user_task in item.revisions\" dark\r\n                            @click=\"openTask(user_task)\">\r\n                      {{ user_task.user != null ? user_task.user.name : user_task.app.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"editTask(item)\">mdi-pencil</v-icon>\r\n                  <v-icon small @click=\"removeTask(item)\">mdi-delete</v-icon>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"newTask\">New task</v-btn>\r\n                <v-btn text @click=\"newBatch\">New batch</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\" v-if=\"user.manages_users\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Users</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                  :headers=\"config.user_headers\"\r\n                  :items=\"users\"\r\n                  :items-per-page=\"5\">\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"editUser(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-icon small @click=\"removeUser(item)\">mdi-delete</v-icon>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"newUser\">New user</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\" v-if=\"user.manages_projects\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Projects</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                  :headers=\"config.project_header\"\r\n                  :items=\"projects\"\r\n                  :items-per-page=\"5\">\r\n                <template v-slot:item.labels=\"{ item }\">\r\n                  <v-chip-group show-arrows column>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined\r\n                            :color=\"`rgb(${label.color[0]}, ${label.color[1]},${label.color[2]})`\" :readonly=\"true\"\r\n                            v-for=\"label in item.labels\" dark>\r\n                      {{ label.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"editProject(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-icon small v-bind=\"attrs\" v-on=\"on\" @click> mdi-delete</v-icon>\r\n                    </template>\r\n                    <span>Not implemented</span>\r\n                  </v-tooltip>\r\n                </template>\r\n              </v-data-table>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"newProject\">New project</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n      </v-row>\r\n    </v-expansion-panels>\r\n    <v-navigation-drawer v-if=\"drawer\" v-model=\"drawer\" app temporary stateless right width=\"500px\">\r\n      <v-toolbar>\r\n        <v-toolbar-title>\r\n          <v-icon @click=\"drawer = false\" large class=\"mr-1\">mdi-close</v-icon>\r\n          Information editor\r\n        </v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-container>\r\n        <user-editor v-if=\"mode === 'user'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <task-batch v-else-if=\"mode === 'batch'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <project-editor v-else-if=\"mode === 'project'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <task-editor v-else-if=\"mode === 'task'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n      </v-container>\r\n    </v-navigation-drawer>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UserEditor from '../components/UserEditor';\r\nimport ProjectEditor from '../components/ProjectEditor';\r\nimport TaskEditor from '../components/TaskEditor';\r\nimport TaskBatch from '../components/TaskBatch';\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  components: {\r\n    TaskBatch,\r\n    TaskEditor,\r\n    ProjectEditor,\r\n    UserEditor,\r\n  },\r\n  watch: {\r\n    editing(new_value, old_value) {\r\n      // if (old_value != null && old_value.id == null) {\r\n      //     if (new_value != null && new_value.id != null && !this.is_editing) {\r\n      //         if (this.mode === \"user\")\r\n      //             this.users.push(new_value)\r\n      //         else if (this.mode === \"project\")\r\n      //             this.projects.push(new_value)\r\n      //         else if (this.mode === \"task\")\r\n      //             this.tasks.push(new_value)\r\n      //         this.drawer = false\r\n      //     }\r\n      // this.drawer = false\r\n      // }\r\n    },\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.state.user;\r\n    },\r\n  },\r\n  data: () => ({\r\n    drawer: false,\r\n    mode: 'user',\r\n    is_editing: false,\r\n    editing: null,\r\n    users: [],\r\n    projects: [],\r\n    tasks: [],\r\n    task_type: 'annotations',\r\n    config: {\r\n      task_headers: {\r\n        0: [\r\n          {\r\n            text: 'id',\r\n            align: 'start',\r\n            sortable: false,\r\n            value: 'id',\r\n          },\r\n          {\r\n            text: 'Slides',\r\n            value: 'slides',\r\n          },\r\n          {\r\n            text: 'Project',\r\n            value: 'project.name',\r\n          },\r\n          {\r\n            text: 'Annotators',\r\n            value: 'usertasks',\r\n          },\r\n          {\r\n            text: 'Actions',\r\n            value: 'actions',\r\n          },\r\n        ],\r\n        1: [\r\n          {\r\n            text: 'id',\r\n            align: 'start',\r\n            sortable: false,\r\n            value: 'id',\r\n          },\r\n          {\r\n            text: 'Original task',\r\n            value: 'task',\r\n          },\r\n          {\r\n            text: 'To review',\r\n            value: 'revisions',\r\n          },\r\n          {\r\n            text: 'Users',\r\n            value: 'usertasks',\r\n          },\r\n          {\r\n            text: 'Actions',\r\n            value: 'actions',\r\n          },\r\n        ],\r\n      },\r\n      user_headers: [\r\n        {\r\n          text: 'id',\r\n          align: 'start',\r\n          sortable: false,\r\n          value: 'id',\r\n        },\r\n        {\r\n          text: 'Name',\r\n          value: 'name',\r\n        },\r\n        {\r\n          text: 'Username (login)',\r\n          value: 'username',\r\n        },\r\n        {\r\n          text: 'Is admin?',\r\n          value: 'is_admin',\r\n        },\r\n        {\r\n          text: 'Actions',\r\n          value: 'actions',\r\n        },\r\n      ],\r\n      project_header: [\r\n        {\r\n          text: 'Project name',\r\n          align: 'start',\r\n          sortable: false,\r\n          value: 'name',\r\n        },\r\n        {\r\n          text: 'Description',\r\n          value: 'description',\r\n        },\r\n        {\r\n          text: 'Labels',\r\n          value: 'labels',\r\n        },\r\n        {\r\n          text: 'Actions',\r\n          value: 'actions',\r\n        },\r\n      ],\r\n    },\r\n  }),\r\n  methods: {\r\n    done(which) {\r\n      this.drawer = false;\r\n      this.editing = null;\r\n      switch (which) {\r\n        case 'user':\r\n          this.loadUsers();\r\n          break;\r\n        case 'project':\r\n          this.loadProjects();\r\n          break;\r\n        case 'task':\r\n          this.loadTasks();\r\n          break;\r\n      }\r\n    },\r\n    openTask(task) {\r\n      this.$post('session/create', task)\r\n          .then((resp) => {\r\n            this.$store.commit('set_session', resp);\r\n            this.$router.push(`/session/${resp.id}`);\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n    newUser() {\r\n      this.editing = {\r\n        username: '',\r\n        is_admin: false,\r\n        manages_apps: false,\r\n        manages_users: false,\r\n        manages_tasks: false,\r\n        manages_projects: false,\r\n      };\r\n      this.mode = 'user';\r\n      this.drawer = true;\r\n    },\r\n\r\n    newBatch() {\r\n      this.mode = 'batch';\r\n      this.drawer = true;\r\n    },\r\n\r\n    editUser(user) {\r\n      this.is_editing = true;\r\n      this.editing = user;\r\n      this.mode = 'user';\r\n      this.drawer = true;\r\n    },\r\n\r\n    removeUser(user) {\r\n      if (confirm('Are sure you want to remove this user?')) {\r\n        this.$get(`user/remove?user_id=${user.id}`)\r\n            .then((res) => {\r\n              this.loadUsers();\r\n            })\r\n            .catch((err) => alert(err));\r\n      }\r\n    },\r\n\r\n    newProject() {\r\n      this.editing = {\r\n        name: '',\r\n        description: '',\r\n        folder: '',\r\n        labels: [],\r\n      };\r\n      this.mode = 'project';\r\n      this.drawer = true;\r\n    },\r\n\r\n    editProject(project) {\r\n      this.is_editing = true;\r\n      this.editing = project;\r\n      this.mode = 'project';\r\n      this.drawer = true;\r\n    },\r\n\r\n    newTask() {\r\n      this.editing = {\r\n        name: '',\r\n        type: 0,\r\n        slides: [],\r\n        assigned: [],\r\n      };\r\n      this.mode = 'task';\r\n      this.drawer = true;\r\n    },\r\n\r\n    editTask(task) {\r\n      this.is_editing = true;\r\n      this.editing = task;\r\n      this.mode = 'task';\r\n      this.drawer = true;\r\n    },\r\n\r\n    removeTask(task) {\r\n      if (confirm('Are you sure you want to remove this task? Annotations may be lost.')) {\r\n        this.$post('task/remove', task)\r\n            .then((resp) => {\r\n              console.log(resp);\r\n              this.loadTasks();\r\n            })\r\n            .catch((err) => {\r\n              alert(err);\r\n            });\r\n      }\r\n    },\r\n\r\n    loadUsers() {\r\n      if (this.user.manages_users) {\r\n        this.$get('user/list')\r\n            .then((resp) => {\r\n              console.log(resp);\r\n              this.users = resp;\r\n            })\r\n            .catch((err) => {\r\n              alert(err);\r\n            });\r\n      }\r\n    },\r\n\r\n    loadProjects() {\r\n      if (this.user.manages_projects) {\r\n        this.$get('project/list')\r\n            .then((resp) => {\r\n              console.log(resp);\r\n              this.projects = resp;\r\n            })\r\n            .catch((err) => {\r\n              alert(err);\r\n            });\r\n      }\r\n    },\r\n\r\n    loadTasks() {\r\n      if (this.user.manages_tasks) {\r\n        this.$get('task/management_list')\r\n            .then((resp) => {\r\n              this.tasks = resp;\r\n            })\r\n            .catch((err) => alert(err));\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadUsers();\r\n    this.loadProjects();\r\n    this.loadTasks();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=c4f6e7fa&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4f6e7fa\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCardActions,VChip,VChipGroup,VCol,VContainer,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VNavigationDrawer,VRow,VSpacer,VTab,VTabs,VToolbar,VToolbarTitle,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{attrs:{\"align-with-title\":\"\"}},[(_vm.access_overview)?_c('v-tab',{attrs:{\"to\":\"/overview\"}},[_c('span',{staticStyle:{\"font-weight\":\"300\"}},[_vm._v(\"Overview\")])]):_vm._e(),_c('v-tab',{attrs:{\"to\":\"/tasks\"}},[_vm._v(\"Tasks\")]),(_vm.manage_apps)?_c('v-tab',{attrs:{\"to\":\"/apps\"}},[_vm._v(\"Apps\")]):_vm._e(),(_vm.can_export)?_c('v-tab',{attrs:{\"to\":\"/export\"}},[_vm._v(\"Export\")]):_vm._e(),(_vm.is_admin)?_c('v-tab',{attrs:{\"to\":\"/admin\"}},[_vm._v(\"Management\")]):_vm._e()],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(\"WSI Annotation Tool\")]),_c('v-spacer'),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-card',_vm._g(_vm._b({staticClass:\"user-card\",attrs:{\"dark\":\"\",\"flat\":\"\",\"outlined\":\"\",\"color\":\"primary lighten-1\"}},'v-card',attrs,false),on),[_c('v-card-text',[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-dots-vertical-circle\")]),_vm._v(\"\\n          \"+_vm._s(_vm.user_name)+\"\\n        \")],1)],1)]}}])},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){_vm.changePassword = true}}},[_c('v-list-item-title',[_vm._v(\"Change password\")])],1),_c('v-divider'),_c('v-list-item',{on:{\"click\":_vm.logout}},[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1),(_vm.changePassword)?_c('ChangePassword',{model:{value:(_vm.changePassword),callback:function ($$v) {_vm.changePassword=$$v},expression:\"changePassword\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"300\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"\\n      Change password\\n    \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"New password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Change password\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog v-model=\"value\" width=\"300\">\r\n    <v-card>\r\n      <v-card-title class=\"text-h5 grey lighten-2\">\r\n        Change password\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-text-field v-model=\"password\" label=\"New password\" type=\"password\"/>\r\n      </v-card-text>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn text @click=\"close\">Cancel</v-btn>\r\n        <v-btn color=\"primary\" text @click=\"submit\">\r\n          Change password\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ChangePassword',\r\n  watch: {},\r\n  data() {\r\n    return {\r\n      password: null,\r\n    };\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('input', false);\r\n    },\r\n    submit() {\r\n      this.$post('user/change_password', { password: this.password })\r\n        .then((resp) => {\r\n          this.$emit('input', false);\r\n        })\r\n        .catch((err) => alert(err));\r\n    },\r\n  },\r\n  props: ['value'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=a5269396&scoped=true&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5269396\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VSpacer,VTextField})\n","<template>\r\n  <v-app-bar app color=\"primary\" dark>\r\n\r\n    <v-toolbar-title>WSI Annotation Tool</v-toolbar-title>\r\n\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-menu offset-y>\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-card class=\"user-card\"\r\n                dark\r\n                flat\r\n                outlined\r\n                color=\"primary lighten-1\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\">\r\n          <v-card-text>\r\n            <v-icon class=\"mr-1\">mdi-dots-vertical-circle</v-icon>\r\n            {{ user_name }}\r\n          </v-card-text>\r\n        </v-card>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item @click=\"changePassword = true\">\r\n          <v-list-item-title>Change password</v-list-item-title>\r\n        </v-list-item>\r\n        <v-divider></v-divider>\r\n        <v-list-item @click=\"logout\">\r\n          <v-list-item-title>Logout</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n\r\n    <!--    <v-spacer></v-spacer>-->\r\n    <template v-slot:extension>\r\n      <v-tabs align-with-title>\r\n        <v-tab v-if=\"access_overview\" to=\"/overview\">\r\n          <span style=\"font-weight: 300\">Overview</span>\r\n        </v-tab>\r\n        <v-tab to=\"/tasks\">Tasks</v-tab>\r\n        <v-tab v-if=\"manage_apps\" to=\"/apps\">Apps</v-tab>\r\n        <v-tab v-if=\"can_export\" to=\"/export\">Export</v-tab>\r\n        <v-tab v-if=\"is_admin\" to=\"/admin\">Management</v-tab>\r\n      </v-tabs>\r\n    </template>\r\n    <ChangePassword v-if=\"changePassword\" v-model=\"changePassword\"/>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nimport ChangePassword from '@/components/ChangePassword';\r\n\r\nexport default {\r\n  name: 'AppBar',\r\n  components: { ChangePassword },\r\n  data() {\r\n    return { changePassword: false };\r\n  },\r\n  computed: {\r\n    is_admin() {\r\n      const { user } = this.$store.state;\r\n      return user.manages_apps || user.manages_users || user.manages_tasks || user.manages_projects;\r\n    },\r\n    can_export() {\r\n      const { user } = this.$store.state;\r\n      return user.can_export;\r\n    },\r\n    access_overview() {\r\n      const { user } = this.$store.state;\r\n      return user.access_overview;\r\n    },\r\n    manage_apps() {\r\n      const { user } = this.$store.state;\r\n      return user.manages_apps;\r\n    },\r\n    user_name() {\r\n      return this.$store.state.user.name;\r\n    },\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.commit('logout');\r\n      this.$router.push('/login');\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-card {\r\n  height: 100%;\r\n  min-width: 200px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminAppBar.vue?vue&type=template&id=73d20e91&scoped=true&\"\nimport script from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminAppBar.vue?vue&type=style&index=0&id=73d20e91&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73d20e91\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VCard,VCardText,VDivider,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer,VTab,VTabs,VToolbarTitle})\n","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport store from '@/store';\r\nimport Home from './views/Home.vue';\r\nimport Tasks from './views/Tasks.vue';\r\nimport Session from './views/Session.vue';\r\nimport Admin from './views/Admin.vue';\r\nimport AppBar from './components/AppBar.vue';\r\nimport AdminAppBar from './components/AdminAppBar.vue';\r\n\r\nVue.use(Router);\r\n\r\nconst new_router = new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: () => import('./views/Login.vue'),\r\n    },\r\n    {\r\n      path: '/main',\r\n      name: 'main',\r\n      components: {\r\n        default: Tasks,\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n      },\r\n    },\r\n    {\r\n      path: '/tasks',\r\n      name: 'tasks',\r\n      components: {\r\n        default: Tasks,\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n      },\r\n    },\r\n\r\n    {\r\n      path: '/session/:session_id',\r\n      name: 'session',\r\n      components: {\r\n        default: Session,\r\n        app_bar: AppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n      },\r\n    },\r\n    {\r\n      path: '/admin',\r\n      name: 'admin',\r\n      components: {\r\n        default: Admin,\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n        is_admin: false,\r\n      },\r\n    },\r\n    {\r\n      path: '/export',\r\n      name: 'export',\r\n      components: {\r\n        default: () => import('./views/Export.vue'),\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n        is_admin: false,\r\n      },\r\n    },\r\n    {\r\n      path: '/overview',\r\n      name: 'overview',\r\n      components: {\r\n        default: () => import('./views/TaskOverview.vue'),\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n      },\r\n    },\r\n    {\r\n      path: '/apps',\r\n      name: 'apps',\r\n      components: {\r\n        default: () => import('./views/Apps.vue'),\r\n        app_bar: AdminAppBar,\r\n      },\r\n      meta: {\r\n        auth: true,\r\n      },\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'login',\r\n      component: () => import('./views/Login.vue'),\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      component: () => import('./views/About.vue'),\r\n    },\r\n  ],\r\n});\r\nnew_router.beforeEach((to, from, next) => {\r\n  if (to.matched.some((record) => record.meta.auth)) {\r\n    if (store.state.token == null) {\r\n      next({\r\n        path: '/login',\r\n        params: { nextUrl: to.fullPath },\r\n      });\r\n    } else if (to.matched.some((record) => record.meta.is_admin)) {\r\n      if (store.state.user.is_admin) {\r\n        next();\r\n      } else {\r\n        next({ name: 'login' });\r\n      }\r\n    } else {\r\n      next();\r\n    }\r\n  } else {\r\n    next();\r\n  }\r\n});\r\nexport default new_router;\r\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib/framework';\r\nimport colors from 'vuetify/lib/util/colors';\r\nimport '@mdi/font/css/materialdesignicons.css';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n  theme: {\r\n    icons: {\r\n      iconfont: 'mdi',\r\n    },\r\n    themes: {\r\n      light: {\r\n        primary: colors.blueGrey.darken3,\r\n        secondary: colors.grey.darken1,\r\n        accent: colors.orange.accent4,\r\n        error: colors.red.accent3,\r\n      },\r\n      dark: {\r\n        primary: colors.blue.lighten3,\r\n      },\r\n    },\r\n  },\r\n});\r\n","import Vue from 'vue';\r\nimport VueAxios from 'vue-plugin-axios';\r\nimport axios from 'axios';\r\nimport store from '@/store';\r\n\r\nVue.use(VueAxios, {\r\n  axios,\r\n  config: {\r\n    baseURL: process.env.VUE_APP_BASE_URL,\r\n  },\r\n  interceptors: {\r\n    beforeRequest(config, axiosInstance) {\r\n      // Adding the jwt token, if we have one\r\n      if (store.state.token != null) {\r\n        const { token } = store.state;\r\n\r\n        if (token) { config.headers.Authorization = `Bearer ${token}`; }\r\n      }\r\n\r\n      return config;\r\n    },\r\n    beforeResponse(config, axiosInstance) {\r\n      // console.log(\"beforeResponse: \", config)\r\n    },\r\n\r\n    beforeResponseError(config, axiosInstance) {\r\n      if (config.statusCode === 401) {\r\n      }\r\n    },\r\n  },\r\n});\r\nexport default axios;\r\n","import VueSplit from 'vue-split-panel';\r\nimport Vue from 'vue';\r\n\r\nVue.use(VueSplit);\r\n\r\nexport default VueSplit;\r\n","import 'vuetify/dist/vuetify.min.css';\r\nimport Vue from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\nimport vuetify from './plugins/vuetify';\r\nimport axios from './plugins/axios';\r\nimport split from './plugins/split';\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  axios,\r\n  split,\r\n  render: (h) => h(App),\r\n}).$mount('#app');\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=style&index=0&id=d7568504&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),_c('v-tabs',{model:{value:(_vm.task.type),callback:function ($$v) {_vm.$set(_vm.task, \"type\", $$v)},expression:\"task.type\"}},[_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null || _vm.isAppContext}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 0}}),_vm._v(\"\\n      User annotation\\n    \")],1),_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null || _vm.isAppContext}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 1}}),_vm._v(\"\\n      Revision\\n    \")],1),_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 2}}),_vm._v(\"\\n      App annotation\\n    \")],1)],1),(_vm.task.id == null)?_c('v-tabs-items',{model:{value:(_vm.taskType),callback:function ($$v) {_vm.taskType=$$v},expression:\"taskType\"}},[_c('v-tab-item',{attrs:{\"value\":\"annotation\"}},[_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},[_c('v-scroll-x-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},_vm._l((_vm.task.slides),function(selection,i){return _c('v-chip',{key:i,staticClass:\"ma-1\",attrs:{\"color\":\"grey\",\"dark\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"\\n              mdi-file\\n            \")]),_vm._v(\"\\n            \"+_vm._s(selection.name)+\"\\n          \")],1)}),1)],1),_c('v-treeview',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"},attrs:{\"items\":_vm.files,\"selectable\":\"\",\"dense\":\"\",\"open-on-click\":\"\",\"item-text\":\"name\",\"readonly\":_vm.task.project_id == null,\"return-object\":\"\",\"shaped\":\"\",\"hoverable\":\"\",\"selection-type\":\"leaf\"},model:{value:(_vm.task.slides),callback:function ($$v) {_vm.$set(_vm.task, \"slides\", $$v)},expression:\"task.slides\"}})],1),_c('v-tab-item',{attrs:{\"value\":\"revision\"}},[_c('v-select',{attrs:{\"label\":\"Tasks\",\"items\":_vm.reviewTaskList,\"item-value\":\"id\",\"item-text\":\"name\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({staticClass:\"fit-window\",attrs:{\"three-line\":\"\"}},'v-list-item',attrs,false),on),[_c('v-list-item-content',[(item.name !== '')?_c('v-list-item-title',[_vm._v(_vm._s(item.name))]):_c('v-list-item-title',[_vm._v(\"Annotation task number #\"+_vm._s(item.id))]),_c('v-list-item-subtitle',[_vm._v(\"Created: \"+_vm._s(item.created))]),_c('v-list-item-action-text',_vm._l((item.slides),function(slide){return _c('span',{key:slide.id,staticClass:\"fake-chip\"},[_vm._v(_vm._s(slide.name))])}),0)],1),_c('v-list-item-action',[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":attrs.inputValue,\"ripple\":false}})],1)],1)]}}],null,false,742255232),model:{value:(_vm.review_task),callback:function ($$v) {_vm.review_task=$$v},expression:\"review_task\"}}),(_vm.task.task_id != null)?_c('v-select',{attrs:{\"label\":\"Annotator\",\"items\":_vm.review_task.user_tasks,\"item-value\":\"id\",\"item-text\":\"app.name\",\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({staticClass:\"fit-window\",attrs:{\"two-line\":\"\"}},'v-list-item',attrs,false),on),[_c('v-list-item-content',[('app' in item)?_c('v-list-item-title',[_vm._v(_vm._s(item.app.name))]):_c('v-list-item-title',[_vm._v(_vm._s(item.user.name))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.taskLabel[item.task.type])+\" ♦ Created: \"+_vm._s(item.created)+\"\\n              \")])],1),_c('v-list-item-action',[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":attrs.inputValue,\"ripple\":false}})],1)],1)]}}],null,false,1733673949),model:{value:(_vm.task.revision),callback:function ($$v) {_vm.$set(_vm.task, \"revision\", $$v)},expression:\"task.revision\"}}):_vm._e()],1)],1):_vm._e(),(_vm.value.type === 2)?_c('v-select',{attrs:{\"label\":\"Apps assigned\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.apps,\"item-text\":\"name\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}):_c('v-select',{attrs:{\"label\":\"Users assigned\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Continue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\"\r\n              item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <v-tabs v-model=\"task.type\">\r\n      <v-tab :disabled=\"task.id != null || isAppContext\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 0\"/>\r\n        User annotation\r\n      </v-tab>\r\n      <v-tab :disabled=\"task.id != null || isAppContext\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 1\"/>\r\n        Revision\r\n      </v-tab>\r\n      <v-tab :disabled=\"task.id != null\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 2\"/>\r\n        App annotation\r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-if=\"task.id == null\" v-model=\"taskType\">\r\n      <v-tab-item value=\"annotation\">\r\n        <!--        <v-select :label=\"`File to analyze ${current_folder != null ? `(from ${current_folder})` : '' }`\"-->\r\n        <!--                  v-model=\"task.slides\"-->\r\n        <!--                  :items=\"files\" :readonly=\"task.project_id == null\"-->\r\n        <!--                  item-text=\"id\"-->\r\n        <!--                  multiple-->\r\n        <!--                  chips-->\r\n        <!--                  deletable-chips-->\r\n        <!--                  return-object/>-->\r\n        <div style=\"overflow-y: auto\">\r\n          <v-scroll-x-transition group hide-on-leave>\r\n            <v-chip v-for=\"(selection, i) in task.slides\" :key=\"i\" color=\"grey\"\r\n                    dark small class=\"ma-1\">\r\n              <v-icon left small>\r\n                mdi-file\r\n              </v-icon>\r\n              {{ selection.name }}\r\n            </v-chip>\r\n          </v-scroll-x-transition>\r\n        </div>\r\n        <v-treeview\r\n            style=\"max-height: 300px; overflow-y: auto\"\r\n            :items=\"files\"\r\n            selectable\r\n            dense\r\n            open-on-click\r\n            item-text=\"name\"\r\n            :readonly=\"task.project_id == null\"\r\n            v-model=\"task.slides\"\r\n            return-object\r\n            shaped\r\n            hoverable\r\n            selection-type=\"leaf\"/>\r\n      </v-tab-item>\r\n      <v-tab-item value=\"revision\">\r\n        <v-select label=\"Tasks\" v-model=\"review_task\"\r\n                  :items=\"reviewTaskList\"\r\n                  item-value=\"id\" item-text=\"name\"\r\n                  return-object>\r\n          <template v-slot:item=\"{ item, on, attrs  }\">\r\n            <v-list-item class=\"fit-window\" three-line v-bind=\"attrs\" v-on=\"on\">\r\n              <v-list-item-content>\r\n                <v-list-item-title v-if=\"item.name !== ''\">{{ item.name }}</v-list-item-title>\r\n                <v-list-item-title v-else>Annotation task number #{{ item.id }}</v-list-item-title>\r\n                <v-list-item-subtitle>Created: {{ item.created }}</v-list-item-subtitle>\r\n                <v-list-item-action-text>\r\n                  <span class=\"fake-chip\" v-for=\"slide in item.slides\" :key=\"slide.id\">{{ slide.name }}</span>\r\n                </v-list-item-action-text>\r\n              </v-list-item-content>\r\n              <v-list-item-action>\r\n                <v-simple-checkbox disabled :value=\"attrs.inputValue\" :ripple=\"false\"/>\r\n              </v-list-item-action>\r\n            </v-list-item>\r\n          </template>\r\n        </v-select>\r\n        <v-select v-if=\"task.task_id != null\" label=\"Annotator\"\r\n                  v-model=\"task.revision\"\r\n                  :items=\"review_task.user_tasks\"\r\n                  item-value=\"id\" item-text=\"app.name\"\r\n                  multiple>\r\n          <template v-slot:item=\"{ item, on, attrs  }\">\r\n            <v-list-item class=\"fit-window\" two-line v-bind=\"attrs\" v-on=\"on\">\r\n              <v-list-item-content>\r\n                <v-list-item-title v-if=\"'app' in item\">{{ item.app.name }}</v-list-item-title>\r\n                <v-list-item-title v-else>{{ item.user.name }}</v-list-item-title>\r\n                <v-list-item-subtitle>{{ taskLabel[item.task.type] }} ♦ Created: {{\r\n                    item.created\r\n                  }}\r\n                </v-list-item-subtitle>\r\n              </v-list-item-content>\r\n              <v-list-item-action>\r\n                <v-simple-checkbox disabled :value=\"attrs.inputValue\" :ripple=\"false\"/>\r\n              </v-list-item-action>\r\n            </v-list-item>\r\n          </template>\r\n        </v-select>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n\r\n    <v-select v-if=\"value.type === 2\" label=\"Apps assigned\" chips multiple\r\n              :items=\"apps\" item-text=\"name\"\r\n              v-model=\"task.assigned\"\r\n              return-object/>\r\n    <v-select v-else label=\"Users assigned\" chips multiple\r\n              :items=\"users\" item-text=\"username\"\r\n              v-model=\"task.assigned\"\r\n              return-object/>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Continue</v-btn>\r\n    </v-card-actions>\r\n    <!--    -->\r\n    <!--  </v-form>-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'TaskEditor',\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        this.task = _.cloneDeep(newValue);\r\n      },\r\n    },\r\n\r\n    color_picked(newValue) {\r\n      // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n      this.editing_label.color = [newValue.rgba.r, newValue.rgba.g, newValue.rgba.b];\r\n    },\r\n    'task.project_id': function (newProjectId) {\r\n      if (newProjectId != null) {\r\n        if (this.task.type === 1) {\r\n          // We have to load this project's tasks:\r\n          this.loadReviewTasks(newProjectId);\r\n        } else {\r\n          // We have to load this project's files:\r\n          this.loadFiles(newProjectId);\r\n        }\r\n      }\r\n    },\r\n    'task.type': function (newValue) {\r\n      if (newValue === 1 && this.reviewTaskList.length === 0) {\r\n        this.loadReviewTasks(this.task.project_id);\r\n      }\r\n    },\r\n    review_task(newValue) {\r\n      this.task.task_id = newValue.id;\r\n    },\r\n  },\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.user;\r\n    },\r\n    taskType() {\r\n      if (this.task.type === 0 || this.task.type === 2) {\r\n        return 'annotation';\r\n      }\r\n      return 'revision';\r\n    },\r\n    isAppContext() {\r\n      return this.value.type === 2;\r\n    },\r\n  },\r\n  data: () => ({\r\n    task: null,\r\n    editing_label: null,\r\n    new_label: null,\r\n    users: [],\r\n    apps: [],\r\n    projects: [],\r\n    files: [],\r\n    reviewTaskList: [],\r\n    review_task: [],\r\n    taskLabel: {\r\n      0: 'Human annotation',\r\n      2: 'App annotation'\r\n    }\r\n  }),\r\n  methods: {\r\n    loadUsers() {\r\n      this.$get('user/list')\r\n          .then((resp) => {\r\n            this.users = resp;\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    loadApps() {\r\n      this.$get('app/list')\r\n          .then((resp) => {\r\n            this.apps = resp;\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    loadProjects() {\r\n      this.$get('project/list')\r\n          .then((resp) => this.projects = resp)\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    loadReviewTasks(projectId) {\r\n      this.$get('project/tasks?project_id=' + projectId)\r\n          .then((resp) => {\r\n            this.reviewTaskList = resp;\r\n          })\r\n          .catch((err) => alert(err));\r\n    },\r\n\r\n    save() {\r\n      if (this.task.id == null) {\r\n        this.$post('task/new', this.task)\r\n            .then((resp) => {\r\n              this.task = resp;\r\n              this.$emit('input', resp);\r\n              this.$emit('done', 'task');\r\n            })\r\n            .catch((err) => {\r\n              alert(err);\r\n            });\r\n      } else {\r\n        this.$post('task/edit', this.task)\r\n            .then((resp) => {\r\n              this.task = resp;\r\n              this.$emit('input', resp);\r\n              this.$emit('done', 'task');\r\n            })\r\n            .catch((err) => {\r\n              alert(err);\r\n            });\r\n      }\r\n    },\r\n    loadFiles(projectId) {\r\n      this.$get(`task/files?project_id=${projectId}`)\r\n          .then((resp) => {\r\n            this.files = resp;\r\n          })\r\n          .catch(() => {\r\n            alert('Unable to locate the project\\'s folder. Make sure the project is properly setup for the current environment.');\r\n          });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadProjects();\r\n    if (this.isAppContext) {\r\n      this.loadApps();\r\n    } else {\r\n      this.loadUsers();\r\n    }\r\n    if (this.task.project != null) {\r\n      this.loadFiles(this.task.project.id);\r\n    }\r\n  },\r\n  props: ['value'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fit-window {\r\n  max-width: 500px;\r\n}\r\n\r\n.fake-chip {\r\n  margin-right: 2px;\r\n  margin-left: 2px;\r\n  border-radius: 10px;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  border: 1px dotted #37474f;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskEditor.vue?vue&type=template&id=d7568504&scoped=true&\"\nimport script from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskEditor.vue?vue&type=style&index=0&id=d7568504&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7568504\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemActionText } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VScrollXTransition } from 'vuetify/lib/components/transitions';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCardActions,VChip,VIcon,VListItem,VListItemAction,VListItemActionText,VListItemContent,VListItemSubtitle,VListItemTitle,VScrollXTransition,VSelect,VSimpleCheckbox,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTextField,VTreeview})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=style&index=0&id=172de640&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.63a7d78d.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('div',[_c('v-progress-circular',{staticClass:\"loading\",attrs:{\"indeterminate\":true,\"size\":\"52\"}})],1):_c('div',[_c('v-fade-transition',[_vm._t(\"default\")],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"isLoading\">\n      <v-progress-circular :indeterminate=\"true\" class=\"loading\" size=\"52\"/>\n    </div>\n    <div v-else>\n      <v-fade-transition>\n        <slot></slot>\n      </v-fade-transition>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoadingContent',\n  watch: {\n    loading() {\n    },\n  },\n  props: ['isLoading'],\n};\n</script>\n\n<style scoped>\n.loading {\n  position: absolute;\n\n  margin: auto;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingContent.vue?vue&type=template&id=320d1016&scoped=true&\"\nimport script from \"./LoadingContent.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoadingContent.vue?vue&type=style&index=0&id=320d1016&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"320d1016\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VFadeTransition,VProgressCircular})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingContent.vue?vue&type=style&index=0&id=320d1016&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=fdf254ca&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.82b9c7a5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[(_vm.$route.name==='session')?_c('v-btn',{staticClass:\"hidden-xs-only\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1):_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"WSI Annotation Tool\")])],1),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app-bar app color=\"primary\" dark dense>\n    <v-btn v-if=\"$route.name==='session'\" @click=\"$router.go(-1)\" icon class=\"hidden-xs-only\">\n      <v-icon>mdi-arrow-left</v-icon>\n    </v-btn>\n    <div class=\"d-flex align-center\">\n      <v-img\n          alt=\"Vuetify Logo\"\n          class=\"shrink mr-2\"\n          contain\n          src=\"\"\n          transition=\"scale-transition\"\n          width=\"40\"\n      />\n\n      <v-toolbar-title>WSI Annotation Tool</v-toolbar-title>\n    </div>\n\n    <v-spacer></v-spacer>\n  </v-app-bar>\n</template>\n\n<script>\nexport default {\n  name: 'AppBar',\n\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=2530140e&scoped=true&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2530140e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VImg,VSpacer,VToolbarTitle})\n"],"sourceRoot":""}