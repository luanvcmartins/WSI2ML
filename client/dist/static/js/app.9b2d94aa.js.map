{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/SliceDrawer.js","webpack:///./src/components/AdminAppBar.vue?c66a","webpack:///./src/components/Loading.vue?e891","webpack:///src/components/Loading.vue","webpack:///./src/components/Loading.vue?f931","webpack:///./src/components/Loading.vue?eaaa","webpack:///./src/components/SliceViewer.vue?54cd","webpack:///./src/components/SliceViewerRuler.vue?2163","webpack:///src/components/SliceViewerRuler.vue","webpack:///./src/components/SliceViewerRuler.vue?d821","webpack:///./src/components/SliceViewerRuler.vue?0b89","webpack:///src/components/SliceViewer.vue","webpack:///./src/components/SliceViewer.vue?548e","webpack:///./src/components/SliceViewer.vue?35e9","webpack:///./src/App.vue?f4ff","webpack:///./src/components/HelloWorld.vue?7010","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?4efa","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/views/Home.vue?c2a4","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Tasks.vue?bab0","webpack:///./src/components/TaskStatusOverview.vue?06d3","webpack:///src/components/TaskStatusOverview.vue","webpack:///./src/components/TaskStatusOverview.vue?bcf5","webpack:///./src/components/TaskStatusOverview.vue","webpack:///src/views/Tasks.vue","webpack:///./src/views/Tasks.vue?2e29","webpack:///./src/views/Tasks.vue","webpack:///./src/views/Session.vue?9679","webpack:///./src/components/SideWindow.vue?064e","webpack:///src/components/SideWindow.vue","webpack:///./src/components/SideWindow.vue?386d","webpack:///./src/components/SideWindow.vue?deb7","webpack:///./src/components/AnnotationCard.vue?4fe2","webpack:///src/components/AnnotationCard.vue","webpack:///./src/components/AnnotationCard.vue?215f","webpack:///./src/components/AnnotationCard.vue?1de9","webpack:///src/views/Session.vue","webpack:///./src/views/Session.vue?3c37","webpack:///./src/views/Session.vue?8469","webpack:///./src/views/Admin.vue?afa1","webpack:///./src/components/UserEditor.vue?194a","webpack:///./src/components/VCheckChip.vue?a43b","webpack:///src/components/VCheckChip.vue","webpack:///./src/components/VCheckChip.vue?f642","webpack:///./src/components/VCheckChip.vue","webpack:///src/components/UserEditor.vue","webpack:///./src/components/UserEditor.vue?1274","webpack:///./src/components/UserEditor.vue?0e3e","webpack:///./src/components/ProjectEditor.vue?92c1","webpack:///src/components/ProjectEditor.vue","webpack:///./src/components/ProjectEditor.vue?a701","webpack:///./src/components/ProjectEditor.vue?7929","webpack:///./src/components/TaskEditor.vue?e31b","webpack:///src/components/TaskEditor.vue","webpack:///./src/components/TaskEditor.vue?838f","webpack:///./src/components/TaskEditor.vue?a914","webpack:///./src/components/TaskBatch.vue?f6e7","webpack:///src/components/TaskBatch.vue","webpack:///./src/components/TaskBatch.vue?4530","webpack:///./src/components/TaskBatch.vue","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue","webpack:///./src/components/AdminAppBar.vue?c536","webpack:///src/components/AdminAppBar.vue","webpack:///./src/components/AdminAppBar.vue?9ddc","webpack:///./src/components/AdminAppBar.vue?5eeb","webpack:///./src/router.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/axios.js","webpack:///./src/plugins/split.js","webpack:///./src/main.js","webpack:///./src/components/Loading.vue?e1a9","webpack:///./src/components/SideWindow.vue?15a6","webpack:///./src/views/Session.vue?0375","webpack:///./src/assets/logo.svg","webpack:///./src/components/SliceViewer.vue?1484","webpack:///./src/components/TaskEditor.vue?3aa1","webpack:///./src/assets/logo.png","webpack:///./src/components/UserEditor.vue?2f5f","webpack:///./src/components/AppBar.vue?ba21","webpack:///src/components/AppBar.vue","webpack:///./src/components/AppBar.vue?f6e4","webpack:///./src/components/AppBar.vue","webpack:///./src/components/ProjectEditor.vue?76a4","webpack:///./src/components/SliceViewerRuler.vue?4d7e","webpack:///./src/components/AnnotationCard.vue?8f1e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","freeDrawingDefaultKeyboardBehavior","func","drawer","this","instance","keyCode","drawer_panning","set_canvas_pan","currently_drawing","meta","_enabled","geometry","points","optimizePath","callback","onFinishNewDrawing","stateRestorer","cancel","lineFunction","point1","point2","point3","line1_slope","y","x","line2_slope","line1_b","line2_b","slope","b","toRemove","log","lineFunc","distance1","Math","hypot","filter","item","idx","includes","nullTool","mouseEvent","keyboardEvent","init","circleTool","imagePosition","_mousePointToImagePoint","position","label","current_label","update","rulerTool","startingPoint","endingPoint","active","perpendicular","perpendicularLine","draw","ctx","startPoint","_imagePointToCanvasPoint","endPoint","distance","ruler","Path2D","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","lineCap","stroke","font","fillStyle","text","pixel_width","toFixed","fillText","strokeText","polygonTool","info","help","onInfoUpdate","StateRestorer","addRestorePoint","pop","rectTool","map","dim","temp","freeTool","brushTool","size","PathMeshEraser","editor","mousePosition","controls","some","control","intersectsControl","point","index","indexOf","PathMeshMover","forEach","intersects","PathMeshCreator","cursor","checkPathCreation","left","min","right","max","top","bottom","isPointInPath","annotation","path","newIndex","create_controls","beginPath","ellipse","PI","prevPoint","nextPoint","fill","PathMeshFreeEditor","current_path","editing","panning","polygonOrientation","sum","li","canvasPoint","originalToRemove","additionToRemove","newOriginalPath","newAdditionPath","originalX","additionX","oIndex","aIndex","newPath","cPoint","oPoint","aPoint","oDistance","aDistance","firstPosition","closePath","PathMeshEditor","current_history_point","history","onEditingEvent","restoreState","areaRadius","_viewportLocation","canvas","clientWidth","original_points","color","original_color","onFinishedEditing","currently_editing","_canvas_pos","create_mode","states","current_state_point","onStateRestorerEvent","restoreToPoint","annotations","enabled","elementsOnScreen","new_tool","tools","viewer","focus","drawingStyle","region_opacity","line_weight","filtering","_lastUpdate","editElement","concludeEdit","cancelEdit","resize","width","height","clientHeight","viewportPoint","viewport","pointFromPixel","coordinates","viewportToImageCoordinates","OpenSeadragon","Point","imageToViewerElementCoordinates","Date","now","clearRect","viewportMin","viewportMax","firstPoint","_draw_annotation","_update_polygon","_update_rect","_update_circle","_update_brush","_gen_color","rgb","color_code","_update_path","is_hover","limits","rect","_canvas_points","radius","radiusX","abs","radiusY","canvasPos","lineJoin","_check_intersects","panHorizontal","panVertical","peep","xmin","xmax","ymin","ymax","coord","panTo","imageToViewportCoordinates","tiledImage","world","getItemAt","yZoom","source","dimensions","xZoom","zoom","zoomTo","Viewer","style","getContext","addHandler","windowToImageCoordinates","onViewportChanged","MouseTracker","element","nonPrimaryReleaseHandler","releaseHandler","pressHandler","clickHandler","onClick","dblClickHandler","moveHandler","updateRequired","statusUpdateRequired","onHover","onLeave","keyDownHandler","keyUpHandler","tool","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_t","staticRenderFns","component","VFadeTransition","VProgressCircular","task_type","scopedSlots","_u","fn","ref","on","_g","_b","selected_label","_v","_s","_l","$event","_e","selected_tool","state_restorer","max_undo","model","$$v","$set","expression","instruction","viewportLocation","pixel_density","pixelDensity","bar_size","VAvatar","VBtn","VDivider","VIcon","VList","VListItem","VListItemAvatar","VListItemContent","VListItemTitle","VMenu","VSlider","next","link","eco","ecosystem","importantLinks","whatsNext","VCol","VContainer","VImg","VRow","VApp","VMain","Vue","use","Vuex","Store","state","session","user","token","mutations","set_session","login","login_data","logout","actions","components","HelloWorld","loading","tasks","annotation_status","startTask","review_status","annotation_headers","slide","staticStyle","completed","review","review_headers","task","revision","status","total","done","progress","project","startSession","VCard","VCardActions","VCardText","VProgressLinear","VChip","VChipGroup","VDataTable","VScaleTransition","VSimpleCheckbox","VSubheader","tile_sources","project_labels","labels_visible","drawing_style","draw_events","current_slide","properties","regionClicked","onNewRegionDraw","onEditRegionDraw","labelled","id","selected_tab","proxy","genColor","slides","domProps","comment","stopPropagation","slideInfo","revision_enabled","importAnnotations","region","saveEdition","editRegion","annotationFeedback","dismissAnnotation","feedback_dialog","feedback","relabelScreenContinue","shown","VNavigationDrawer","updating_label","card_title","importing","updateRender","label_id","undoing_feedback","swapDrawings","drawing_swapped","description","preventDefault","arguments","importAnnotation","saveRegion","feedbackCorrect","undo","VCardTitle","VSpacer","VTextField","VDialog","VFlex","VLayout","VListItemAction","VListItemGroup","VListItemSubtitle","VSwitch","VTab","VTabItem","VTabs","VTabsItems","VToolbar","VToolbarTitle","config","task_headers","user_task","edit_task","remove_task","new_task","new_batch","user_headers","users","edit_user","remove_user","new_user","project_header","projects","edit_project","new_project","save","$emit","VCheckbox","path_errors","check_path","header","labels","gen_color","change_color","color_menu","color_picked","closeColorPicker","remove_label","add_label","new_label","VColorPicker","VTextarea","selection","files","project_id","review_task_list","review_task","task_id","user_tasks","VScrollXTransition","VSelect","VTreeview","folders","new","assigned","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VTooltip","user_name","VAppBar","Router","new_router","routes","default","Tasks","app_bar","AdminAppBar","auth","Session","AppBar","Admin","is_admin","beforeEach","to","from","matched","record","store","params","nextUrl","fullPath","Vuetify","theme","icons","iconfont","themes","light","primary","colors","blueGrey","darken3","secondary","grey","darken1","accent","shades","black","red","accent3","dark","blue","lighten3","VueAxios","axios","baseURL","process","interceptors","beforeRequest","axiosInstance","headers","Authorization","beforeResponse","beforeResponseError","statusCode","VueSplit","productionTip","router","vuetify","split","h","App","$mount","$route","$router","go"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,cAAgB,GAAG9B,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAI3M,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,GAClDR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,eAAiB,GAAGxC,IAAUA,GAAW,IAAM,CAAC,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,OACnLyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,IAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,oPCvQH+F,G,UAAqC,SAAUC,EAAMhF,GACvD,IAAMiF,EAASC,KAAKC,SACpB,OAAQH,GACJ,IAAK,UACiB,KAAdhF,EAAEoF,UACFF,KAAKG,gBAAiB,EAEtBJ,EAAOK,gBAAe,GACU,MAA5BL,EAAOM,oBACPN,EAAOM,kBAAkBC,KAAKC,UAAW,IAEjD,MACJ,IAAK,QACiB,KAAdzF,EAAEoF,UAEFH,EAAOK,gBAAe,GAEtBL,EAAOM,kBAAkBG,SAASC,OAASC,EAAaX,EAAOM,kBAAkBG,SAASC,QAE1FV,EAAOY,SAASC,mBAAmBb,EAAOM,kBAAkBG,UAE5DT,EAAOM,kBAAoB,KACC,MAAxBN,EAAOc,eAAuBd,EAAOc,cAAcC,UAEzC,KAAdhG,EAAEoF,UACFF,KAAKG,gBAAiB,EAEtBJ,EAAOK,gBAAe,IAER,KAAdtF,EAAEoF,UAEFH,EAAOM,kBAAoB,KACC,MAAxBN,EAAOc,eAAuBd,EAAOc,cAAcC,SACvDf,EAAOK,gBAAe,IAE1B,SAINW,EAAe,SAAUC,EAAQC,EAAQC,GAC3C,IAAMC,GAAeF,EAAOG,EAAIJ,EAAOI,IAAMH,EAAOI,EAAIL,EAAOK,GACzDC,GAAeJ,EAAOE,EAAIH,EAAOG,IAAMF,EAAOG,EAAIJ,EAAOI,GACzDE,EAAUP,EAAOK,EAAIF,EAAcH,EAAOI,EAC1CI,EAAUN,EAAOG,EAAIC,EAAcJ,EAAOE,EAChD,MAAO,CACH,CAACK,MAAON,EAAaO,EAAGH,GACxB,CAACE,MAAOH,EAAaI,EAAGF,KAW1Bd,EAAe,SAAUD,GAC3B,IAAIkB,EAAW,GACf,EAAG,CACCnC,QAAQoC,IAAI,iBACZD,EAAW,GACX,IAAK,IAAI3I,EAAI,EAAGA,EAAIyH,EAAOvH,OAAS,EAAGF,IAAK,CACxC,IAAMgI,EAASP,EAAOzH,EAAI,GACpBiI,EAASR,EAAOzH,GAChBkI,EAAST,EAAOzH,EAAI,GACpB6I,EAAWd,EAAaC,EAAQC,EAAQC,GAC1CW,EAAS,GAAGJ,QAAUI,EAAS,GAAGJ,OAASI,EAAS,GAAGH,IAAMG,EAAS,GAAGH,GAEzEC,EAASnI,KAAKR,GAItB,IAAK,IAAIA,EAAI,EAAGA,EAAIyH,EAAOvH,OAAQF,IAAK,CACpC,IAAMgI,EAASP,EAAOzH,EAAI,GACpBiI,EAASR,EAAOzH,GAChB8I,EAAYC,KAAKC,MAAMhB,EAAOK,EAAIJ,EAAOI,EAAGL,EAAOI,EAAIH,EAAOG,GAChEU,EAAY,GACZH,EAASnI,KAAKR,GAItBwG,QAAQoC,IAAID,EAASzI,OAAQ,sBAAuBuH,EAAOvH,OAAQ,IAAQyI,EAASzI,OAASuH,EAAOvH,OAAU,IAAO,MACrHsG,QAAQoC,IAAI,kBAAmBnB,EAAOvH,QACtCuH,EAASA,EAAOwB,QAAO,SAACC,EAAMC,GAAP,OAAgBR,EAASS,SAASD,MACzD3C,QAAQoC,IAAI,iBAAkBnB,EAAOvH,cAEZ,IAApByI,EAASzI,QAOlB,OAAOuH,GAGL4B,EAAW,CACbxE,KAAM,OACNyE,WAAY,SAAUxC,EAAMhF,KAE5ByH,cAAe,SAAUzC,EAAMhF,KAE/B0H,KANa,SAMRvC,GACD,OAAOD,OAITyC,EAAa,CACf5E,KAAM,SACNoC,SAAU,KACVO,SAAU,KACV8B,WAJe,SAIJxC,EAAMhF,GACb,IAAMiF,EAASC,KAAKC,SACpB,OAAQH,GACJ,IAAK,WACD,GAAqB,MAAjBE,KAAKQ,SAAkB,CACvB,IAAMkC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD5C,KAAKQ,SAAW,CACZxE,KAAMgE,KAAKnC,KACX4C,OAAQ,CAACiC,EAAe3C,EAAO4C,wBAAwB7H,EAAE8H,YAE7D7C,EAAOM,kBAAoB,CACvBwC,MAAO9C,EAAO+C,cACdtC,SAAUR,KAAKQ,SACfF,KAAM,IAEVP,EAAOgD,cAEPhD,EAAOY,SAASC,mBAAmBZ,KAAKQ,UACxCT,EAAOM,kBAAoB,KAC3BL,KAAKQ,SAAW,KAChBT,EAAOgD,SAEX,MACJ,IAAK,OACD,GAAqB,MAAjB/C,KAAKQ,SAAkB,CACvB,IAAMkC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD5C,KAAKQ,SAASC,OAAO,GAAGY,EAAIqB,EAAcrB,EAC1CrB,KAAKQ,SAASC,OAAO,GAAGW,EAAIsB,EAActB,EAC1CrB,EAAOgD,SAGX,QAIZR,cAvCe,SAuCDzC,EAAMhF,GAChB,OAAQgF,GACJ,IAAK,QACiB,KAAdhF,EAAEoF,UACFF,KAAKC,SAASI,kBAAoB,KAClCL,KAAKQ,SAAW,KAChBR,KAAKC,SAAS8C,UAElB,QAGZP,KAlDe,SAkDVvC,GAGD,OAFAD,KAAKC,SAAWA,EAChBT,QAAQoC,IAAI,uBACL5B,OAITgD,EAAY,CACdnF,KAAM,QACNoC,SAAU,KACVgD,cAAe,KACfC,YAAa,KACbC,QAAQ,EACRC,cAAe,EAEfC,kBARc,SAQIrC,EAAQC,GACtB,IAAME,GAAeF,EAAOG,EAAIJ,EAAOI,IAAMH,EAAOI,EAAIL,EAAOK,GACzDE,EAAUP,EAAOK,EAAIF,EAAcH,EAAOI,EAChD,MAAO,CAACK,OAAQ,EAAIN,EAAaO,GAAI,EAAIH,IAG7Ce,WAdc,SAcHxC,EAAMhF,GACb,IAAMiF,EAASC,KAAKC,SACpB,OAAQH,GACJ,IAAK,WACIE,KAAKmD,QAAgC,MAAtBnD,KAAKiD,eAA6C,MAApBjD,KAAKkD,YAItB,MAAtBlD,KAAKiD,eACZjD,KAAKiD,cAAgBlD,EAAO4C,wBAAwB7H,EAAE8H,UACtD5C,KAAKmD,QAAS,IAEdnD,KAAKkD,YAAcnD,EAAO4C,wBAAwB7H,EAAE8H,UACpD5C,KAAKoD,cAAgBpD,KAAKqD,kBAAkBrD,KAAKiD,cAAejD,KAAKkD,aACrElD,KAAKmD,QAAS,IATdnD,KAAKmD,QAAS,EACdnD,KAAKiD,cAAgB,KACrBjD,KAAKkD,YAAc,MASvBnD,EAAOgD,SACP,MACJ,IAAK,OACG/C,KAAKmD,SACLnD,KAAKkD,YAAcnD,EAAO4C,wBAAwB7H,EAAE8H,UACpD5C,KAAKoD,cAAgBpD,KAAKqD,kBAAkBrD,KAAKiD,cAAejD,KAAKkD,aACrEnD,EAAOgD,UAEX,QAIZR,cA1Cc,SA0CAzC,EAAMhF,GACH,UAATgF,GAAkC,KAAdhF,EAAEoF,UACtBF,KAAKmD,QAAS,EACdnD,KAAKiD,cAAgB,KACrBjD,KAAKkD,YAAc,KACnBlD,KAAKC,SAAS8C,WAItBO,KAnDc,SAmDTC,GACD,GAA0B,MAAtBvD,KAAKiD,eAA6C,MAApBjD,KAAKkD,YAAqB,CACxD,IAAMnD,EAASC,KAAKC,SACduD,EAAazD,EAAO0D,yBAAyBzD,KAAKiD,cAAc5B,EAAGrB,KAAKiD,cAAc7B,GACtFsC,EAAW3D,EAAO0D,yBAAyBzD,KAAKkD,YAAY7B,EAAGrB,KAAKkD,YAAY9B,GAChFuC,EAAW5B,KAAKC,MAAMhC,KAAKiD,cAAc5B,EAAIrB,KAAKkD,YAAY7B,EAAGrB,KAAKiD,cAAc7B,EAAIpB,KAAKkD,YAAY9B,GAEzGwC,EAAQ,IAAIC,OAClBD,EAAME,OAAON,EAAWnC,EAAGmC,EAAWpC,GACtCwC,EAAMG,OAAOL,EAASrC,EAAGqC,EAAStC,GAgBlCmC,EAAIS,UAAY,EAChBT,EAAIU,YAAY,CAAC,EAAG,IACpBV,EAAIW,YAAc,QAClBX,EAAIY,QAAU,QACdZ,EAAIa,OAAOR,GACXL,EAAIU,YAAY,IAChBV,EAAIS,UAAY,EAChBT,EAAIW,YAAc,QAClBX,EAAIc,KAAO,aACXd,EAAIe,UAAY,QAChB,IAAMC,GAAQZ,EAAW5D,EAAOyE,aAAaC,QAAQ,GAAK,KAC1DlB,EAAImB,SAASH,EAAM,GAAKf,EAAWnC,GAAMqC,EAASrC,EAAImC,EAAWnC,GAAK,EAAImC,EAAWpC,GAAMsC,EAAStC,EAAIoC,EAAWpC,GAAK,GACxHmC,EAAIoB,WAAWJ,EAAM,GAAKf,EAAWnC,GAAMqC,EAASrC,EAAImC,EAAWnC,GAAK,EAAImC,EAAWpC,GAAMsC,EAAStC,EAAIoC,EAAWpC,GAAK,KAGlIoB,KA3Fc,SA2FTvC,GAED,OADAD,KAAKC,SAAWA,EACTD,OAIT4E,EAAc,CAChB/G,KAAM,UACNoC,SAAU,KACVO,SAAU,KAEVqE,KALgB,WAKF,IACV,IAAIA,EAAO,GADD,mBAANC,EAAM,yBAANA,EAAM,gBAENA,EAAK1C,SAAS,UACdyC,EAAKrL,KAAK,qCACVsL,EAAK1C,SAAS,YACdyC,EAAKrL,KAAK,sCACVsL,EAAK1C,SAAS,SACdyC,EAAKrL,KAAK,8BACVsL,EAAK1C,SAAS,SACdyC,EAAKrL,KAAK,iBACVsL,EAAK1C,SAAS,aACdyC,EAAKrL,KAAK,gCACVsL,EAAK1C,SAAS,UACdyC,EAAKrL,KAAK,6BACVsL,EAAK1C,SAAS,WACdyC,EAAKrL,KAAK,mBACdwG,KAAKC,SAASU,SAASoE,aAAaF,IAGxCvC,WAAY,SAAUxC,EAAMhF,GACxB,IAAMiF,EAASC,KAAKC,SACdyC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD,OAAQ9C,GACJ,IAAK,WAE+B,MAA5BC,EAAOM,mBACPL,KAAKQ,SAAW,CACZxE,KAAM,UACNyE,OAAQ,CAACiC,EAAeA,IAE5B3C,EAAOM,kBAAoB,CACvBwC,MAAO9C,EAAO+C,cACdtC,SAAUR,KAAKQ,SACfF,KAAM,IAGVP,EAAOc,cAAgBmE,EAAcxC,KAAKzC,EAAQC,KAAKQ,UACvDR,KAAK6E,KAAK,UAAW,YAGrB7E,KAAKQ,SAASC,OAAOjH,KAAKkJ,GAC1B3C,EAAOc,cAAcoE,gBAAgB,SACrCjF,KAAK6E,KAAK,OAAQ,OAAQ,UAE9B,MACJ,IAAK,OAC+B,MAA5B9E,EAAOM,oBAEPL,KAAKQ,SAASC,OAAOT,KAAKQ,SAASC,OAAOvH,OAAS,GAAKwJ,EACxD3C,EAAOgD,UAEX,QAIZR,cAAe,SAAUzC,EAAMhF,GAC3B,IAAMiF,EAASC,KAAKC,SAEpB,GAAgC,MAA5BF,EAAOM,kBACP,OAAQP,GACJ,IAAK,QACiB,KAAdhF,EAAEoF,UAEFF,KAAKQ,SAASC,OAAOyE,MACrBnF,EAAOY,SAASC,mBAAmBZ,KAAKQ,UACxCT,EAAOM,kBAAoB,KAC3BN,EAAOc,cAAcC,SACrBd,KAAK6E,KAAK,KAEI,KAAd/J,EAAEoF,UAEEH,EAAOM,kBAAkBG,SAASC,OAAOvH,OAAS,GAElD8G,KAAKQ,SAASC,OAAOrG,OAAO4F,KAAKQ,SAASC,OAAOvH,OAAS,EAAG,GAE7D8G,KAAK6E,KAAK,OAAQ,QAAS7E,KAAKQ,SAASC,OAAOvH,OAAS,EAAI,OAAS,YAGtE6G,EAAOM,kBAAoB,KAC3BN,EAAOc,cAAcC,SACrBd,KAAK6E,KAAK,KAEd9E,EAAOgD,UAEX,QAIhBP,KA7FgB,SA6FXvC,GAGD,OAFAD,KAAKC,SAAWA,EAChBD,KAAK6E,KAAK,SACH7E,OAITmF,EAAW,CACbtH,KAAM,OACNoC,SAAU,KACVO,SAAU,KAEVqE,KALa,WAKC,IACV,IAAIA,EAAO,GADD,mBAANC,EAAM,yBAANA,EAAM,gBAENA,EAAK1C,SAAS,UACdyC,EAAKrL,KAAK,4BACVsL,EAAK1C,SAAS,SACdyC,EAAKrL,KAAK,iCACVsL,EAAK1C,SAAS,WACdyC,EAAKrL,KAAK,mBACdwG,KAAKC,SAASU,SAASoE,aAAaF,IAGxCvC,WAAY,SAAUxC,EAAMhF,GAAG,WACrBiF,EAASC,KAAKC,SACdyC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD,OAAQ9C,GACJ,IAAK,WAC+B,MAA5BC,EAAOM,mBAEPL,KAAKQ,SAAW,CACZxE,KAAMgE,KAAKnC,KACX4C,OAAQ,CAACiC,EAAeA,IAE5B3C,EAAOM,kBAAoB,CACvBwC,MAAO9C,EAAO+C,cACdtC,SAAUR,KAAKQ,SACfF,KAAM,IAEVN,KAAK6E,KAAK,OAAQ,YAIlB,CAAC,IAAK,KAAKO,KAAI,SAAAC,GACX,GAAI,EAAK7E,SAASC,OAAO,GAAG4E,GAAO,EAAK7E,SAASC,OAAO,GAAG4E,GAAM,CAC7D,IAAMC,EAAO,EAAK9E,SAASC,OAAO,GAAG4E,GACrC,EAAK7E,SAASC,OAAO,GAAG4E,GAAO,EAAK7E,SAASC,OAAO,GAAG4E,GACvD,EAAK7E,SAASC,OAAO,GAAG4E,GAAOC,MAIvCvF,EAAOY,SAASC,mBAAmBZ,KAAKQ,UACxCT,EAAOM,kBAAoB,KAC3BN,EAAOc,cAAcC,SACrBd,KAAK6E,KAAK,UAEd9E,EAAOgD,SACP,MACJ,IAAK,OAC+B,MAA5BhD,EAAOM,oBACPN,EAAOM,kBAAkBG,SAASC,OAAO,GAAKiC,EAC9C3C,EAAOgD,UAEX,QAGZR,cAAe,SAAUzC,EAAMhF,GAC3B,IAAMiF,EAASC,KAAKC,SACpB,OAAQH,GACJ,IAAK,QACiB,KAAdhF,EAAEoF,UAEFH,EAAOM,kBAAoB,KAC3BN,EAAOgD,SACP/C,KAAK6E,KAAK,UAEd,QAGZrC,KAxEa,SAwERvC,GAGD,OAFAD,KAAKC,SAAWA,EAChBD,KAAK6E,KAAK,SACH7E,OAITuF,EAAW,CACb1H,KAAM,OACNoC,SAAU,KACVE,gBAAgB,EAChBK,SAAU,KAEVqE,KANa,WAMC,IACV,IAAIA,EAAO,GADD,mBAANC,EAAM,yBAANA,EAAM,gBAENA,EAAK1C,SAAS,QACdyC,EAAKrL,KAAK,6BACVsL,EAAK1C,SAAS,UACdyC,EAAKrL,KAAK,4BACVsL,EAAK1C,SAAS,SACdyC,EAAKrL,KAAK,8BACVsL,EAAK1C,SAAS,aACdyC,EAAKrL,KAAK,+BACVsL,EAAK1C,SAAS,WACdyC,EAAKrL,KAAK,mBACdwG,KAAKC,SAASU,SAASoE,aAAaF,IAGxCvC,WAAY,SAAUxC,EAAMhF,GACxB,IAAMiF,EAASC,KAAKC,SACdyC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD,OAAQ9C,GACJ,IAAK,QACDC,EAAOK,gBAAe,GACjBJ,KAAKG,iBAC0B,MAA5BJ,EAAOM,mBACPL,KAAKQ,SAAW,CACZxE,KAAM,UACNyE,OAAQ,CAACiC,IAEb3C,EAAOM,kBAAoB,CACvBwC,MAAO9C,EAAO+C,cACdtC,SAAUR,KAAKQ,SACfF,KAAM,CAACC,UAAU,IAGrBR,EAAOc,cAAgBmE,EAAcxC,KAAKzC,EAAQC,KAAKQ,WAEvDT,EAAOM,kBAAkBC,KAAKC,UAAW,EAE7CP,KAAK6E,KAAK,QAGd,MACJ,IAAK,QACI7E,KAAKG,gBAA8C,MAA5BJ,EAAOM,mBAA6BN,EAAOM,kBAAkBC,KAAKC,WAC1FP,KAAKQ,SAASC,OAAOjH,KAAKkJ,GAC1B3C,EAAOc,cAAcoE,gBAAgB,UAIzC,MACJ,IAAK,UAC+B,MAA5BlF,EAAOM,oBACPN,EAAOM,kBAAkBC,KAAKC,UAAW,GAC7CP,KAAK6E,KAAK,WAAY,MAAO,OAAQ,UAErC,MAER9E,EAAOgD,UAEXR,cAAe1C,EACf2C,KAjEa,SAiERvC,GAID,OAHAD,KAAKC,SAAWA,EAChBA,EAASG,gBAAe,GACxBJ,KAAK6E,KAAK,QAAS,OACZ7E,OAKTwF,EAAY,CACd3H,KAAM,QACNoC,SAAU,KACVwF,KAAM,IACNtF,gBAAgB,EAChBK,SAAU,KAEV8B,WAAY,SAAUxC,EAAMhF,GACxB,IAAMiF,EAASC,KAAKC,SACdyC,EAAgB3C,EAAO4C,wBAAwB7H,EAAE8H,UACvD,OAAQ9C,GACJ,IAAK,QACD,GAAIE,KAAKG,eAAgB,OACzBJ,EAAOK,gBAAe,GAEU,MAA5BL,EAAOM,oBACPL,KAAKQ,SAAW,CACZxE,KAAM,QACNyJ,KAAMzF,KAAKyF,KACXhF,OAAQ,CAACiC,IAEb3C,EAAOM,kBAAoB,CACvBwC,MAAO9C,EAAO+C,cACdtC,SAAUR,KAAKQ,SACfF,KAAM,CAACC,UAAU,KAIzB,MACJ,IAAK,QACIP,KAAKG,gBAA8C,MAA5BJ,EAAOM,mBAA6BN,EAAOM,kBAAkBC,KAAKC,UAC1FP,KAAKQ,SAASC,OAAOjH,KAAKkJ,GAC9B,MACJ,IAAK,UAC+B,MAA5B3C,EAAOM,oBACPN,EAAOM,kBAAkBC,KAAKC,UAAW,GAC7CR,EAAOK,gBAAe,GAEtB,MAERL,EAAOgD,UAGXR,cAAe1C,EAGf2C,KA9Cc,SA8CTvC,GAGD,OAFAD,KAAKC,SAAWA,EAChBA,EAASG,gBAAe,GACjBJ,OAIT0F,EAAiB,CACnBC,OAAQ,KACRxC,QAAQ,EAERb,WAAY,SAAUxC,EAAMhF,GACxB,IAAM6K,EAAS3F,KAAK2F,OACd5F,EAAS4F,EAAO1F,SAEtB,OAAQH,GACJ,IAAK,QACDE,KAAKmD,QAAS,EACdpD,EAAOK,gBAAe,GACtB,MACJ,IAAK,UACDJ,KAAKmD,QAAS,EACdpD,EAAOK,gBAAe,GACtB,MACJ,IAAK,OACD,IAAoB,IAAhBJ,KAAKmD,OAAiB,CACtB,IAAMyC,EAAgB7F,EAAO4C,wBAAwB7H,EAAE8H,UAEvD+C,EAAOE,SAASC,MAAK,SAAAC,GACjB,GAAIJ,EAAOK,kBAAkBJ,EAAeG,EAAQE,OAAQ,CAExD,IAAMC,EAAQP,EAAOnF,SAASC,OAAO0F,QAAQJ,EAAQE,OAIrD,OAHAN,EAAOnF,SAASC,OAAOrG,OAAO8L,EAAO,GACrCP,EAAOE,SAASzL,OAAO8L,EAAO,GAC9BP,EAAOV,gBAAgB,WAChB,MAGflF,EAAOgD,SAEX,QAKZP,KAtCmB,SAsCdmD,GAED,OADA3F,KAAK2F,OAASA,EACP3F,OAIToG,EAAgB,CAClBT,OAAQ,KACRI,QAAS,KAETzD,WAAY,SAAUxC,EAAMhF,GAAG,WACrB6K,EAAS3F,KAAK2F,OACd5F,EAAS4F,EAAO1F,SACtB,OAAQH,GACJ,IAAK,QACD,IAAM8F,EAAgB7F,EAAO4C,wBAAwB7H,EAAE8H,UAEvD+C,EAAOE,SAASQ,SAAQ,SAAAN,GACpB,IAAMnD,EAAWmD,EAAQE,MACnBK,EAAaX,EAAOK,kBAAkBJ,EAAehD,GACvD0D,IAEA,EAAKP,QAAUA,EACfhG,EAAOK,gBAAe,OAI9B,MACJ,IAAK,UACDJ,KAAK+F,QAAU,KACfhG,EAAOK,gBAAe,GACtBuF,EAAOV,gBAAgB,SACvB,MACJ,IAAK,OACD,GAAoB,MAAhBjF,KAAK+F,QAAiB,CACtB,IAAMH,EAAgB7F,EAAO4C,wBAAwB7H,EAAE8H,UACvD5C,KAAK+F,QAAQE,MAAM5E,EAAIuE,EAAcvE,EACrCrB,KAAK+F,QAAQE,MAAM7E,EAAIwE,EAAcxE,EACrCrB,EAAOgD,SAEX,QAIZP,KAtCkB,SAsCbmD,GAED,OADA3F,KAAK2F,OAASA,EACP3F,OAITuG,EAAkB,CACpBZ,OAAQ,KACRa,OAAQ,KACRvG,SAAU,KAEVwG,kBALoB,SAKF7D,GAEd,IADA,IAAMnC,EAAST,KAAK2F,OAAOnF,SAASC,OAC3BzH,EAAI,EAAGA,EAAIyH,EAAOvH,OAAQF,IAAK,CACpC,IAAMgI,EAASP,EAAOzH,EAAI,GACpBiI,EAASR,EAAOzH,GAChB0N,EAAO3E,KAAK4E,IAAI3F,EAAOK,EAAGJ,EAAOI,GAAK,GACtCuF,EAAQ7E,KAAK8E,IAAI7F,EAAOK,EAAGJ,EAAOI,GAAK,GACvCyF,EAAM/E,KAAK4E,IAAI3F,EAAOI,EAAGH,EAAOG,GAAK,GACrC2F,EAAShF,KAAK8E,IAAI7F,EAAOI,EAAGH,EAAOG,GAAK,GAE9C,GAAIsF,EAAO9D,EAASvB,GAAKuB,EAASvB,EAAIuF,GAClCE,EAAMlE,EAASxB,GAAKwB,EAASxB,EAAI2F,EACjC,OAAO/N,EAGf,OAAO,MAGXsJ,WAAY,SAAUxC,EAAMhF,GACxB,IAAM6K,EAAS3F,KAAK2F,OACd5F,EAAS4F,EAAO1F,SAChB2C,EAAW7C,EAAO4C,wBAAwB7H,EAAE8H,UAClD,OAAQ9C,GACJ,IAAK,OACD,GAAIC,EAAOwD,IAAIyD,cAAcrB,EAAOsB,WAAW3G,KAAK4G,KAAMpM,EAAE8H,SAASvB,EAAGvG,EAAE8H,SAASxB,GAAI,CACnF,IAAM+F,EAAWnH,KAAKyG,kBAAkB7D,GAGpC5C,KAAKwG,OADO,MAAZW,EACc,CAACvE,SAAUA,EAAUsD,MAAOiB,GAE5B,KAElBpH,EAAOgD,cAEY,MAAf/C,KAAKwG,SACLxG,KAAKwG,OAAS,KACdzG,EAAOgD,UAGf,MACJ,IAAK,QACD,GAAIhD,EAAOwD,IAAIyD,cAAcrB,EAAOsB,WAAW3G,KAAK4G,KAAMpM,EAAE8H,SAASvB,EAAGvG,EAAE8H,SAASxB,GAAI,CACnF,IAAMX,EAASkF,EAAOnF,SAASC,OACzB0G,EAAWnH,KAAKyG,kBAAkB7D,GACxB,MAAZuE,IACAxB,EAAOV,gBAAgB,WACvBxE,EAAOrG,OAAO+M,EAAU,EAAGvE,IAE/BpD,QAAQoC,IAAI,SACZ+D,EAAOyB,kBACPrH,EAAOgD,SAEX,QAIZO,KA7DoB,SA6DfC,GACD,IAAMtD,EAAWD,KAAKC,SAGtB,GADAsD,EAAI8D,YACe,MAAfrH,KAAKwG,OAAgB,CACrB,IAAM/F,EAAST,KAAK2F,OAAOnF,SAASC,OAC9BmC,EAAW3C,EAASwD,yBAAyBzD,KAAKwG,OAAO5D,SAASvB,EAAGrB,KAAKwG,OAAO5D,SAASxB,GAChGmC,EAAI+D,QAAQ1E,EAASvB,EAAGuB,EAASxB,EAAG,EAAG,EAAG,EAAG,EAAIW,KAAKwF,GAAI,GAAG,GAC7D,IAAMC,EAAYvH,EAASwD,yBAAyBhD,EAAOT,KAAKwG,OAAON,MAAQ,GAAG7E,EAAGZ,EAAOT,KAAKwG,OAAON,MAAQ,GAAG9E,GAC7GqG,EAAYxH,EAASwD,yBAAyBhD,EAAOT,KAAKwG,OAAON,OAAO7E,EAAGZ,EAAOT,KAAKwG,OAAON,OAAO9E,GAC3GmC,EAAIO,OAAO0D,EAAUnG,EAAGmG,EAAUpG,GAClCmC,EAAIQ,OAAOnB,EAASvB,EAAGuB,EAASxB,GAChCmC,EAAIQ,OAAO0D,EAAUpG,EAAGoG,EAAUrG,GAClCmC,EAAImE,OACJnE,EAAIa,WAIZ5B,KA/EoB,SA+EfmD,GAGD,OAFA3F,KAAK2F,OAASA,EACd3F,KAAKC,SAAW0F,EAAO1F,SAChBD,OAIT2H,EAAqB,CACvBtH,kBAAmB,KACnBuH,aAAc,KACdjC,OAAQ,KACRkC,SAAS,EACTC,SAAS,EACTxF,WANuB,SAMZxC,EAAMhF,GACb,IAAM6K,EAAS3F,KAAK2F,OACdsB,EAAatB,EAAOsB,WACpBhH,EAAW0F,EAAO1F,SAClB2C,EAAW+C,EAAO1F,SAAS0C,wBAAwB7H,EAAE8H,UAC3D,OAAQ9C,GACJ,IAAK,QAC6B,MAA1BE,KAAKK,kBACDsF,EAAO1F,SAASsD,IAAIyD,cAAcC,EAAW3G,KAAK4G,KAAMpM,EAAE8H,SAASvB,EAAGvG,EAAE8H,SAASxB,KACjFpB,KAAKK,kBAAoB,GACzBL,KAAK6H,SAAU,EACf5H,EAASG,gBAAe,KAG5BJ,KAAK6H,SAAU,EACf5H,EAASG,gBAAe,IAE5B,MACJ,IAAK,OACD,GAAIJ,KAAK8H,QAAS,OACY,MAA1B9H,KAAKK,mBAA6BL,KAAK6H,UACvC7H,KAAKK,kBAAkB7G,KAAKoJ,GAC5B+C,EAAO1F,SAAS8C,UAEpB,MACJ,IAAK,UACD/C,KAAK6H,SAAU,EACf5H,EAASG,gBAAe,GACxB,QAIZ2H,mBAtCuB,SAsCJtH,GAGf,IAFA,IAAIuH,EAAM,EACJC,EAAKxH,EAAOvH,OACTF,EAAI,EAAGA,EAAIiP,EAAIjP,IACpBgP,IAAQvH,EAAOzH,GAAGqI,EAAIZ,EAAOzH,EAAI,GAAGqI,IAAMZ,EAAOzH,GAAGoI,EAAIX,EAAOzH,EAAI,GAAGoI,GAE1E,OADA4G,IAAQvH,EAAOwH,EAAK,GAAG5G,EAAIZ,EAAOwH,EAAK,GAAG5G,IAAMZ,EAAOwH,EAAK,GAAG7G,EAAIX,EAAOwH,EAAK,GAAG7G,GAC3E4G,EAAM,GAGjBzF,cAAe,SAAUzC,EAAMhF,GAAG,WACxBiF,EAASC,KAAK2F,OAAO1F,SAC3B,OAAQH,GACJ,IAAK,QACD,GAAkB,KAAdhF,EAAEoF,QACFH,EAAOK,gBAAe,GACtBJ,KAAK8H,SAAU,OACZ,GAAkB,KAAdhN,EAAEoF,QACTH,EAAOK,gBAAe,GACtBJ,KAAKK,kBAAoB,KACzBN,EAAOgD,cACJ,GAAkB,KAAdjI,EAAEoF,QAAgB,CACzBH,EAAOK,gBAAe,GACtB,IAAMkG,EAAa,SAACY,EAAMjB,GACtB,IAAMiC,EAAcnI,EAAO0D,yBAAyBwC,EAAM5E,EAAG4E,EAAM7E,GACnE,OAAOrB,EAAOwD,IAAIyD,cAAcE,EAAMgB,EAAY7G,EAAG6G,EAAY9G,EAAG,YAElE+G,EAAmBnI,KAAK2F,OAAOnF,SAASC,OAAO2E,KAAI,SAAClD,EAAMgE,GAC5D,GAAII,EAAW,EAAKsB,aAAc1F,GAAO,OAAOgE,KACjDjE,QAAO,SAAAC,GAAI,OAAY,MAARA,KACZkG,EAAmBpI,KAAKK,kBAAkB+E,KAAI,SAAClD,EAAMgE,GACvD,GAAII,EAAW,EAAKX,OAAOnF,SAAS0G,KAAMhF,GAAO,OAAOgE,KACzDjE,QAAO,SAAAC,GAAI,OAAY,MAARA,KAClB1C,QAAQoC,IAAI,qBAAsBuG,EAAkBC,GACpD,IAAMC,EAAkBrI,KAAK2F,OAAOnF,SAASC,OAAOwB,QAAO,SAACjJ,EAAGmJ,GAAJ,OAAagG,EAAiB/F,SAASD,MAC5FmG,EAAkBtI,KAAKK,kBAAkB4B,QAAO,SAACjJ,EAAGmJ,GAAJ,OAAaiG,EAAiBhG,SAASD,MAC7F3C,QAAQoC,IAAI,mBAAoByG,GAChC7I,QAAQoC,IAAI,mBAAoB0G,GAEhC,IAAMC,EAAYvI,KAAK+H,mBAAmBM,GACpCG,EAAYxI,KAAK+H,mBAAmBO,GAC1C9I,QAAQoC,IAAI,SAAU2G,EAAWC,GAC7BA,IAAcD,GACd/I,QAAQoC,IAAI,mBAIhB,IAAI6G,EAAS,EAAGC,EAAS,EACnBC,EAAU,CAACN,EAAgB,IACjC,EAAG,CACC,IAAMO,EAASD,EAAQA,EAAQzP,OAAS,GAClC2P,EAASR,EAAgBI,GACzBK,EAASR,EAAgBI,GAEzBK,EAAYN,EAASJ,EAAgBnP,OAAS6I,KAAKC,MAAM4G,EAAOvH,EAAIwH,EAAOxH,EAAGuH,EAAOxH,EAAIyH,EAAOzH,IAAM,EACtG4H,EAAYN,EAASJ,EAAgBpP,OAAS6I,KAAKC,MAAM4G,EAAOvH,EAAIyH,EAAOzH,EAAGuH,EAAOxH,EAAI0H,EAAO1H,IAAM,EAG5G,GADA5B,QAAQoC,IAAI,eAAgBgH,EAAQH,EAAQC,EAAQ,IAAKK,EAAWC,IACjD,IAAfD,IAAmC,IAAfC,EACpB,OACsB,IAAfA,IAAoC,IAAfD,GAAoBA,EAAYC,GAC5DL,EAAQnP,KAAKqP,GACbJ,OACsB,IAAfM,IAAoC,IAAfC,GAAoBD,EAAYC,KAC5DL,EAAQnP,KAAKsP,GACbJ,WAECD,EAASJ,EAAgBnP,QAAUwP,EAASJ,EAAgBpP,QAGrE,OAFA8G,KAAK2F,OAAOnF,SAASC,OAASC,EAAaiI,GAC3C3I,KAAK2F,OAAO1F,SAAS8C,UACd,EAGX,MACJ,IAAK,UACiB,KAAdjI,EAAEoF,UACFH,EAAOK,gBAAe,GACtBJ,KAAK8H,SAAU,GAEnB,MAIR,OAAO,GAIXxE,KA5HuB,SA4HlBC,GAAK,WACA9C,EAAST,KAAKK,kBACpB,GAAc,MAAVI,EAAgB,CAChB,IAAMyG,EAAO,IAAIrD,OACXoF,EAAgBjJ,KAAK2F,OAAO1F,SAASwD,yBAAyBhD,EAAO,GAAGY,EAAGZ,EAAO,GAAGW,GAC3FmC,EAAI8D,YACJH,EAAKpD,OAAOmF,EAAc5H,EAAG4H,EAAc7H,GAE3CX,EAAO4F,SAAQ,SAAAJ,GACX,IAAMrD,EAAW,EAAK+C,OAAO1F,SAASwD,yBAAyBwC,EAAM5E,EAAG4E,EAAM7E,GAC9E8F,EAAKnD,OAAOnB,EAASvB,EAAGuB,EAASxB,MAErC8F,EAAKgC,YACLlJ,KAAK4H,aAAeV,EACpB3D,EAAIa,OAAO8C,KAInB1E,KA9IuB,SA8IlBmD,GAGD,OAFA3F,KAAK2F,OAASA,EACd3F,KAAKK,kBAAoB,KAClBL,OAITmJ,EAAiB,CACnBlC,WAAY,KACZzG,SAAU,KACVqF,SAAU,GACV5F,SAAU,KACVnB,KAAM,KACNsK,sBAAuB,EACvBC,QAAS,GAETpE,gBAAiB,SAAU9I,GACnB6D,KAAKqJ,QAAQnQ,OAAS,GAAK8G,KAAKoJ,wBAA0BpJ,KAAKqJ,QAAQnQ,OAAS,IAEhFsG,QAAQoC,IAAI,mBAAoB5B,KAAKqJ,QAAQnQ,QAC7C8G,KAAKqJ,QAAQjP,OAAO4F,KAAKoJ,sBAAuBpJ,KAAKqJ,QAAQnQ,OAAS8G,KAAKoJ,uBAC3E5J,QAAQoC,IAAI,mBAAoB5B,KAAKqJ,QAAQnQ,SAEjD8G,KAAKqJ,QAAQ7P,KAAK,CACdwC,KAAMG,EACNsE,OAAQT,KAAKQ,SAASC,OAAO2E,KAAI,SAAAlD,GAC7B,MAAO,CAACb,EAAGa,EAAKb,EAAGD,EAAGc,EAAKd,QAGnCpB,KAAKoJ,sBAAwBpJ,KAAKqJ,QAAQnQ,OAAS,EACnD8G,KAAKC,SAASU,SAAS2I,kBAG3BC,aAAc,SAAU3K,GACpBY,QAAQoC,IAAI,eAAgBhD,EAAOoB,KAAKqJ,SACxCrJ,KAAKQ,SAASC,OAAST,KAAKqJ,QAAQzK,GAAO6B,OAC3CT,KAAKoH,kBACLpH,KAAKC,SAAS8C,SACd/C,KAAKoJ,sBAAwBxK,GAGjCoH,kBAAmB,SAAUJ,EAAehD,GACxC,IAAM7C,EAASC,KAAKC,SACduJ,GAAczJ,EAAO0J,kBAAkB5C,IAAIzF,EAAIrB,EAAO0J,kBAAkB9C,IAAIvF,GAAKrB,EAAO2J,OAAOC,YAAc,GAEnH,OAAO/D,EAAcvE,EAAIuB,EAASvB,EAAImI,GAAc5D,EAAcvE,EAAIuB,EAASvB,EAAImI,GAC/E5D,EAAcxE,EAAIwB,EAASxB,EAAIoI,GAAc5D,EAAcxE,EAAIwB,EAASxB,EAAIoI,GAGpFlH,WAAY,SAAUxC,EAAMhF,GACxBkF,KAAKlB,KAAKwD,WAAWxC,EAAMhF,IAG/ByH,cAAe,SAAUzC,EAAMhF,GAC3B,IAAMiF,EAASC,KAAKC,SAEpB,GAAuC,oBAA5BD,KAAKlB,KAAKyD,gBACbvC,KAAKlB,KAAKyD,cAAczC,EAAMhF,GAKtC,OADA0E,QAAQoC,IAAI9B,EAAMhF,GACVgF,GACJ,IAAK,QACiB,KAAdhF,EAAEoF,SAEFF,KAAKQ,SAASC,OAAST,KAAK4J,gBAC5B5J,KAAKQ,SAASqJ,MAAQ7J,KAAK8J,eAE3B/J,EAAOY,SAASoJ,mBAAkB,EAAO/J,KAAKQ,UAE9CT,EAAOiK,kBAAoB,KAC3BjK,EAAOgD,UACc,KAAdjI,EAAEoF,UAETH,EAAOY,SAASoJ,mBAAkB,EAAM/J,KAAKQ,UAE7CT,EAAOiK,kBAAoB,KAC3BjK,EAAOgD,UAEX,QAIZjC,OA7EmB,WA8Ef,IAAMf,EAASC,KAAKC,SACpBD,KAAKQ,SAASC,OAAST,KAAK4J,gBAC5B5J,KAAKQ,SAASqJ,MAAQ7J,KAAK8J,eAE3B/J,EAAOY,SAASoJ,mBAAkB,EAAO/J,KAAKQ,UAE9CT,EAAOiK,kBAAoB,KAC3BjK,EAAOgD,UAGXO,KAxFmB,SAwFdC,GACD,IAAMxD,EAASC,KAAKC,SACpBsD,EAAIS,UAAY,EAEhBhE,KAAK6F,SAASQ,SAAQ,SAAAN,GAClBxC,EAAI8D,YACJ,IAAMzE,EAAW7C,EAAO0D,yBAAyBsC,EAAQE,MAAM5E,EAAG0E,EAAQE,MAAM7E,GAChFmC,EAAI+D,QAAQ1E,EAASvB,EAAGuB,EAASxB,EAAG,EAAG,EAAG,EAAG,EAAIW,KAAKwF,GAAI,GAAG,GAE7DhE,EAAIe,UAAY,mBAChBf,EAAImE,OACJnE,EAAIW,YAAc,QAClBX,EAAIa,SACJ2B,EAAQkE,YAAcrH,KAII,oBAAnB5C,KAAKlB,KAAKwE,MACjBtD,KAAKlB,KAAKwE,KAAKC,IAGvB6D,gBAAiB,WACbpH,KAAK6F,SAAW7F,KAAKQ,SAASC,OAAO2E,KAAI,SAAAa,GACrC,MAAO,CAACA,MAAOA,OAIvBiE,YAAa,SAAUpL,GACN,WAATA,EACAkB,KAAKlB,KAAO4G,EAAelD,KAAKxC,MAChB,UAATlB,EACPkB,KAAKlB,KAAOsH,EAAc5D,KAAKxC,MACf,YAATlB,EACPkB,KAAKlB,KAAOyH,EAAgB/D,KAAKxC,MACjB,SAATlB,IACPkB,KAAKlB,KAAO6I,EAAmBnF,KAAKxC,QAK5CwC,KAhImB,SAgIdvC,EAAUgH,EAAYnI,GACvBkB,KAAKC,SAAWA,EAChBD,KAAKiH,WAAaA,EAClB,IAAMzG,EAAWyG,EAAWzG,SAU5B,OATAR,KAAKQ,SAAWA,EAChBR,KAAK4J,gBAAkBpJ,EAASC,OAAO2E,KAAI,SAAAa,GACvC,MAAO,CAAC5E,EAAG4E,EAAM5E,EAAGD,EAAG6E,EAAM7E,MAEjCpB,KAAK8J,eAAmC,MAAlBtJ,EAASqJ,MAAgBrJ,EAASqJ,MAAMzE,KAAI,SAAAyE,GAAK,OAAIA,KAAS,CAAC,EAAG,EAAG,GAC3F7J,KAAKQ,SAAWA,EAChBR,KAAKoH,kBACLpH,KAAKkK,YAAYpL,GACjBkB,KAAKqJ,QAAU,GACRrJ,OAQTgF,EAAgB,CAClB/E,SAAU,KACVO,SAAU,KACV2J,OAAQ,GACRC,oBAAqB,EAErBnF,gBANkB,SAMF9I,GACR6D,KAAKmK,OAAOjR,OAAS,GAAK8G,KAAKoK,sBAAwBpK,KAAKmK,OAAOjR,OAAS,IAE5E8G,KAAKmK,OAAO/P,OAAO4F,KAAKoK,oBAAqBpK,KAAKmK,OAAOjR,OAAS8G,KAAKoK,qBACvE5K,QAAQoC,IAAI,mBAAoB5B,KAAKmK,OAAOjR,SAEhD8G,KAAKmK,OAAO3Q,KAAK,CACbwC,KAAMG,EACNsE,OAAQT,KAAKQ,SAASC,OAAO2E,KAAI,SAAAlD,GAC7B,MAAO,CAACb,EAAGa,EAAKb,EAAGD,EAAGc,EAAKd,QAGnCpB,KAAKoK,oBAAsBpK,KAAKmK,OAAOjR,OAAS,EAChD8G,KAAKC,SAASU,SAAS0J,qBAAqBrK,OAIhDsK,eAvBkB,SAuBH1L,GACXY,QAAQoC,IAAI,iBAAkBhD,GAC9BoB,KAAKQ,SAASC,OAAST,KAAKmK,OAAOvL,GAAO6B,OAC1CT,KAAKC,SAAS8C,SACd/C,KAAKoK,oBAAsBxL,EAC3BoB,KAAKC,SAASU,SAAS0J,qBAAqBrK,OAEhDc,OA9BkB,WA+Bdd,KAAKC,SAASY,cAAgB,KAC9Bb,KAAKmK,OAAS,KACdnK,KAAKC,SAASU,SAAS0J,qBAAqB,OAEhD7H,KAnCkB,SAmCbvC,EAAUO,GAKX,OAJAR,KAAKC,SAAWA,EAChBD,KAAKQ,SAAWA,EAChBR,KAAKmK,OAAS,GACdlK,EAASU,SAAS0J,qBAAqBrK,MAChCA,OAIA,QACXuK,YAAa,GAEbzH,cAAe,KAKf0H,SAAS,EAMTC,iBAAkB,GAElB5J,cAAe,KAKf,SAAShD,GACLmC,KAAK0K,SAAW1K,KAAK2K,MAAM9M,KAC3BmC,KAAKI,gBAAe,GACpBJ,KAAK4K,OAAOlB,OAAOmB,SAEvB,WACI,OAAqB,MAAjB7K,KAAK0K,SACE1K,KAAK0K,SAAS7M,KACb,QAGhB,eAAeA,GACXmC,KAAKgK,kBAAkBE,YAAYrM,GACnCmC,KAAK4K,OAAOlB,OAAOmB,SAEvB,iBACI,MAAO,IAMXrG,YAAa,EAEbmG,MAAO,GAEPG,aAAc,CACVC,eAAgB,GAChBC,YAAa,GAOjBC,UAAW,GAUXjB,kBAAmB,KAEnBU,SAAU,KAKVrK,kBAAmB,KAKnB6K,YAAa,EAMbzB,kBAAmB,CAAC9C,IAAK,GAAIE,IAAK,IAElCsE,YAtFW,SAsFClE,GACRjH,KAAKgK,kBAAoBb,EAAe3G,KAAKxC,KAAMiH,EAAY,SAC/DjH,KAAK+C,SAEL/C,KAAKgK,kBAAkB/E,gBAAgB,YAG3CmG,aA7FW,WA+FP5L,QAAQoC,IAAI,gBAAiB5B,KAAKgK,kBAAkBxJ,UACpDR,KAAKW,SAASoJ,mBAAkB,EAAM/J,KAAKgK,kBAAkBxJ,UAC7DR,KAAKgK,kBAAoB,KACzBhK,KAAK+C,UAGTsI,WArGW,WAsGPrL,KAAKgK,kBAAkBlJ,SACvBd,KAAKgK,kBAAoB,KACzBhK,KAAK+C,UAGTuI,OAAQ,WACJtL,KAAK0J,OAAO6B,MAAQvL,KAAK4K,OAAOlB,OAAOC,YACvC3J,KAAK0J,OAAO8B,OAASxL,KAAK4K,OAAOlB,OAAO+B,cAG5C9I,wBAhHW,SAgHaL,GACpB,IAAMoJ,EAAgB1L,KAAK4K,OAAOe,SAASC,eAAetJ,GACpDuJ,EAAc7L,KAAK4K,OAAOe,SAASG,2BAA2BJ,EAAcrK,EAAGqK,EAActK,GACnG,MAAO,CAACC,EAAGwK,EAAYxK,EAAGD,EAAGyK,EAAYzK,IAG7CqC,yBAtHW,SAsHcpC,EAAGD,GACxB,IAAM6E,EAAQ,IAAI8F,IAAcC,MAAM3K,EAAGD,GACzC,OAAOpB,KAAK4K,OAAOe,SAASM,gCAAgChG,IAGhElD,OAAQ,WAAY,WAEhB,GAAgB,MAAZ/C,KAAKuD,IAAT,CAEA,IAAMA,EAAMvD,KAAKuD,IACjB,KAAIvD,KAAKkL,YAAcgB,KAAKC,MAASnM,KAAKyK,iBAAiBvR,OAAS,KAGpEqK,EAAI6I,UAAU,EAAG,EAAGpM,KAAKuD,IAAImG,OAAO6B,MAAOvL,KAAKuD,IAAImG,OAAO8B,QACnC,MAApBxL,KAAKuK,aAAT,CAIA,IAAM8B,EAAcrM,KAAKyJ,kBAAkB9C,IACrC2F,EAActM,KAAKyJ,kBAAkB5C,IAC3C7G,KAAKyK,iBAAmB,GACxBzK,KAAKuK,YAAYlE,SAAQ,SAAAY,GACrB,GAAI,EAAKgE,UAAUhE,EAAWpE,MAAMhF,OAAgC,MAAvBoJ,EAAWzG,SAAkB,CAEtE,IAAM+L,EAAatF,EAAWzG,SAASC,OAAO,GACzC8L,EAAWlL,EAAIgL,EAAYhL,GAAKkL,EAAWlL,EAAIiL,EAAYjL,GACxDkL,EAAWnL,EAAIiL,EAAYjL,GAAKmL,EAAWnL,EAAIkL,EAAYlL,IAC/D,EAAKoL,iBAAiBvF,GACtB,EAAKwD,iBAAiBjR,KAAKyN,QAIT,MAA1BjH,KAAKK,mBACLL,KAAKwM,iBAAiBxM,KAAKK,mBAGD,MAA1BL,KAAKgK,mBACLhK,KAAKgK,kBAAkB1G,KAAKC,GAEE,oBAAvBvD,KAAK0K,SAASpH,MACrBtD,KAAK0K,SAASpH,KAAKC,GAEvBvD,KAAKkL,YAAcgB,KAAKC,SAG5BK,iBAAkB,SAAUvF,GACxB,OAAQA,EAAWzG,SAASxE,MACxB,IAAK,UACDgE,KAAKyM,gBAAgBxF,GACrB,MACJ,IAAK,OACDjH,KAAK0M,aAAazF,GAClB,MACJ,IAAK,SACDjH,KAAK2M,eAAe1F,GACpB,MACJ,IAAK,QACDjH,KAAK4M,cAAc3F,GACnB,QAIZ4F,WApLW,SAoLAC,GACP,gBAAUA,EAAI,GAAd,aAAqBA,EAAI,GAAzB,aAAgCA,EAAI,KAGxCL,gBAAiB,SAAUxF,EAAY4C,GACnC,IAAMtG,EAAMvD,KAAKuD,IACX9C,EAASwG,EAAWzG,SAASC,OAC7BsM,EAAa/M,KAAK6M,WAAoB,MAAThD,EAAgB5C,EAAWpE,MAAMgH,MAAQA,GACtE3C,EAAOlH,KAAKgN,aAAavM,GAEzB+C,EAAaxD,KAAKyD,yBAAyBhD,EAAO,GAAGY,EAAGZ,EAAO,GAAGW,GACxE8F,EAAKnD,OAAOP,EAAWnC,EAAGmC,EAAWpC,GACrC6F,EAAW3G,KAAK4G,KAAOA,EACvB3D,EAAIe,UAAJ,eAAwByI,EAAxB,aAAuC9F,EAAW3G,KAAK2M,SAAW,MAAQjN,KAAK8K,aAAaC,eAA5F,KACAxH,EAAIW,YAAJ,cAAyB6I,EAAzB,KACAxJ,EAAIS,UAAYhE,KAAK8K,aAAaE,YAClCzH,EAAImE,KAAKR,GACT3D,EAAIa,OAAO8C,IAGfwF,aAAc,SAAUzF,EAAY4C,GAEhC,IAAMtG,EAAMvD,KAAKuD,IACXX,EAAW5C,KAAKyD,yBAAyBwD,EAAWzG,SAASC,OAAO,GAAGY,EAAG4F,EAAWzG,SAASC,OAAO,GAAGW,GACxG8L,EAASlN,KAAKyD,yBAAyBwD,EAAWzG,SAASC,OAAO,GAAGY,EAAG4F,EAAWzG,SAASC,OAAO,GAAGW,GACtG2L,EAAa/M,KAAK6M,WAAoB,MAAThD,EAAgB5C,EAAWpE,MAAMgH,MAAQA,GAC5EtG,EAAI8D,YACJ9D,EAAI4J,KAAKvK,EAASvB,EAAGuB,EAASxB,EAAG8L,EAAO7L,EAAIuB,EAASvB,EAAG6L,EAAO9L,EAAIwB,EAASxB,GAC5E6F,EAAW3G,KAAK8M,eAAiB,CAACxK,EAAUsK,GAE5C3J,EAAIe,UAAJ,eAAwByI,EAAxB,aAAuC9F,EAAW3G,KAAK2M,SAAW,MAAQjN,KAAK8K,aAAaC,eAA5F,KACAxH,EAAIW,YAAJ,cAAyB6I,EAAzB,KACAxJ,EAAIS,UAAYhE,KAAK8K,aAAaE,YAClCzH,EAAImE,OACJnE,EAAIa,UAGRuI,eAAgB,SAAU1F,GACtB,IAAM1D,EAAMvD,KAAKuD,IACXwJ,EAAa/M,KAAK6M,WAAW5F,EAAWpE,MAAMgH,OACpDtG,EAAI8D,YACJ,IAAMzE,EAAW5C,KAAKyD,yBAAyBwD,EAAWzG,SAASC,OAAO,GAAGY,EAAG4F,EAAWzG,SAASC,OAAO,GAAGW,GACxGiM,EAASrN,KAAKyD,yBAAyBwD,EAAWzG,SAASC,OAAO,GAAGY,EAAG4F,EAAWzG,SAASC,OAAO,GAAGW,GACtGkM,EAAUvL,KAAKwL,IAAI3K,EAASvB,EAAIgM,EAAOhM,GAAImM,EAAUzL,KAAKwL,IAAI3K,EAASxB,EAAIiM,EAAOjM,GACxF6F,EAAW3G,KAAK8M,eAAiB,CAC7B,CAAC/L,EAAGuB,EAASvB,EAAIiM,EAASlM,EAAGwB,EAASxB,EAAIoM,GAC1C,CAACnM,EAAGuB,EAASvB,EAAIiM,EAASlM,EAAGwB,EAASxB,EAAIoM,IAE9CjK,EAAI+D,QAAQ1E,EAASvB,EAAGuB,EAASxB,EAAGkM,EAASE,EAAS,EAAG,EAAIzL,KAAKwF,GAAI,GAAG,GACzEhE,EAAIe,UAAJ,eAAwByI,EAAxB,aAAuC9F,EAAW3G,KAAK2M,SAAW,MAAQjN,KAAK8K,aAAaC,eAA5F,KACAxH,EAAIW,YAAJ,cAAyB6I,EAAzB,KACAxJ,EAAIS,UAAYhE,KAAK8K,aAAaE,YAClCzH,EAAImE,OACJnE,EAAIa,UAGR4I,aAAc,SAAUvM,GAAQ,WACtByG,EAAO,IAAIrD,OACXL,EAAaxD,KAAKyD,yBAAyBhD,EAAO,GAAGY,EAAGZ,EAAO,GAAGW,GAOxE,OANA8F,EAAKpD,OAAON,EAAWnC,EAAGmC,EAAWpC,GACrCX,EAAO4F,SAAQ,SAAAJ,GACX,IAAMwH,EAAY,EAAKhK,yBAAyBwC,EAAM5E,EAAG4E,EAAM7E,GAC/D8F,EAAKnD,OAAO0J,EAAUpM,EAAGoM,EAAUrM,MAGhC8F,GAGX0F,cAAe,SAAU3F,GACrB,IAAM1D,EAAMvD,KAAKuD,IACX9C,EAASwG,EAAWzG,SAASC,OAC7BsM,EAAa/M,KAAK6M,WAAW5F,EAAWpE,MAAMgH,OAEpDtG,EAAIS,UAAYhE,KAAKyD,yBAAyBwD,EAAWzG,SAASiF,KAAM,GAAGpE,EAAIrB,KAAKyD,yBAAyB,EAAG,GAAGpC,EACnHkC,EAAIY,QAAU,QACdZ,EAAImK,SAAW,QACfnK,EAAIW,YAAJ,eAA0B6I,EAA1B,aAAyC9F,EAAW3G,KAAK2M,SAAW,MAAQjN,KAAK8K,aAAaC,eAA9F,KAEA,IAAM7D,EAAOlH,KAAKgN,aAAavM,GAE/BwG,EAAW3G,KAAK4G,KAAOA,EACvB3D,EAAIa,OAAO8C,IAGfyG,kBAAmB,SAAU1G,EAAYrB,GACrC,GAAiC,SAA7BqB,EAAWzG,SAASxE,MAAgD,WAA7BiL,EAAWzG,SAASxE,KAAmB,CAC9E,IAAMgF,EAASiG,EAAW3G,KAAK8M,eAAe,GACxCnM,EAASgG,EAAW3G,KAAK8M,eAAe,GAC9C,OAAOxH,EAAcvE,EAAIL,EAAOK,GAAKuE,EAAcvE,EAAIJ,EAAOI,GAC1DuE,EAAcxE,EAAIJ,EAAOI,GAAKwE,EAAcxE,EAAIH,EAAOG,EACxD,GAAiC,YAA7B6F,EAAWzG,SAASxE,MAAmD,UAA7BiL,EAAWzG,SAASxE,KACrE,OAAOgE,KAAKuD,IAAIyD,cAAcC,EAAW3G,KAAK4G,KAAMtB,EAAcvE,EAAGuE,EAAcxE,EAAG,YAI9FhB,eAnRW,SAmRIoK,GACXxK,KAAK4K,OAAOgD,cAAgBpD,EAC5BxK,KAAK4K,OAAOiD,YAAcrD,GAG9BsD,KAxRW,SAwRN7G,GACD,IAAM2D,EAAS5K,KAAK4K,OAChBmD,EAAO,IAAUC,GAAQ,EAAGC,EAAO,IAAUC,GAAQ,EACzDjH,EAAWzG,SAASC,OAAO4F,SAAQ,SAAA8H,GAC3BA,EAAM9M,EAAI0M,IAAMA,EAAOI,EAAM9M,GAC7B8M,EAAM9M,EAAI2M,IAAMA,EAAOG,EAAM9M,GAC7B8M,EAAM/M,EAAI6M,IAAMA,EAAOE,EAAM/M,GAC7B+M,EAAM/M,EAAI8M,IAAMA,EAAOC,EAAM/M,MAErC,IAAMgN,EAAQxD,EAAOe,SAAS0C,4BAA4BL,EAAOD,GAAQ,GAAIG,EAAOD,GAAQ,GAC5FzO,QAAQoC,IAAI,SAAUwM,EAAO,MAAOL,EAAMC,EAAMC,EAAMC,GACtDtD,EAAOe,SAASyC,MAAMA,GAAO,GAC7B,IAAME,EAAa1D,EAAO2D,MAAMC,UAAU,GACpCC,EAAQH,EAAWI,OAAOC,WAAWvN,GAAK8M,EAAOD,GAEjDW,EAAQN,EAAWI,OAAOC,WAAWtN,GAAK2M,EAAOD,GACjDc,EAAQJ,EAAQG,EAAQH,EAAQG,EACtChE,EAAOe,SAASmD,OAAOD,EAAe,GAAPA,GAAa,IAiBhDrM,KAAM,SAAUuM,EAAQpO,GAAU,WAExB+I,EAASnO,SAASQ,cAAc,UACtC2N,EAAOsF,MAAMpM,SAAW,WACxB8G,EAAOsF,MAAMtI,KAAO,EACpBgD,EAAOsF,MAAMlI,IAAM,EACnB4C,EAAOsF,MAAMzD,MAAQ,OACrB7B,EAAOsF,MAAMxD,OAAS,OACtBuD,EAAOrF,OAAO7M,YAAY6M,GAG1B1J,KAAK4K,OAASmE,EACd/O,KAAK0J,OAASA,EACd1J,KAAKW,SAAWA,EAChBX,KAAKuD,IAAMmG,EAAOuF,WAAW,MAG7BjP,KAAK4K,OAAOsE,WAAW,mBAAmB,WACtC,IAAM3L,EAAM,EAAKA,IACX8I,EAAc,EAAKzB,OAAOe,SAASwD,yBAAyB,IAAIpD,IAAcC,MAAM,EAAG,IACvFM,EAAc,EAAK1B,OAAOe,SAASwD,yBAAyB,IAAIpD,IAAcC,MAAMzI,EAAImG,OAAO6B,MAAOhI,EAAImG,OAAO8B,SAEnHa,EAAYhL,IAAM,EAAKoI,kBAAkB9C,IAAItF,GAC7CgL,EAAYjL,IAAM,EAAKqI,kBAAkB9C,IAAIvF,GAC7CkL,EAAYjL,IAAM,EAAKoI,kBAAkB5C,IAAIxF,GAC7CiL,EAAYlL,IAAM,EAAKqI,kBAAkB5C,IAAIzF,IAE7C,EAAKT,SAASyO,kBAAkB,EAAK3F,mBACrC,EAAK1G,UAGT,EAAK0G,kBAAkB5C,IAAMyF,EAC7B,EAAK7C,kBAAkB9C,IAAM0F,KAEjCrM,KAAK4K,OAAOsE,WAAW,UAAU,WAC7B,EAAK5D,YAGT,IAAIS,IAAcsD,aAAa,CAC3BC,QAAStP,KAAK4K,OAAOlB,OACrB6F,yBAA0B,SAACzU,KAE3B0U,eAAgB,SAAC1U,GACiB,MAA1B,EAAKkP,kBACL,EAAKU,SAASpI,WAAW,UAAWxH,GAEpC,EAAKkP,kBAAkB1H,WAAW,UAAWxH,IAGrD2U,aAAc,SAAC3U,GACmB,MAA1B,EAAKkP,kBACL,EAAKU,SAASpI,WAAW,QAASxH,GAGlC,EAAKkP,kBAAkB1H,WAAW,QAASxH,IAGnD4U,aAAc,SAAC5U,GACmB,MAA1B,EAAKkP,kBACL,EAAKA,kBAAkB1H,WAAW,QAASxH,GAE3C,EAAK2P,iBAAiBpE,SAAQ,SAACiJ,GACvBA,EAAQhP,KAAK2M,UACb,EAAKtM,SAASgP,QAAQL,OAKtCM,gBAAiB,SAAC9U,GACd,EAAK4P,SAASpI,WAAW,WAAYxH,IAEzC+U,YAAa,SAAC/U,GACV,GAA8B,MAA1B,EAAKkP,mBACL,GAAI,EAAKU,SAASpI,WAAW,OAAQxH,GAAI,YAEzC,GAAI,EAAKkP,kBAAkB1H,WAAW,OAAQxH,GAAI,OAItD,GAA8B,MAA1B,EAAKkP,kBAA2B,CAEhC,IAAI8F,GAAiB,EACrB,EAAKrF,iBAAiBpE,SAAQ,SAACY,GAC3B,IAAMX,EAAa,EAAKqH,kBAAkB1G,EAAYnM,EAAE8H,UAClDmN,EAAuB9I,EAAW3G,KAAK2M,WAAa3G,EAC1DwJ,EAAiBA,GAAmBxJ,GAAcyJ,GAAyBA,EAGvEA,IACIzJ,EACA3F,EAASqP,QAAQ/I,GAEjBtG,EAASsP,QAAQhJ,IAEzBA,EAAW3G,KAAK2M,SAAW3G,KAG3BwJ,IACA,EAAKlF,OAAOlB,OAAOsF,MAAMxI,OAAS,OAClC,EAAKzD,YAIjBmN,eAAgB,SAACpV,GACiB,MAA1B,EAAKkP,kBACL,EAAKU,SAASnI,cAAc,UAAWzH,GAEvC,EAAKkP,kBAAkBzH,cAAc,UAAWzH,IAExDqV,aAAc,SAACrV,GACmB,MAA1B,EAAKkP,kBACL,EAAKU,SAASnI,cAAc,QAASzH,GAErC,EAAKkP,kBAAkBzH,cAAc,QAASzH,MAI1DkF,KAAK2K,MAAQ,CACT,QAAW,kBAAM/F,EAAYpC,KAAK,IAClC,KAAQ,kBAAM+C,EAAS/C,KAAK,IAC5B,KAAQ,kBAAM2C,EAAS3C,KAAK,IAC5B,OAAU,kBAAMC,EAAWD,KAAK,IAChC,MAAS,kBAAMgD,EAAUhD,KAAK,IAC9B,MAAS,kBAAMQ,EAAUR,KAAK,IAC9B,KAAQ,kBAAMH,EAASG,KAAK,KAEhCxC,KAAKoQ,KAAOpQ,KAAKwK,QAAU,UAAY,OAEvCxK,KAAKsL,OAAOyD,EAAOrF,OAAO6B,MAAOwD,EAAOrF,OAAO8B,W,kCCz/CvD,W,oCCAA,IAAI6E,EAAS,WAAa,IAAIC,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEH,EAAa,UAAEG,EAAG,MAAM,CAACA,EAAG,sBAAsB,CAACE,YAAY,UAAUC,MAAM,CAAC,eAAgB,EAAK,KAAO,SAAS,GAAGH,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACH,EAAIO,GAAG,YAAY,IAAI,MACxRC,EAAkB,GCatB,GACE,KAAF,UACE,MAAF,CACI,QAAJ,WACM,QAAN,8BAGE,MAAF,eCrBiV,I,qECQ7UC,EAAY,eACd,EACAV,EACAS,GACA,EACA,KACA,WACA,MAIa,OAAAC,EAAiB,QAMhC,IAAkBA,EAAW,CAACC,gBAAA,OAAgBC,oBAAA,Q,oCCzB9C,IAAIZ,EAAS,WAAa,IAAIC,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,sBAAuBN,EAAU,OAAEG,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAAoB,IAAlBL,EAAIY,UAAiBT,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,IAAM,GAAG,kBAAiB,EAAK,WAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,SAASC,GAC1a,IAAIC,EAAKD,EAAIC,GACTX,EAAQU,EAAIV,MAChB,MAAO,CAACH,EAAG,QAAQH,EAAIkB,GAAGlB,EAAImB,GAAG,CAACb,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOW,GAAI,CAACd,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAS,OAAUN,EAAIoB,eAAe7H,MAAM,GAAM,IAAOyG,EAAIoB,eAAe7H,MAAM,GAAM,IAAOyG,EAAIoB,eAAe7H,MAAM,GAAM,IAAK,KAAO,QAAQyG,EAAIqB,GAAG,mBAAmBrB,EAAIsB,GAAGtB,EAAIoB,eAAe7T,MAAM,mBAAmB,OAAO,MAAK,EAAM,aAAa,CAAC4S,EAAG,SAASH,EAAIuB,GAAIvB,EAAU,QAAE,SAASpO,EAAKgE,GAAO,OAAOuK,EAAG,cAAc,CAACvR,IAAIgH,EAAMqL,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIoB,eAAiBxP,KAAQ,CAACuO,EAAG,qBAAqB,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,MAAS,OAAU1O,EAAK2H,MAAM,GAAM,IAAO3H,EAAK2H,MAAM,GAAM,IAAO3H,EAAK2H,MAAM,GAAM,IAAK,KAAO,SAAS,GAAG4G,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAG1P,EAAKrE,UAAU,IAAI,MAAK,IAAI,IAAI,GAAGyS,EAAIyB,KAAKtB,EAAG,aAAgC,IAAlBH,EAAIY,WAA0C,MAAvBZ,EAAIzI,QAAQyH,QAAiBmB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,YAAc5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,aAAa,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,yBAAyB,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,SAAW5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,UAAU,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,2BAA2B,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,WAAa5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,YAAY,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,yBAAyB,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,SAAW5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,UAAU,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,sBAAsB,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,UAAY5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,WAAW,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,gBAAgB,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,UAAY5Q,KAAKgS,cAAgB,UAAY,QAAQT,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAI0B,cAAgB,WAAW,CAACvB,EAAG,SAAS,CAACH,EAAIqB,GAAG,gBAAgB,IAAI,GAAGrB,EAAIyB,KAA6B,MAAvBzB,EAAIzI,QAAQyH,QAAiBmB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,UAAYN,EAAIzI,QAAQ/I,KAAO,UAAY,QAAQyS,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzI,QAAQ/I,KAAO,WAAW,CAAC2R,EAAG,SAAS,CAACH,EAAIqB,GAAG,+BAA+B,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,WAAaN,EAAIzI,QAAQ/I,KAAO,UAAY,QAAQyS,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzI,QAAQ/I,KAAO,YAAY,CAAC2R,EAAG,SAAS,CAACH,EAAIqB,GAAG,gCAAgC,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,YAAcN,EAAIzI,QAAQ/I,KAAO,UAAY,QAAQyS,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzI,QAAQ/I,KAAO,aAAa,CAAC2R,EAAG,SAAS,CAACH,EAAIqB,GAAG,+BAA+B,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,MAAQ,SAAWN,EAAIzI,QAAQ/I,KAAO,UAAY,QAAQyS,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzI,QAAQ/I,KAAO,UAAU,CAAC2R,EAAG,SAAS,CAACH,EAAIqB,GAAG,sBAAsB,IAAI,GAAGrB,EAAIyB,MAAM,GAAIzB,EAAI2B,eAAsB,QAAExB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,IAAI,MAAQ,GAAG,eAAe,GAAG,IAAMN,EAAI2B,eAAeC,SAAS,MAAQ,QAAQC,MAAM,CAACvT,MAAO0R,EAAI2B,eAAmB,KAAEtR,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI2B,eAAgB,OAAQG,IAAME,WAAW,0BAA0B,GAAGhC,EAAIyB,KAAMzB,EAAIzL,KAAK3L,OAAS,EAAGuX,EAAG,MAAM,CAACE,YAAY,aAAaL,EAAIuB,GAAIvB,EAAQ,MAAE,SAASiC,GAAa,OAAO9B,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACL,EAAIqB,GAAGrB,EAAIsB,GAAGW,SAAkB,GAAGjC,EAAIyB,OAAOzB,EAAIyB,KAAKtB,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,eAAe,GAAG,cAAc,GAAG,MAAQ,GAAG,IAAM,GAAG,IAAM,MAAM,KAAO,KAAKO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACvuH,IAAI1S,EAAQ0S,EAAI1S,MAChB,MAAO,CAAC0R,EAAIqB,GAAG,aAAarB,EAAIsB,GAAGhT,EAAM6F,QAAQ,IAAI,iBAAiB0N,MAAM,CAACvT,MAAO0R,EAAQ,KAAE3P,SAAS,SAAUyR,GAAM9B,EAAIzB,KAAKuD,GAAKE,WAAW,UAAU7B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzB,KAAO,KAAK,CAACyB,EAAIqB,GAAG,QAAQlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzB,KAAO,KAAK,CAACyB,EAAIqB,GAAG,QAAQlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzB,KAAO,MAAM,CAACyB,EAAIqB,GAAG,SAASlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzB,KAAO,MAAM,CAACyB,EAAIqB,GAAG,SAASlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIzB,KAAO,MAAM,CAACyB,EAAIqB,GAAG,UAAU,IAAI,GAAGlB,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,mBAAmB,CAACG,MAAM,CAAC,MAAQN,EAAIkC,iBAAiB,gBAAgBlC,EAAImC,kBAAkB,MAC31B3B,EAAkB,G,6ECNlB,EAAS,WAAa,IAAIR,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,iBAAiBC,MAAM,CAAC,GAAK,eAAe,MAAQ,KAAK,OAAS,QAAQH,EAAG,MAAM,CAACE,YAAY,cAAc,CAACL,EAAIqB,GAAGrB,EAAIsB,IAAItB,EAAIoC,aAAa1S,KAAK2S,UAAUlO,QAAQ,IAAI,WACzS,EAAkB,G,qBCStB,GACE,KAAF,mBACE,MAAF,CACI,aAAJ,CACM,WAAN,EACM,QAFN,SAEA,GAEQ,KAAR,gBAQI,SAAJ,YACM,KAAN,gBAGE,SAAF,GACE,KApBF,WAqBI,MAAJ,CACM,SAAN,KAGE,QAAF,CACI,YAAJ,yBACA,iBACM,KAAN,oEACM,KAAN,gBACM,KAAN,iBACM,KAAN,+BACM,KAAN,aAEM,KAAN,gBACM,KAAN,iBACM,KAAN,kBACM,KAAN,aACM,KAAN,gBACM,KAAN,+BACM,KAAN,gCACM,KAAN,gBACA,IAEE,QA5CF,WA4CI,IAAJ,OACI,KAAJ,+CACI,KAAJ,iCACI,KAAJ,2BACM,IAAN,gBACM,EAAN,kDAGE,MAAF,0BC9D0V,I,wBCQtVsM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,olBC4Gf,OACE,KAAF,cACE,WAAF,CAAI,iBAAJ,GACE,SAAF,CACI,UAAJ,WACM,OAAN,gCAEI,cAAJ,WAEM,GAAN,iEACM,IAAN,0DACA,4BACM,OAAN,yCAIE,KAAF,WACI,MAAJ,CACM,eAAN,KACM,gBAAN,GACM,cAAN,UACM,YAAN,GACM,KAAN,EACM,iBAAN,KACM,QAAN,CACQ,QAAR,KACQ,KAAR,SAEM,eAAN,CACQ,SAAR,EACQ,KAAR,EACQ,SAAR,GAEM,KAAN,KAGE,MAAF,CACI,MAAJ,CACM,WAAN,EACM,QAAN,YACQ,KAAR,kBACQ,EAAR,mBACQ,EAAR,gBAGI,UAAJ,CACM,WAAN,EACM,QAFN,SAEA,GACQ,EAAR,qBAGI,OAAJ,CACM,WAAN,EACM,QAAN,YACQ,KAAR,sBAGI,iBAAJ,CACM,WAAN,EACM,MAAN,EACM,QAAN,YACQ,EAAR,iBACQ,EAAR,gBAGI,eAAJ,CACM,WAAN,EACM,QAAN,YACQ,EAAR,qBACA,4BAEU,EAAV,gBAII,cAAJ,YACM,EAAN,aAEI,KAAJ,YACM,IAAN,cACA,+BACQ,EAAR,mBAEM,KAAN,oBAEI,aAAJ,CACM,MAAN,EACM,QAFN,SAEA,GACQ,EAAR,oBACQ,EAAR,gBAGI,eAAJ,YACM,EAAN,mBAEI,sBAAJ,YACA,sBACQ,EAAR,qCAEM,KAAN,oBAEI,YAAJ,YACM,KAAN,gBAEI,gBAAJ,CACM,WAAN,EACM,MAAN,EACM,QAHN,SAGA,GACQ,EAAR,kCAIE,QAAF,CACI,YADJ,SACA,GACM,KAAN,kBACM,KAAN,mBACM,EAAN,qBAEI,YANJ,SAMA,GAGM,EAAN,qBAEI,WAXJ,WAYM,EAAN,oBAGE,QA/HF,WA+HI,IAAJ,OACI,QAAJ,mCACI,KAAJ,sBACM,IAAN,OACQ,GAAR,mBACQ,YAAR,cACQ,eAAR,EACQ,kBAAR,YACQ,eAAR,OACQ,gBAAR,OACQ,gBAAR,QACQ,eAAR,QACQ,uBAAR,EACQ,qBAAR,CACU,aAAV,KAIA,cACQ,GAAR,SAAU,IAAV,uBADA,EACA,iCADY,EACZ,kBACU,EAAV,kBAIM,EAAN,SACM,EAAN,aACQ,kBAAR,YACU,EAAV,mBACU,EAAV,mCAEQ,QAAR,YACU,EAAV,yBAIQ,QAAR,YACU,EAAV,yBAEQ,QAAR,YACU,EAAV,yBAEQ,qBAAR,YACU,EAAV,mBACA,SACY,EAAZ,0BACY,EAAZ,0CACY,EAAZ,2CAEY,EAAZ,0BAEU,EAAV,sCAEQ,eAAR,WACU,EAAV,mBACU,IAAV,4CACU,EAAV,mBACU,EAAV,eACU,EAAV,8BAEQ,mBAAR,YAEU,EAAV,kBACY,MAAZ,iBACY,SAAZ,KAGQ,aAAR,YACU,EAAV,QAEQ,kBAAR,cACA,IACY,QAAZ,kBACA,mBADA,IAEc,SAAd,KAEY,EAAZ,yBACA,mBADA,IAEc,SAAd,MAGU,EAAV,qBACU,EAAV,uCAGM,EAAN,sCACQ,EAAR,mBACQ,EAAR,eAEM,EAAN,uBAGE,MAAF,CACI,OAAJ,CACM,KAAN,QACM,SAAN,GAEI,OAAJ,CAAM,KAAN,OACI,MAAJ,CAAM,KAAN,OACI,YAAJ,CAAM,KAAN,QACI,iBAAJ,CAAM,KAAN,QACI,aAAJ,CAAM,KAAN,QACI,WAAJ,GACI,gBAAJ,CAAM,KAAN,UCpWqV,I,yJCQjV,EAAY,eACd,EACAV,EACAS,GACA,EACA,KACA,WACA,MAIa,SAAiB,QAehC,IAAkB,EAAW,CAAC8B,UAAA,KAAQC,OAAA,KAAKC,WAAA,KAASC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBC,eAAA,OAAeC,QAAA,KAAMC,UAAA,Q,6GClC5H,EAAS,WAAa,IAAIhD,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,aAAaH,EAAG,SAAS,CAACA,EAAG,gBAAgB,IAAI,IACzLK,EAAkB,GCDlB,EAAS,WAAa,IAAIR,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,QAAsB,QAAU,GAAG,OAAS,UAAU,GAAGH,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACL,EAAIqB,GAAG,0CAA0ClB,EAAG,IAAI,CAACE,YAAY,kCAAkC,CAACL,EAAIqB,GAAG,iFAAiFlB,EAAG,MAAMH,EAAIqB,GAAG,oCAAoClB,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,kCAAkC,OAAS,WAAW,CAACN,EAAIqB,GAAG,2BAA2BlB,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,KAAK,CAACE,YAAY,kCAAkC,CAACL,EAAIqB,GAAG,oCAAoClB,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,WAAWN,EAAIuB,GAAIvB,EAAa,WAAE,SAASiD,EAAKva,GAAG,OAAOyX,EAAG,IAAI,CAACvR,IAAIlG,EAAE2X,YAAY,kBAAkBC,MAAM,CAAC,KAAO2C,EAAKnY,KAAK,OAAS,WAAW,CAACkV,EAAIqB,GAAG,eAAerB,EAAIsB,GAAG2B,EAAKhP,MAAM,mBAAkB,IAAI,GAAGkM,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,KAAK,CAACE,YAAY,kCAAkC,CAACL,EAAIqB,GAAG,uCAAuClB,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,WAAWN,EAAIuB,GAAIvB,EAAkB,gBAAE,SAASkD,EAAKxa,GAAG,OAAOyX,EAAG,IAAI,CAACvR,IAAIlG,EAAE2X,YAAY,kBAAkBC,MAAM,CAAC,KAAO4C,EAAKpY,KAAK,OAAS,WAAW,CAACkV,EAAIqB,GAAG,eAAerB,EAAIsB,GAAG4B,EAAKjP,MAAM,mBAAkB,IAAI,GAAGkM,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,KAAK,CAACE,YAAY,kCAAkC,CAACL,EAAIqB,GAAG,iCAAiClB,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,WAAWN,EAAIuB,GAAIvB,EAAa,WAAE,SAASmD,EAAIza,GAAG,OAAOyX,EAAG,IAAI,CAACvR,IAAIlG,EAAE2X,YAAY,kBAAkBC,MAAM,CAAC,KAAO6C,EAAIrY,KAAK,OAAS,WAAW,CAACkV,EAAIqB,GAAG,eAAerB,EAAIsB,GAAG6B,EAAIlP,MAAM,mBAAkB,IAAI,IAAI,IAAI,IACp4D,EAAkB,GC6FtB,GACE,KAAF,aAEE,KAAF,WAAI,MAAJ,CACMmP,UAAW,CACjB,CACQ,KAAR,iBACQ,KAAR,+CAEA,CACQ,KAAR,SACQ,KAAR,wCAEA,CACQ,KAAR,kBACQ,KAAR,iDAGMC,eAAgB,CACtB,CACQ,KAAR,gBACQ,KAAR,yBAEA,CACQ,KAAR,OACQ,KAAR,mCAEA,CACQ,KAAR,oBACQ,KAAR,qCAEA,CACQ,KAAR,UACQ,KAAR,iCAEA,CACQ,KAAR,WACQ,KAAR,+BAGMC,UAAW,CACjB,CACQ,KAAR,qBACQ,KAAR,iDAEA,CACQ,KAAR,kBACQ,KAAR,0DAEA,CACQ,KAAR,6BACQ,KAAR,wECjJoV,I,iFCOhV7C,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAQhC,IAAkBA,EAAW,CAAC8C,OAAA,KAAKC,aAAA,KAAWC,OAAA,KAAKC,OAAA,OCdnD,OACE,KAAF,MAEE,WAAF,CACI,WAAJ,GAGE,KAAF,WAAI,MAAJ,KCnB8T,I,wBCO1T,EAAY,eACd,EACA,EACAlD,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAMhC,IAAkB,EAAW,CAACmD,OAAA,KAAKC,QAAA,O,4BCrBnCC,OAAIC,IAAIC,QAEO,UAAIA,OAAKC,MAAM,CAC1BC,MAAO,CACHC,QAAS,KACTC,KAAM,KACNC,MAAO,MAEXC,UAAW,CACPC,YADO,SACKL,EAAOC,GACfD,EAAMC,QAAUA,GAGpBK,MALO,SAKDN,EAAOO,GACTP,EAAMG,MAAQI,EAAWJ,MACzBH,EAAME,KAAOK,EAAWL,MAE5BM,OATO,SASAR,GACHA,EAAMG,MAAQ,KACdH,EAAME,KAAO,OAGrBO,QAAS,KCzBT,EAAS,WAAa,IAAI1E,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,WAAW,IAAM,EAAQ,WAAyBH,EAAG,aAAa,CAACG,MAAM,CAAC,IAAM,iCAAiC,IACnQ,EAAkB,GCUtB,GACE/S,KAAM,OACNoX,WAAY,CACVC,WAAJ,ICd8U,ICO1U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MCdE,GDkBW,E,QClBF,WAAa,IAAI5E,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACG,MAAM,CAAC,aAAaN,EAAI6E,UAAU,CAAe,MAAb7E,EAAI8E,MAAe3E,EAAG,cAAc,CAACG,MAAM,CAAC,eAAe,KAAK,CAACH,EAAG,qBAAqB,CAAiC,MAA/BH,EAAI8E,MAAMC,kBAA2B5E,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,uBAAuB,CAACG,MAAM,CAAC,OAASN,EAAI8E,MAAMC,mBAAmB9D,GAAG,CAAC,gBAAgBjB,EAAIgF,YAAY,CAAChF,EAAIqB,GAAG,0DAA0D,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,uBAAuB,CAACG,MAAM,CAAC,OAASN,EAAI8E,MAAMG,eAAehE,GAAG,CAAC,gBAAgBjB,EAAIgF,YAAY,CAAChF,EAAIqB,GAAG,6DAA6D,IAAI,GAAGrB,EAAIyB,MAAM,GAAGtB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACE,YAAY,gBAAgB,CAACL,EAAIqB,GAAG,wCAAwC,GAA6B,MAAzBrB,EAAI8E,MAAM7K,aAAuB+F,EAAI8E,MAAM7K,YAAYrR,OAAS,EAAGuX,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAIkF,mBAAmB,MAAQlF,EAAI8E,MAAM7K,aAAa4G,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACpiC,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAW,QAAE,SAASuT,GAAO,OAAOhF,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,SAAW,GAAG,UAAW,IAAO,CAACN,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAG6D,EAAM5X,MAAM,yBAAwB,MAAM,CAACqB,IAAI,gBAAgBmS,GAAG,SAASC,GACtT,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,gBAAgB,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAa,UAAE,SAASuS,GAAM,OAAOhE,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,UAAW,EAAK,KAAO,KAAK,CAACN,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAG6C,EAAK5W,MAAM,yBAAwB,MAAM,CAACqB,IAAI,iBAAiBmS,GAAG,SAASC,GAClV,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,MAAM,CAACiF,YAAY,CAAC,QAAU,WAAW,CAACjF,EAAG,oBAAoB,CAACiF,YAAY,CAAC,QAAU,gBAAgB9E,MAAM,CAAC,QAAS,EAAM,MAAQ1O,EAAKyT,aAAezT,EAAKyT,UAA4HrF,EAAIyB,KAArHtB,EAAG,SAAS,CAACiF,YAAY,CAAC,QAAU,gBAAgB9E,MAAM,CAAC,SAAW,GAAG,MAAQ,QAAQ,CAACN,EAAIqB,GAAG,iBAA0B,MAAM,CAACzS,IAAI,eAAemS,GAAG,SAASC,GACvV,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ1O,EAAKyT,UAAY,UAAY,mBAAmBpE,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIgF,UAAUpT,MAAS,CAACoO,EAAIqB,GAAG,kCAAkC,MAAK,EAAM,eAAe,IAAI,GAAGrB,EAAIyB,KAAKtB,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACE,YAAY,gBAAgB,CAACL,EAAIqB,GAAG,gCAAgC,GAAwB,MAApBrB,EAAI8E,MAAMQ,QAAkBtF,EAAI8E,MAAMQ,OAAO1c,OAAS,EAAGuX,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAIuF,eAAe,MAAQvF,EAAI8E,MAAMQ,QAAQzE,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACviB,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAK4T,KAAW,QAAE,SAASL,GAAO,OAAOhF,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,SAAW,GAAG,UAAW,IAAO,CAACN,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAG6D,EAAM5X,MAAM,yBAAwB,MAAM,CAACqB,IAAI,iBAAiBmS,GAAG,SAASC,GAC5T,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAc,WAAE,SAAS6T,GAAU,OAAOtF,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,SAAW,GAAG,UAAW,IAAO,CAACN,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAGmE,EAAStB,KAAK5W,MAAM,yBAAwB,MAAM,CAACqB,IAAI,gBAAgBmS,GAAG,SAASC,GACpU,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,gBAAgB,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAa,UAAE,SAASuS,GAAM,OAAOhE,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,UAAW,EAAK,KAAO,KAAK,CAACN,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAG6C,EAAK5W,MAAM,yBAAwB,MAAM,CAACqB,IAAI,iBAAiBmS,GAAG,SAASC,GAClV,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,MAAM,CAACiF,YAAY,CAAC,QAAU,WAAW,CAACjF,EAAG,oBAAoB,CAACiF,YAAY,CAAC,QAAU,gBAAgB9E,MAAM,CAAC,QAAS,EAAM,MAAQ1O,EAAKyT,aAAezT,EAAKyT,UAA4HrF,EAAIyB,KAArHtB,EAAG,SAAS,CAACiF,YAAY,CAAC,QAAU,gBAAgB9E,MAAM,CAAC,SAAW,GAAG,MAAQ,QAAQ,CAACN,EAAIqB,GAAG,iBAA0B,MAAM,CAACzS,IAAI,eAAemS,GAAG,SAASC,GACvV,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ1O,EAAKyT,UAAY,UAAY,mBAAmBpE,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIgF,UAAUpT,MAAS,CAACoO,EAAIqB,GAAG,oDAAoD,MAAK,EAAM,eAAe,IAAI,GAAGrB,EAAIyB,MAAM,GAAGzB,EAAIyB,MAAM,KACxQ,EAAkB,GCnBlB,EAAS,WAAa,IAAIzB,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACA,EAAG,MAAM,CAACH,EAAIO,GAAG,YAAY,GAAGJ,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACL,EAAIqB,GAAG,WAAWrB,EAAIsB,GAAGtB,EAAI0F,OAAOC,MAAM3F,EAAI0F,OAAOE,MAAM,oCAAoC5F,EAAIsB,GAAGtB,EAAI0F,OAAOE,MAAM,OAAO5F,EAAIsB,GAAGtB,EAAI0F,OAAOC,OAAO,aAAaxF,EAAG,IAAI,CAACA,EAAG,oBAAoB,CAACG,MAAM,CAAC,SAAW,GAAG,MAAQN,EAAI6F,aAAa,GAAK7F,EAAI0F,OAAOzC,KAAKoC,UAA2NlF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIqB,GAAG,+EAA/PlB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAI0F,OAAOzC,KAAK6C,QAAQvY,SAAS4S,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIqB,GAAG,sBAAsBlB,EAAG,MAAMH,EAAIqB,GAAG,aAAarB,EAAIsB,GAAGtB,EAAI0F,OAAOzC,KAAK1V,MAAM,kBAAgJ4S,EAAG,aAAaA,EAAG,iBAAiB,CAAqB,MAAnBH,EAAI0F,OAAOzC,KAAc9C,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,kBAAkB,SAAWN,EAAI0F,OAAOzC,KAAKoC,WAAWpE,GAAG,CAAC,MAAQjB,EAAI+F,eAAe,CAAC/F,EAAIqB,GAAG,4BAA4BrB,EAAIyB,MAAM,IAAI,IAC3jC,EAAkB,GCiCtB,GACE,KAAF,qBACE,QAAF,CACI,aADJ,WAEM,KAAN,0CAGE,SAAF,CACI,SAAJ,WACM,OAAN,yCAGE,MAAF,YC9C4V,I,4DCOxV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,IAAiB,QAUhC,IAAkB,EAAW,CAACc,OAAA,KAAKyD,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAU1D,WAAA,KAAS2D,kBAAA,O,gBCyFzE,GACE,KAAF,QACE,WAAF,CAAI,QAAJ,OAAI,mBAAJ,GACE,KAAF,WACI,MAAJ,CACM,SAAN,EACM,MAAN,KACM,WAAN,CACA,kBACA,sBAEM,mBAAN,CACA,CACQ,KAAR,SACQ,MAAR,QACQ,UAAR,EACQ,MAAR,UAEA,CAAQ,KAAR,aAAQ,MAAR,aAEM,CAAE,KAAR,UAAQ,MAAR,gBAEM,CAAE,KAAR,UAAQ,MAAR,YAEM,eAAN,CACA,CACQ,KAAR,oBACQ,MAAR,QACQ,UAAR,EACQ,MAAR,UAEA,CACQ,KAAR,2BACQ,MAAR,QACQ,UAAR,EACQ,MAAR,aAEA,CAAQ,KAAR,aAAQ,MAAR,aACA,CAAQ,KAAR,UAAQ,MAAR,gBACA,CAAQ,KAAR,UAAQ,MAAR,cAIE,QAAF,CACI,UADJ,SACA,GAAM,IAAN,OACM,KAAN,0BACA,kBACQ,EAAR,+BACQ,EAAR,kCAEA,mBAAQ,OAAR,aAGI,UAVJ,WAUM,IAAN,OACM,KAAN,WACM,KAAN,kBACA,kBACQ,EAAR,QACQ,EAAR,cAEA,mBACQ,MAAR,GACQ,EAAR,gBAIE,QAlEF,WAmEI,KAAJ,cCxL+U,I,0ECO3U,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAAC5D,OAAA,KAAK6D,QAAA,KAAMC,aAAA,KAAW9C,OAAA,KAAKC,aAAA,KAAW8C,aAAA,KAAW5C,OAAA,KAAK6C,iBAAA,OAAiBC,mBAAA,KAAgBC,cAAA,OChCrH,IAAI,GAAS,WAAa,IAAIzG,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACiF,YAAY,CAAC,SAAW,WAAW,CAACjF,EAAG,eAAe,CAACa,IAAI,eAAeV,MAAM,CAAC,QAAUN,EAAIkE,QAAQmB,UAAU,eAAerF,EAAI0G,aAAa,OAAS1G,EAAI2G,eAAe,oBAAoB3G,EAAI4G,eAAe,gBAAgB5G,EAAI6G,cAAc,cAAc7G,EAAI8G,YAAY,mBAAmB9G,EAAI+G,cAAcC,YAAY/F,GAAG,CAAC,iBAAiBjB,EAAIiH,cAAc,WAAWjH,EAAIkH,gBAAgB,YAAYlH,EAAImH,kBAAkBtF,MAAM,CAACvT,MAAO0R,EAAIoH,SAASpH,EAAI+G,cAAcM,IAAKhX,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIoH,SAAUpH,EAAI+G,cAAcM,GAAIvF,IAAME,WAAW,gCAAgC7B,EAAG,cAAc,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,MAAQ,kBAAkBO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,WAAW,MAAO,CAACZ,EAAG,SAAS,CAAC0B,MAAM,CAACvT,MAAO0R,EAAgB,aAAE3P,SAAS,SAAUyR,GAAM9B,EAAIsH,aAAaxF,GAAKE,WAAW,iBAAiB,CAAC7B,EAAG,QAAQ,CAACH,EAAIqB,GAAG,UAAiD,MAAtCrB,EAAIoH,SAASpH,EAAI+G,cAAcM,KAAerH,EAAIoH,SAASpH,EAAI+G,cAAcM,IAAIze,OAAS,EAAGuX,EAAG,QAAQ,CAACH,EAAIqB,GAAG,6BAA6BrB,EAAIsB,GAAGtB,EAAIoH,SAASpH,EAAI+G,cAAcM,IAAIze,QAAQ,mBAAmBoX,EAAIyB,MAAM,KAAK8F,OAAM,MAAS,CAACpH,EAAG,kBAAkB,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAqB,IAAlBtB,EAAIY,UAAkB,kBAAoB,mBAAmB,GAAGT,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAgB,aAAE3P,SAAS,SAAUyR,GAAM9B,EAAIsH,aAAaxF,GAAKE,WAAW,iBAAiB,CAAC7B,EAAG,aAAa,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,GAAG,eAAe,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACA,EAAG,eAAe,CAACH,EAAIqB,GAAG,2BAA2BlB,EAAG,MAAM,CAACE,YAAY,iBAAiB+E,YAAY,CAAC,aAAa,QAAQ,aAAa,SAASpF,EAAIuB,GAAIvB,EAAkB,gBAAE,SAASzN,GAAO,OAAO4N,EAAG,WAAW,CAACvR,IAAI2D,EAAM8U,GAAGhH,YAAY,OAAOC,MAAM,CAAC,eAAe,GAAG,MAAQ,GAAG,MAAQ/N,EAAMhF,KAAK,MAAQyS,EAAIwH,SAASjV,EAAMgH,QAAQsI,MAAM,CAACvT,MAAO0R,EAAI4G,eAAerU,EAAMhF,MAAO8C,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI4G,eAAgBrU,EAAMhF,KAAMuU,IAAME,WAAW,mCAAkC,GAAG7B,EAAG,aAAaA,EAAG,MAAM,CAACiF,YAAY,CAAC,QAAU,SAAS,CAACjF,EAAG,WAAW,CAACE,YAAY,YAAY+E,YAAY,CAAC,MAAQ,OAAO9E,MAAM,CAAC,eAAe,GAAG,eAAe,qBAAqB,KAAO,IAAI,cAAc,GAAG,IAAM,MAAM,IAAM,KAAKO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACv5E,IAAI1S,EAAQ0S,EAAI1S,MAChB,MAAO,CAAC0R,EAAIqB,GAAG,2BAA2BrB,EAAIsB,GAAGhT,EAAM6F,QAAQ,IAAI,+BAA+B0N,MAAM,CAACvT,MAAO0R,EAAI6G,cAA4B,eAAExW,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI6G,cAAe,iBAAkB/E,IAAME,WAAW,kCAAkC7B,EAAG,WAAW,CAACE,YAAY,YAAY+E,YAAY,CAAC,MAAQ,OAAO9E,MAAM,CAAC,eAAe,GAAG,eAAe,yBAAyB,KAAO,IAAI,cAAc,GAAG,IAAM,IAAI,IAAM,MAAMO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACrf,IAAI1S,EAAQ0S,EAAI1S,MAChB,MAAO,CAAC0R,EAAIqB,GAAG,2BAA2BrB,EAAIsB,GAAGhT,EAAM6F,QAAQ,IAAI,+BAA+B0N,MAAM,CAACvT,MAAO0R,EAAI6G,cAAyB,YAAExW,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI6G,cAAe,cAAe/E,IAAME,WAAW,gCAAgC,IAAI,IAAI,GAAIhC,EAAIyH,OAAO7e,OAAS,EAAGuX,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACL,EAAIqB,GAAG,iBAAiBlB,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACL,EAAIqB,GAAG,gJAAgJlB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,GAAG,OAAS,KAAK,CAACH,EAAG,oBAAoB,CAACG,MAAM,CAAC,MAAQ,SAAS,UAAY,IAAIuB,MAAM,CAACvT,MAAO0R,EAAiB,cAAE3P,SAAS,SAAUyR,GAAM9B,EAAI+G,cAAcjF,GAAKE,WAAW,kBAAkBhC,EAAIuB,GAAIvB,EAAU,QAAE,SAASmF,GAAO,OAAOhF,EAAG,cAAc,CAACvR,IAAIuW,EAAMkC,GAAG/G,MAAM,CAAC,WAAW,GAAG,MAAQ6E,IAAQ,CAAChF,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACuH,SAAS,CAAC,YAAc1H,EAAIsB,GAAG6D,EAAM5X,SAAS4S,EAAG,uBAAuB,CAACuH,SAAS,CAAC,YAAc1H,EAAIsB,GAAG6D,EAAM6B,WAAWW,aAAa,GAAGxH,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAiC,OAAzBA,EAAOoG,kBAAyB5H,EAAI6H,UAAU1C,MAAU,CAAChF,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACN,EAAIqB,GAAG,8BAA8B,IAAI,IAAI,MAAK,IAAI,IAAI,MAAM,GAAGrB,EAAIyB,KAAKtB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACL,EAAIqB,GAAG,iBAAiBlB,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACL,EAAIqB,GAAG,6GAA6GlB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,kBAAkBuB,MAAM,CAACvT,MAAO0R,EAAIkE,QAAiB,UAAE7T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIkE,QAAS,YAAapC,IAAME,WAAW,wBAAwB,MAAM,GAAsB,IAAlBhC,EAAIY,UAAiBT,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACL,EAAIqB,GAAG,2BAA2BlB,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACL,EAAIqB,GAAG,yKAAyKlB,EAAG,MAAM,CAACE,YAAY,kBAAkBL,EAAIuB,GAAIvB,EAAa,WAAE,SAASpO,GAAM,OAAOuO,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ1O,EAAKuS,MAAMtC,MAAM,CAACvT,MAAO0R,EAAI8H,iBAAiBlW,EAAKyV,IAAKhX,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI8H,iBAAkBlW,EAAKyV,GAAIvF,IAAME,WAAW,kCAAiC,MAAM,GAAGhC,EAAIyB,KAAwB,IAAlBzB,EAAIY,UAAiBT,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACL,EAAIqB,GAAG,wBAAwBlB,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACL,EAAIqB,GAAG,2HAA2HlB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACiF,YAAY,CAAC,QAAU,QAAQ9E,MAAM,CAAC,GAAK,sBAAsB,KAAO,UAAUH,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAI+H,oBAAoB,CAAC/H,EAAIqB,GAAG,kBAAkB,MAAM,GAAGrB,EAAIyB,MAAM,IAAI,IAAI,GAAGtB,EAAG,aAAa,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,GAAG,eAAe,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,IAAM,GAAG,KAAO,KAAKN,EAAIuB,GAAIvB,EAAIoH,SAASpH,EAAI+G,cAAcM,KAAK,SAASW,EAAOnW,GAAK,OAAOsO,EAAG,SAAS,CAACvR,IAAIoZ,EAAOX,GAAG/G,MAAM,CAAC,KAAO,KAAK,GAAK,KAAK,GAAK,MAAM,CAACH,EAAG,kBAAkB,CAACvR,IAAIiD,EAAIyO,MAAM,CAAC,QAAUN,EAAIzI,SAAS0J,GAAG,CAAC,cAAcjB,EAAIiI,YAAY,cAAcjI,EAAIkI,WAAW,cAAclI,EAAIjF,WAAW,sBAAsBiF,EAAImI,mBAAmB,oBAAoBnI,EAAIkH,gBAAgB,qBAAqBlH,EAAIoI,mBAAmBvG,MAAM,CAACvT,MAAO0R,EAAIoH,SAASpH,EAAI+G,cAAcM,IAAIxV,GAAMxB,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIoH,SAASpH,EAAI+G,cAAcM,IAAKxV,EAAKiQ,IAAME,WAAW,sCAAsC,MAAK,IAAI,IAAI,IAAI,IAAI,GAAIhC,EAAmB,gBAAEG,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,OAAOuB,MAAM,CAACvT,MAAO0R,EAAmB,gBAAE3P,SAAS,SAAUyR,GAAM9B,EAAIqI,gBAAgBvG,GAAKE,WAAW,oBAAoB,CAAC7B,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,YAAY,0BAA0B,CAACL,EAAIqB,GAAG,iDAAiDlB,EAAG,cAAc,CAACA,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACL,EAAIqB,GAAG,gCAAgClB,EAAG,eAAe,CAACG,MAAM,CAAC,UAAY,IAAIuB,MAAM,CAACvT,MAAO0R,EAAIzI,QAAQ+Q,SAAiB,SAAEjY,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIzI,QAAQ+Q,SAAU,WAAYxG,IAAME,WAAW,8BAA8BhC,EAAIuB,GAAIvB,EAAkB,gBAAE,SAASzN,GAAO,OAAO4N,EAAG,SAAS,CAACvR,IAAI2D,EAAM8U,GAAG/G,MAAM,CAAC,OAAS,GAAG,MAAQ/N,EAAM8U,KAAK,CAACrH,EAAIqB,GAAGrB,EAAIsB,GAAG/O,EAAMhF,YAAW,IAAI,GAAG4S,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIuI,wBAAwB,CAACvI,EAAIqB,GAAG,eAAe,IAAI,IAAI,GAAGrB,EAAIyB,MAAM,IAChiK,GAAkB,G,uECLlB,GAAS,WAAa,IAAIzB,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,sBAAsB,CAACa,IAAI,cAAcV,MAAM,CAAC,IAAM,GAAG,MAAQ,GAAG,MAAQN,EAAI/E,OAAO4G,MAAM,CAACvT,MAAO0R,EAAS,MAAE3P,SAAS,SAAUyR,GAAM9B,EAAIwI,MAAM1G,GAAKE,WAAW,UAAU,CAAChC,EAAIO,GAAG,YAAY,IAChS,GAAkB,GCMtB,IACE,KAAF,aACE,KAAF,WACI,MAAJ,CACM,MAAN,IACM,OAAN,EACM,WAAN,IAGE,QAAF,CACI,eADJ,WAEM,IAAN,2CACA,gCAEM,EAAN,iCACM,EAAN,0BAEI,UARJ,WASM,IAAN,sBACA,6BACA,kDACA,OACA,qDACA,QACA,OAEM,SAAN,KACQ,SAAR,8BACQ,IAAR,cACA,oCACA,UACQ,EAAR,mBAGM,EAAN,iBACA,aACA,YACA,cAEU,EAAV,2BACU,SAAV,uCAGA,GAGM,SAAN,iBACA,WACA,WACQ,EAAR,oBACQ,EAAR,oBACQ,SAAR,qBACQ,SAAR,yCAEA,KAIE,QA1DF,WA2DI,KAAJ,iBACI,KAAJ,cCnEoV,M,yBCQhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACkI,qBAAA,OCxB9B,IAAI,GAAS,WAAa,IAAIzI,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,MAAM,CAAC,GAAM,UAAaN,EAAI1R,MAAQ,GAAG,YAAY,MAAM,SAAW,IAAI2S,GAAG,CAAC,MAAQjB,EAAIxC,OAAO,CAAC2C,EAAG,eAAe,CAACE,YAAY,eAAeY,GAAG,CAAC,MAAQ,SAASO,GAAQA,EAAOoG,qBAAsB,CAACzH,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,KAAK,MAAQN,EAAIwH,SAASxH,EAAI1R,MAAMiE,MAAMgH,UAA6B,IAAlByG,EAAIY,WAAmBZ,EAAI0I,eAAgBvI,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,oBAAoBuB,MAAM,CAACvT,MAAO0R,EAAI1R,MAAW,MAAE+B,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI1R,MAAO,QAASwT,IAAME,WAAW,iBAAiB7B,EAAG,OAAO,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAI2I,gBAAgB,GAAI3I,EAAkB,eAAEG,EAAG,cAAc,CAACc,GAAG,CAAC,MAAQ,SAASO,GAAQA,EAAOoG,qBAAsB,CAA8B,MAA5B5H,EAAI1R,MAAM0B,KAAK4Y,UAAmBzI,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACL,EAAIqB,GAAG,oBAAoBrB,EAAIyB,KAAwB,IAAlBzB,EAAIY,UAAiBT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,eAAeuB,MAAM,CAACvT,MAAO0R,EAAI1R,MAAiB,YAAE+B,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI1R,MAAO,cAAewT,IAAME,WAAW,uBAAuBhC,EAAIyB,KAAKtB,EAAG,eAAe,CAACG,MAAM,CAAC,UAAY,GAAG,OAAS,IAAIW,GAAG,CAAC,OAASjB,EAAI6I,cAAchH,MAAM,CAACvT,MAAO0R,EAAI1R,MAAW,MAAE+B,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI1R,MAAO,QAASwT,IAAME,WAAW,gBAAgBhC,EAAIuB,GAAIvB,EAAkB,gBAAE,SAASzN,GAAO,OAAO4N,EAAG,SAAS,CAACvR,IAAI2D,EAAM8U,GAAG/G,MAAM,CAAC,MAAQN,EAAIwH,SAASjV,EAAMgH,OAAO,SAAW,GAAG,OAAS,GAAG,MAAQhH,IAAQ,CAACyN,EAAIqB,GAAG,aAAarB,EAAIsB,GAAG/O,EAAMhF,MAAM,iBAAgB,IAAI,GAAGyS,EAAIyB,KAAwB,IAAlBzB,EAAIY,WAA4C,MAAzBZ,EAAI1R,MAAMga,SAASjB,GAAYlH,EAAG,cAAc,CAAkC,IAAhCH,EAAI1R,MAAMga,SAASA,SAAgBnI,EAAG,MAAM,CAACA,EAAG,SAAS,CAACH,EAAIqB,GAAG,eAAerB,EAAIqB,GAAG,qCAAqC,GAAGlB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACL,EAAIqB,GAAG,aAAarB,EAAIsB,GAAGtB,EAAIsI,SAAStI,EAAI1R,MAAMga,SAASA,WAAW,cAAcnI,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACL,EAAIqB,GAAG,4BAA4BlB,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,KAAK,MAAQN,EAAIwH,SAASxH,EAAI2G,eAAe3G,EAAI1R,MAAMga,SAASQ,UAAUvP,UAAUyG,EAAIqB,GAAG,aAAarB,EAAIsB,GAAGtB,EAAI2G,eAAe3G,EAAI1R,MAAMga,SAASQ,UAAUvb,MAAM,aAAa,GAAmC,MAA/ByS,EAAI1R,MAAMga,SAASpY,UAAqB8P,EAAI+I,iBAAwL/I,EAAIyB,KAA1KtB,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACc,GAAG,CAAC,MAAQjB,EAAIgJ,eAAe,CAAChJ,EAAIqB,GAAG,qBAAqBrB,EAAIsB,GAAGtB,EAAIiJ,gBAAkB,WAAa,YAAY,mBAAsD,MAAzBjJ,EAAI1R,MAAM4a,aAAwBlJ,EAAI0I,eAA0E1I,EAAIyB,KAA9DtB,EAAG,cAAc,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAI1R,MAAM4a,gBAAyB/I,EAAG,aAAgC,IAAlBH,EAAIY,UAAiBT,EAAG,iBAAiB,CAACA,EAAG,YAAyC,MAA5BH,EAAI1R,MAAM0B,KAAK4Y,UAAmBzI,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAgC,OAAxBA,EAAO2H,iBAAwBnJ,EAAIoI,kBAAkB7e,MAAM,KAAM6f,cAAc,CAACpJ,EAAIqB,GAAG,aAAalB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAgC,OAAxBA,EAAO2H,iBAAwBnJ,EAAIqJ,iBAAiB9f,MAAM,KAAM6f,cAAc,CAACpJ,EAAIqB,GAAG,aAAa,GAAIrB,EAAIzI,UAAYyI,EAAI1R,MAAO6R,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIoI,oBAAoB,CAACpI,EAAIqB,GAAG,YAAYlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIkI,WAAWlI,EAAI1R,UAAU,CAAC0R,EAAIqB,GAAG,WAAW,GAAIrB,EAAIzI,UAAYyI,EAAI1R,MAAO6R,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIjF,aAAa,CAACiF,EAAIqB,GAAG,YAAYlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIsJ,WAAWtJ,EAAI1R,UAAU,CAAC0R,EAAIqB,GAAG,WAAW,GAAGrB,EAAIyB,MAAM,GAAsB,IAAlBzB,EAAIY,UAAiBT,EAAG,iBAAiB,CAACA,EAAG,YAAuC,MAAzBH,EAAI1R,MAAMga,SAASjB,IAAcrH,EAAIzI,UAAYyI,EAAI1R,OAAU0R,EAAI+I,iBAAkB5I,EAAG,MAAM,CAACA,EAAG,SAAS,CAACU,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,SAASC,GAC5lH,IAAIC,EAAKD,EAAIC,GACTX,EAAQU,EAAIV,MAChB,MAAO,CAACH,EAAG,QAAQH,EAAIkB,GAAGlB,EAAImB,GAAG,CAACb,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOW,GAAI,CAACjB,EAAIqB,GAAG,mBAAmB,MAAK,EAAM,aAAa,CAAClB,EAAG,SAASH,EAAIuB,GAAIvB,EAAqB,mBAAE,SAASpO,EAAKgE,GAAO,OAAOuK,EAAG,cAAc,CAACvR,IAAIgH,EAAMqL,GAAG,CAAC,MAAQrP,EAAKpC,OAAO,CAAC2Q,EAAG,oBAAoB,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAG1P,EAAKqC,UAAU,MAAK,IAAI,GAAGkM,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIuJ,kBAAkB,CAACvJ,EAAIqB,GAAG,cAAc,GAAIrB,EAAIzI,UAAYyI,EAAI1R,MAAO6R,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIjF,aAAa,CAACiF,EAAIqB,GAAG,YAAYlB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIsJ,WAAWtJ,EAAI1R,UAAU,CAAC0R,EAAIqB,GAAG,WAAW,GAA6B,MAAzBrB,EAAI1R,MAAMga,SAASjB,GAAYlH,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIwJ,OAAO,CAACxJ,EAAIqB,GAAG,WAAW,GAAGrB,EAAIyB,MAAM,GAAGzB,EAAIyB,MAAM,IAC1wB,GAAkB,G,aC6EtB,IACE,KAAF,iBACE,SAAF,CACI,UAAJ,WACM,OAAN,gCAEI,eAAJ,WAGM,IAFA,IAAN,KACA,gDACA,mBACQ,EAAR,cAEM,OAAN,GAEI,WAAJ,WACM,OAAN,8CACA,iBAEA,wBAGE,MAAF,CACI,MAAJ,CACM,WAAN,EACM,QAFN,SAEA,GACQ,KAAR,oCACA,yBAEU,KAAV,qBAII,QAAJ,CACM,QADN,SACA,GAEA,2CACA,2BAIE,KAxCF,WAyCI,MAAJ,CACM,iBAAN,EACM,eAAN,KACM,kBAAN,EACM,gBAAN,EACM,kBAAN,CACA,CAAQ,KAAR,cAAQ,KAAR,yBACA,CAAQ,KAAR,eAAQ,KAAR,2BAEM,SAAN,CACA,YACA,gBACA,oBAIE,QAAF,CACI,aADJ,WAEM,GAAN,eAEI,KAJJ,WAKM,GAAN,uBAEI,KAPJ,WAQA,sBACQ,KAAR,eAEM,KAAN,qBAEI,aAbJ,WAcM,QAAN,eACA,qBAIQ,KAAR,oCAHQ,KAAR,mCACQ,KAAR,6CAIM,KAAN,sCACM,GAAN,eAEI,SAxBJ,SAwBA,GACM,MAAN,2DAGI,mBA5BJ,WA6BM,QAAN,0BACM,KAAN,oBACM,KAAN,uDAEI,oBAjCJ,WAkCA,uBAEQ,KAAR,mCACQ,KAAR,oBAEM,KAAN,uDACM,KAAN,qBAEI,gBA1CJ,WA2CM,KAAN,kDACM,KAAN,qBAGI,WA/CJ,SA+CA,GACM,KAAN,kBACM,KAAN,wBAEI,WAnDJ,SAmDA,GACM,KAAN,kBACM,KAAN,wBAEI,WAvDJ,WAwDM,KAAN,kBACM,KAAN,sBAEI,iBA3DJ,WA4DM,KAAN,kBACM,KAAN,uCAEI,kBA/DJ,WAgEM,KAAN,kBACM,KAAN,yCAGE,MAAF,qBC9MwV,M,oHCQpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAoBhC,IAAkB,GAAW,CAACa,WAAA,KAAQC,OAAA,KAAKyD,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUuD,WAAA,OAAWrD,QAAA,KAAMC,aAAA,KAAW7D,WAAA,KAASC,SAAA,KAAMC,SAAA,KAAMC,aAAA,KAAUG,eAAA,QAAeC,SAAA,KAAM2G,WAAA,KAAQC,cAAA,OCuJhK,QACE,KAAF,UACE,SAAF,CACI,WAAJ,WACM,OAAN,+BAEI,aAAJ,WACM,MAAN,gGAEI,eAAJ,WACM,OAAN,+CAEI,QAAJ,WACM,OAAN,2BAEI,OAAJ,WACM,IAAN,4BAEM,OADA,QAAN,OACA,6CAEI,UAAJ,WAIM,IAHA,IAAN,KACA,2CACA,qCACA,mBACQ,EAAR,MACU,GAAV,QACU,KAAV,eACU,YAAV,WACU,UAAV,IAGM,OAAN,GAEI,UAAJ,WACM,OAAN,iCAGE,MAAF,CACI,QAAJ,CACM,WAAN,EACM,QAAN,YACA,iBACU,KAAV,oBACU,KAAV,iCAEU,KAAV,YACU,KAAV,uCAII,eAAJ,CACM,WAAN,EACM,MAAN,EACM,QAAN,YACQ,QAAR,gCACQ,IAAR,uBACU,KAAV,yCAKI,eAAJ,CACM,MAAN,EACM,QAAN,YACQ,QAAR,mCAGI,oBAAJ,YAAM,IAAN,OACM,KAAN,2EACA,mBACQ,EAAR,uCACQ,MAAR,OAGI,iBAAJ,CACM,MAAN,EACM,QAFN,SAEA,GAAQ,IAAR,OACA,KACQ,KAAR,4BAAU,OAAV,WACQ,OAAR,gCAAU,IAAV,uBAAc,EAAd,KAAc,EAAd,KACU,GAAV,GACY,IAAZ,qCACY,OAAZ,gCAAc,IAAd,uBAAkB,EAAlB,KAAkB,EAAlB,KAAc,OAAd,cAGQ,KAAR,cAIE,KA1FF,WA2FI,IAAJ,OACI,MAAJ,CACM,cAAN,KACM,SAAN,GACM,aAAN,EACM,eAAN,GACM,cAAN,CACQ,eAAR,GACQ,YAAR,GAEM,YAAN,EACM,QAAN,KACM,iBAAN,GACM,iBAAN,EACM,YAAN,CACQ,QAAR,gBACQ,QAAR,gBACQ,QAAR,gBACQ,kBAAR,cACU,EAAV,iBAKE,QAAF,CACI,UADJ,SACA,GACM,MAAN,uBAGI,sBALJ,WAMA,mCACQ,KAAR,gBAEQ,KAAR,mBACQ,KAAR,2BAII,aAdJ,WAcM,IAAN,OACM,KAAN,8EACA,kBACQ,QAAR,OACQ,EAAR,kCACQ,EAAR,mBACQ,EAAR,gBAEA,mBAAQ,OAAR,aAGI,cAzBJ,SAyBA,GACM,IAAN,kDACA,UAEM,KAAN,eACM,EAAN,gBACQ,SAAR,SACQ,MAAR,WAEM,EAAN,2BAGI,cArCJ,SAqCA,GACM,IAAN,kDACA,SACM,EAAN,6BAGI,SA3CJ,SA2CA,GACM,MAAN,2DAGI,gBA/CJ,SA+CA,GAAM,IAAN,OACM,QAAN,OACM,EAAN,QACM,EAAN,+BAEM,KAAN,kDACA,kBAEQ,EAAR,gFAAU,OAAV,eACQ,EAAR,wCAEA,mBACQ,MAAR,qCASI,iBApEJ,SAoEA,GAAM,IAAN,OACM,GAAN,mBACQ,KAAR,aACQ,KAAR,mDACA,kBAEU,QAAV,UAEA,mBACU,MAAV,yCAEA,uBACQ,QAAR,gEACQ,IAAR,eACA,qBACQ,EAAR,6BACQ,KAAR,8EACA,kBACU,QAAV,mCACU,QAAV,eACU,EAAV,oBACU,EAAV,0BACU,EAAV,mBACU,GAAV,iBAGA,mBAAU,OAAV,cAUI,cAxGJ,SAwGA,GAAM,IAAN,0DACM,QAAN,uBACM,IAAN,kDACM,KAAN,eACM,EAAN,gBACQ,SAAR,SACQ,MAAR,WAEM,EAAN,6BACA,4BACM,YAAN,WACQ,EAAR,gCACQ,EAAR,4BACA,YAGI,kBAxHJ,WAwHM,IAAN,OACA,iDACM,EAAN,qBACQ,IAAR,iBACQ,EAAR,sCACQ,EAAR,mBAAU,IAAV,EACA,8BACA,gCACY,IAAZ,aACY,MAAZ,CACc,GAAd,oBACc,MAAd,CAAgB,MAAhB,QAAgB,KAAhB,uBACc,SAAd,CACgB,KAAhB,UACgB,OAAhB,kDACkB,MAAlB,CAAoB,EAApB,KAAoB,EAApB,WAGc,KAAd,CACgB,WAAhB,OAIU,QAAV,wBACA,qEAGM,EAAN,SAOI,WA1JJ,SA0JA,GACM,QAAN,0BACM,KAAN,kCACM,KAAN,WAEI,YA/JJ,SA+JA,GACM,KAAN,mCAGI,WAnKJ,WAoKM,KAAN,gCACM,KAAN,cAEI,mBAvKJ,SAuKA,KAGM,OAFA,QAAN,SACM,KAAN,UACA,GACQ,IAAR,UACU,KAAV,4BACU,KAAV,2BACU,KAAV,+BACU,KAAV,eACU,MACF,IAAR,cACU,KAAV,4BACU,KAAV,2BACU,KAAV,mBACU,MACF,IAAR,eACU,KAAV,4BACU,KAAV,mBACU,KAAV,yBACU,QAGN,kBA7LJ,SA6LA,GAAM,IAAN,OACA,iBACQ,KAAR,yFAAU,OAAV,SAEA,6DACU,KAAV,iEACA,kBACY,EAAZ,gFAAc,OAAd,YAEA,mBAAY,OAAZ,cAKE,WAAF,CAAI,eAAJ,GAAI,WAAJ,GAAI,YAAJ,UC5fiV,M,qLCQ7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAiChC,IAAkB,GAAW,CAACpH,OAAA,KAAKyD,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUuD,WAAA,OAAWrD,QAAA,KAAMC,aAAA,KAAW7C,aAAA,KAAWoG,WAAA,KAAQpH,WAAA,KAASqH,SAAA,KAAMpH,SAAA,KAAMqH,WAAA,KAAQpH,SAAA,KAAMC,aAAA,KAAUoH,mBAAA,KAAgBlH,iBAAA,QAAiBmH,kBAAA,KAAeC,kBAAA,QAAkBnH,eAAA,QAAeE,WAAA,KAAQ0G,WAAA,KAAQQ,WAAA,KAAQC,QAAA,KAAKC,YAAA,KAASC,SAAA,KAAMC,cAAA,KAAWC,YAAA,KAASC,cAAA,UCpD7S,IAAI,GAAS,WAAa,IAAIxK,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,KAAK,CAACH,EAAG,QAAQ,CAAEH,EAAImE,KAAkB,cAAEhE,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,OAAO,CAACH,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,kBAAkB,CAACE,YAAY,SAAS,CAACL,EAAIqB,GAAG,YAAY,GAAGlB,EAAG,4BAA4B,CAACA,EAAG,SAAS,CAAC0B,MAAM,CAACvT,MAAO0R,EAAa,UAAE3P,SAAS,SAAUyR,GAAM9B,EAAIY,UAAUkB,GAAKE,WAAW,cAAc,CAAC7B,EAAG,QAAQ,CAACH,EAAIqB,GAAG,iBAAiBlB,EAAG,QAAQ,CAACH,EAAIqB,GAAG,gBAAgB,GAAGlB,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAIyK,OAAOC,aAAa1K,EAAIY,WAAW,MAAQZ,EAAI8E,MAAM9E,EAAIY,WAAW,iBAAiB,GAAGC,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GAC9uB,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAW,QAAE,SAASuT,GAAO,OAAOhF,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,SAAW,GAAG,UAAW,IAAO,CAACN,EAAIqB,GAAG,yBAAyBrB,EAAIsB,GAAG6D,EAAM5X,MAAM,6BAA4B,MAAM,CAACqB,IAAI,gBAAgBmS,GAAG,SAASC,GAC9T,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,gBAAgB,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAa,UAAE,SAASuS,GAAM,OAAOhE,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,UAAW,EAAK,KAAO,KAAK,CAACN,EAAIqB,GAAG,yBAAyBrB,EAAIsB,GAAG6C,EAAK5W,MAAM,6BAA4B,MAAM,CAACqB,IAAI,iBAAiBmS,GAAG,SAASC,GAC1V,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,gBAAgB,OAAS,GAAG,cAAc,KAAKN,EAAIuB,GAAI3P,EAAc,WAAE,SAAS+Y,GAAW,OAAOxK,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,UAAW,EAAK,KAAO,KAAK,CAACN,EAAIqB,GAAG,yBAAyBrB,EAAIsB,GAAGqJ,EAAUxG,KAAK5W,MAAM,6BAA4B,MAAM,CAACqB,IAAI,eAAemS,GAAG,SAASC,GACxW,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAI4K,UAAUhZ,MAAS,CAACoO,EAAIqB,GAAG,iBAAiBlB,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAI6K,YAAYjZ,MAAS,CAACoO,EAAIqB,GAAG,qBAAqB,MAAK,EAAM,cAAclB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAI8K,WAAW,CAAC9K,EAAIqB,GAAG,cAAclB,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAI+K,YAAY,CAAC/K,EAAIqB,GAAG,gBAAgB,IAAI,IAAI,IAAI,GAAGrB,EAAIyB,KAAMzB,EAAImE,KAAkB,cAAEhE,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,OAAO,CAACH,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,kBAAkB,CAACE,YAAY,SAAS,CAACL,EAAIqB,GAAG,YAAY,GAAGlB,EAAG,4BAA4B,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAIyK,OAAOO,aAAa,MAAQhL,EAAIiL,MAAM,iBAAiB,GAAGpK,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,eAAemS,GAAG,SAASC,GACv2B,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIkL,UAAUtZ,MAAS,CAACoO,EAAIqB,GAAG,sDAAsDlB,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAImL,YAAYvZ,MAAS,CAACoO,EAAIqB,GAAG,oBAAoB,MAAK,EAAM,cAAclB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIoL,WAAW,CAACpL,EAAIqB,GAAG,eAAe,IAAI,IAAI,IAAI,GAAGrB,EAAIyB,KAAMzB,EAAImE,KAAqB,iBAAEhE,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,OAAO,CAACH,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,kBAAkB,CAACE,YAAY,SAAS,CAACL,EAAIqB,GAAG,eAAe,GAAGlB,EAAG,4BAA4B,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAIyK,OAAOY,eAAe,MAAQrL,EAAIsL,SAAS,iBAAiB,GAAGzK,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,cAAcmS,GAAG,SAASC,GACp0B,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,eAAe,CAACG,MAAM,CAAC,cAAc,GAAG,OAAS,KAAKN,EAAIuB,GAAI3P,EAAW,QAAE,SAASW,GAAO,OAAO4N,EAAG,SAAS,CAACiF,YAAY,CAAC,iBAAiB,QAAQ9E,MAAM,CAAC,SAAW,GAAG,MAAS,OAAU/N,EAAMgH,MAAM,GAAM,KAAQhH,EAAMgH,MAAM,GAAM,IAAOhH,EAAMgH,MAAM,GAAM,IAAK,UAAW,EAAK,KAAO,KAAK,CAACyG,EAAIqB,GAAG,yBAAyBrB,EAAIsB,GAAG/O,EAAMhF,MAAM,6BAA4B,MAAM,CAACqB,IAAI,eAAemS,GAAG,SAASC,GACpa,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIuL,aAAa3Z,MAAS,CAACoO,EAAIqB,GAAG,sDAAsDlB,EAAG,YAAY,CAACG,MAAM,CAAC,OAAS,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,SAASC,GAC5Q,IAAIC,EAAKD,EAAIC,GACTX,EAAQU,EAAIV,MAChB,MAAO,CAACH,EAAG,SAASH,EAAIkB,GAAGlB,EAAImB,GAAG,CAACb,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,OAAY,SAASlB,GAAM,GAAOW,GAAI,CAACjB,EAAIqB,GAAG,qBAAqB,MAAK,IAAO,CAAClB,EAAG,OAAO,CAACH,EAAIqB,GAAG,2BAA2B,MAAK,EAAM,aAAalB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQjB,EAAIwL,cAAc,CAACxL,EAAIqB,GAAG,kBAAkB,IAAI,IAAI,IAAI,GAAGrB,EAAIyB,MAAM,IAAI,GAAIzB,EAAU,OAAEG,EAAG,sBAAsB,CAACG,MAAM,CAAC,IAAM,GAAG,UAAY,GAAG,UAAY,GAAG,MAAQ,GAAG,MAAQ,SAASuB,MAAM,CAACvT,MAAO0R,EAAU,OAAE3P,SAAS,SAAUyR,GAAM9B,EAAIvQ,OAAOqS,GAAKE,WAAW,WAAW,CAAC7B,EAAG,YAAY,CAACA,EAAG,kBAAkB,CAACA,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQxB,EAAIvQ,QAAS,KAAS,CAACuQ,EAAIqB,GAAG,eAAerB,EAAIqB,GAAG,yCAAyC,IAAI,GAAGlB,EAAG,cAAc,CAAe,SAAbH,EAAIxR,KAAiB2R,EAAG,cAAc,CAACc,GAAG,CAAC,KAAOjB,EAAI4F,MAAM/D,MAAM,CAACvT,MAAO0R,EAAW,QAAE3P,SAAS,SAAUyR,GAAM9B,EAAIzI,QAAQuK,GAAKE,WAAW,aAA2B,UAAbhC,EAAIxR,KAAkB2R,EAAG,aAAa,CAACc,GAAG,CAAC,KAAOjB,EAAI4F,MAAM/D,MAAM,CAACvT,MAAO0R,EAAW,QAAE3P,SAAS,SAAUyR,GAAM9B,EAAIzI,QAAQuK,GAAKE,WAAW,aAA2B,YAAbhC,EAAIxR,KAAoB2R,EAAG,iBAAiB,CAACc,GAAG,CAAC,KAAOjB,EAAI4F,MAAM/D,MAAM,CAACvT,MAAO0R,EAAW,QAAE3P,SAAS,SAAUyR,GAAM9B,EAAIzI,QAAQuK,GAAKE,WAAW,aAA2B,SAAbhC,EAAIxR,KAAiB2R,EAAG,cAAc,CAACc,GAAG,CAAC,KAAOjB,EAAI4F,MAAM/D,MAAM,CAACvT,MAAO0R,EAAW,QAAE3P,SAAS,SAAUyR,GAAM9B,EAAIzI,QAAQuK,GAAKE,WAAW,aAAahC,EAAIyB,MAAM,IAAI,GAAGzB,EAAIyB,MAAM,IACt7C,GAAkB,GClBlB,GAAS,WAAa,IAAIzB,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQuB,MAAM,CAACvT,MAAO0R,EAAImE,KAAS,KAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,OAAQrC,IAAME,WAAW,eAAe7B,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,YAAYuB,MAAM,CAACvT,MAAO0R,EAAImE,KAAa,SAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,WAAYrC,IAAME,WAAW,mBAAmB7B,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,WAAW,KAAO,YAAYuB,MAAM,CAACvT,MAAO0R,EAAImE,KAAa,SAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,WAAYrC,IAAME,WAAW,mBAAmB7B,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,kBAAkBuB,MAAM,CAACvT,MAAO0R,EAAImE,KAAa,SAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,WAAYrC,IAAME,WAAW,mBAAmB7B,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIqB,GAAG,sBAAsBlB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAiB,aAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,eAAgBrC,IAAME,WAAW,sBAAsB,CAAChC,EAAIqB,GAAG,iBAAiBlB,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAkB,cAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,gBAAiBrC,IAAME,WAAW,uBAAuB,CAAChC,EAAIqB,GAAG,kBAAkBlB,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAkB,cAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,gBAAiBrC,IAAME,WAAW,uBAAuB,CAAChC,EAAIqB,GAAG,kBAAkBlB,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAqB,iBAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,mBAAoBrC,IAAME,WAAW,0BAA0B,CAAChC,EAAIqB,GAAG,qBAAqBlB,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAe,WAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,aAAcrC,IAAME,WAAW,oBAAoB,CAAChC,EAAIqB,GAAG,4BAA4BlB,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAImE,KAAoB,gBAAE9T,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAImE,KAAM,kBAAmBrC,IAAME,WAAW,yBAAyB,CAAChC,EAAIqB,GAAG,sBAAsB,GAAGlB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAW,IAAIW,GAAG,CAAC,MAAQjB,EAAIyL,OAAO,CAACzL,EAAIqB,GAAG,WAAW,IAAI,IACrlE,GAAkB,G,wBCDlB,GAAS,WAAa,IAAIrB,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,MAAQN,EAAIzG,OAAO0H,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAI0L,MAAM,SAAU1L,EAAI1R,SAASuT,MAAM,CAACvT,MAAO0R,EAAS,MAAE3P,SAAS,SAAUyR,GAAM9B,EAAI1R,MAAMwT,GAAKE,WAAW,UAAU,CAAChC,EAAIO,GAAG,YAAY,IAC9T,GAAkB,GCMtB,IACE,KAAF,aACE,MAAF,mBCToV,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAAC6F,QAAA,OCO9B,QACE,KAAF,aACE,WAAF,CAAI,WAAJ,IACE,MAAF,CACI,MAAJ,CACM,WAAN,EACM,QAAN,YACQ,KAAR,0BAIE,KAAF,WACI,MAAJ,CAAM,KAAN,KAAM,KAAN,KAEE,QAAF,CACI,KADJ,WACM,IAAN,OACA,mBAEQ,KAAR,6BACA,kBACU,EAAV,OACU,EAAV,sBACU,EAAV,wBAEA,mBACU,MAAV,MAIQ,KAAR,4BACA,kBACU,EAAV,OACU,EAAV,sBACU,EAAV,wBAEA,mBACU,MAAV,QAKE,MAAF,WCvEoV,M,yBCQhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAAC7D,OAAA,KAAK0D,aAAA,OAAa0F,aAAA,KAAUjC,WAAA,KAAQC,cAAA,OC5BlE,IAAI,GAAS,WAAa,IAAI3J,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,gBAAgBuB,MAAM,CAACvT,MAAO0R,EAAI8F,QAAY,KAAEzV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI8F,QAAS,OAAQhE,IAAME,WAAW,kBAAkB7B,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,uBAAuBuB,MAAM,CAACvT,MAAO0R,EAAI8F,QAAmB,YAAEzV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI8F,QAAS,cAAehE,IAAME,WAAW,yBAAyB7B,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,iBAAiB,iBAAiBN,EAAI4L,aAAa3K,GAAG,CAAC,MAAQjB,EAAI6L,YAAYhK,MAAM,CAACvT,MAAO0R,EAAI8F,QAAc,OAAEzV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAI8F,QAAS,SAAUhE,IAAME,WAAW,oBAAoB7B,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUN,EAAI8L,OAAO,MAAQ9L,EAAI8F,QAAQiG,OAAO,iBAAiB,GAAGlL,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,aAAamS,GAAG,SAASC,GAC71B,IAAIpP,EAAOoP,EAAIpP,KACLoP,EAAInP,IACd,MAAO,CAACsO,EAAG,SAAS,CAACG,MAAM,CAAC,WAAW,GAAG,0BAAyB,GAAOO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,SAASC,GAC3H,IAAIC,EAAKD,EAAIC,GACTX,EAAQU,EAAIV,MAChB,MAAO,CAACH,EAAG,MAAMH,EAAIkB,GAAGlB,EAAImB,GAAG,CAACd,YAAY,YAAY3B,MAAOsB,EAAIgM,UAAUpa,GAAOqP,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIiM,aAAara,MAAS,MAAM0O,GAAM,GAAOW,QAAS,MAAK,GAAMY,MAAM,CAACvT,MAAO0R,EAAIkM,WAAWta,EAAKrE,MAAO8C,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIkM,WAAYta,EAAKrE,KAAMuU,IAAME,WAAW,0BAA0B,CAAC7B,EAAG,SAAS,CAACA,EAAG,iBAAiB,CAACG,MAAM,CAAC,cAAc,GAAG,sBAAsB,IAAI,gBAAgB,IAAIuB,MAAM,CAACvT,MAAO0R,EAAgB,aAAE3P,SAAS,SAAUyR,GAAM9B,EAAImM,aAAarK,GAAKE,WAAW,kBAAkB7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIoM,iBAAiBxa,EAAKrE,SAAS,CAACyS,EAAIqB,GAAG,WAAW,IAAI,IAAI,MAAM,CAACzS,IAAI,eAAemS,GAAG,SAASC,GAC3vB,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAIqM,aAAaza,MAAS,CAACoO,EAAIqB,GAAG,yCAAyClB,EAAG,eAAe,CAACG,MAAM,CAAC,OAAS,GAAG,MAAQ,YAAY,oBAAoB,OAAOW,GAAG,CAAC,qBAAqBjB,EAAIsM,WAAWzK,MAAM,CAACvT,MAAO0R,EAAa,UAAE3P,SAAS,SAAUyR,GAAM9B,EAAIuM,UAAUzK,GAAKE,WAAW,eAAe7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAW,IAAIW,GAAG,CAAC,MAAQjB,EAAIyL,OAAO,CAACzL,EAAIqB,GAAG,WAAW,IAAI,IACve,GAAkB,GCyCtB,IACE,KAAF,gBACE,MAAF,CACI,MAAJ,CACM,WAAN,EACM,QAAN,YACQ,KAAR,4BAII,aAAJ,YAEA,2BACA,yDAGE,KAAF,WACI,MAAJ,CACM,QAAN,KACM,aAAN,KACM,WAAN,GACM,OAAN,CACA,CAAQ,KAAR,QAAQ,MAAR,QACA,CAAQ,KAAR,QAAQ,MAAR,QAAQ,UAAR,GACA,CAAQ,KAAR,UAAQ,MAAR,YAEM,YAAN,GACM,cAAN,KACM,UAAN,OAGE,QAAF,CACI,iBADJ,SACA,GACM,KAAN,iBACM,KAAN,mBACM,KAAN,mBAEI,WANJ,SAMA,GAAM,IAAN,OACA,OACQ,KAAR,8BAEQ,KAAR,4BAAU,KAAV,IACA,kBACA,aACY,EAAZ,eAEY,EAAZ,iDAGA,mBAAU,OAAV,aAII,UAtBJ,WAuBA,qBACA,cAAQ,OAAR,KACA,4BACA,wBACM,KAAN,qBACQ,KAAR,eACQ,MAAR,gBAEM,KAAN,cAGI,aAlCJ,SAkCA,GACM,KAAN,iBAII,UAvCJ,SAuCA,GACM,IAAN,UACM,MAAN,iFAEI,KA3CJ,WA2CM,IAAN,OACA,0BACA,+DACA,gDACA,sBACU,KAAV,mCACA,kBACY,EAAZ,UACY,EAAZ,yBACY,EAAZ,2BAEA,mBACY,MAAZ,MAGU,KAAV,oCACA,kBACY,EAAZ,UACY,EAAZ,yBACY,EAAZ,2BAEA,mBACY,MAAZ,QAKI,aAtEJ,SAsEA,GAAM,IAAN,OACA,WAEQ,KAAR,uDAAU,OAAV,SAGQ,KAAR,iCACA,kBACU,EAAV,oDAAY,OAAZ,eACU,EAAV,4BAGA,mBAAU,OAAV,cAIE,QArHF,aAyHE,MAAF,WC3KuV,M,sCCQnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAACkB,OAAA,KAAKyD,QAAA,KAAMC,aAAA,OAAauG,gBAAA,KAAalG,aAAA,KAAW7D,SAAA,KAAMM,SAAA,KAAM2G,WAAA,KAAQC,cAAA,KAAW8C,aAAA,OCjC7G,IAAI,GAAS,WAAa,IAAIzM,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,aAAauB,MAAM,CAACvT,MAAO0R,EAAIwF,KAAS,KAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,OAAQ1D,IAAME,WAAW,eAAe7B,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,GAAG,MAAQN,EAAIsL,SAAS,YAAY,OAAO,aAAa,MAAMzJ,MAAM,CAACvT,MAAO0R,EAAIwF,KAAe,WAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,aAAc1D,IAAME,WAAW,qBAAqB7B,EAAG,SAAS,CAAC0B,MAAM,CAACvT,MAAO0R,EAAIwF,KAAS,KAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,OAAQ1D,IAAME,WAAW,cAAc,CAAC7B,EAAG,QAAQ,CAACG,MAAM,CAAC,SAA0B,MAAfN,EAAIwF,KAAK6B,KAAa,CAAClH,EAAG,oBAAoB,CAACG,MAAM,CAAC,SAAW,GAAG,MAA0B,IAAlBN,EAAIwF,KAAK9Z,QAAcsU,EAAIqB,GAAG,2BAA2B,GAAGlB,EAAG,QAAQ,CAACG,MAAM,CAAC,SAA0B,MAAfN,EAAIwF,KAAK6B,KAAa,CAAClH,EAAG,oBAAoB,CAACG,MAAM,CAAC,SAAW,GAAG,MAA0B,IAAlBN,EAAIwF,KAAK9Z,QAAcsU,EAAIqB,GAAG,2BAA2B,IAAI,GAAmB,MAAfrB,EAAIwF,KAAK6B,GAAYlH,EAAG,eAAe,CAAC0B,MAAM,CAACvT,MAAO0R,EAAIwF,KAAS,KAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,OAAQ1D,IAAME,WAAW,cAAc,CAAC7B,EAAG,aAAa,CAACA,EAAG,MAAM,CAACiF,YAAY,CAAC,aAAa,SAAS,CAACjF,EAAG,wBAAwB,CAACG,MAAM,CAAC,MAAQ,GAAG,gBAAgB,KAAKN,EAAIuB,GAAIvB,EAAIwF,KAAW,QAAE,SAASkH,EAAUhkB,GAAG,OAAOyX,EAAG,SAAS,CAACvR,IAAIlG,EAAE2X,YAAY,OAAOC,MAAM,CAAC,MAAQ,OAAO,KAAO,GAAG,MAAQ,KAAK,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,KAAK,CAACN,EAAIqB,GAAG,4CAA4CrB,EAAIqB,GAAG,iBAAiBrB,EAAIsB,GAAGoL,EAAUnf,MAAM,iBAAiB,MAAK,IAAI,GAAG4S,EAAG,aAAa,CAACiF,YAAY,CAAC,aAAa,QAAQ,aAAa,QAAQ9E,MAAM,CAAC,MAAQN,EAAI2M,MAAM,WAAa,GAAG,MAAQ,GAAG,gBAAgB,GAAG,YAAY,OAAO,SAAkC,MAAvB3M,EAAIwF,KAAKoH,WAAmB,gBAAgB,GAAG,OAAS,GAAG,UAAY,GAAG,iBAAiB,QAAQ/K,MAAM,CAACvT,MAAO0R,EAAIwF,KAAW,OAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,SAAU1D,IAAME,WAAW,kBAAkB,GAAG7B,EAAG,aAAa,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQN,EAAI6M,iBAAiB,aAAa,KAAK,YAAY,OAAO,gBAAgB,IAAIhL,MAAM,CAACvT,MAAO0R,EAAe,YAAE3P,SAAS,SAAUyR,GAAM9B,EAAI8M,YAAYhL,GAAKE,WAAW,iBAAsC,MAApBhC,EAAIwF,KAAKuH,QAAiB5M,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQN,EAAI8M,YAAYE,WAAW,aAAa,KAAK,YAAY,YAAY,SAAW,IAAInL,MAAM,CAACvT,MAAO0R,EAAIwF,KAAa,SAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,WAAY1D,IAAME,WAAW,mBAAmBhC,EAAIyB,MAAM,IAAI,GAAGzB,EAAIyB,KAAKtB,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,GAAG,SAAW,GAAG,MAAQN,EAAIiL,MAAM,YAAY,WAAW,gBAAgB,IAAIpJ,MAAM,CAACvT,MAAO0R,EAAIwF,KAAa,SAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,WAAY1D,IAAME,WAAW,mBAAmB7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAW,IAAIW,GAAG,CAAC,MAAQjB,EAAIyL,OAAO,CAACzL,EAAIqB,GAAG,eAAe,IAAI,IACr0F,GAAkB,GC2EtB,IACE,KAAF,aACE,MAAF,CACI,MAAJ,CACM,WAAN,EACM,QAAN,YACQ,KAAR,yBAII,aAAJ,YAEM,KAAN,kDAEI,kBAAJ,YACA,SACA,oBAEI,YAAJ,YACA,oCACQ,KAAR,qBAGI,YAAJ,YACM,KAAN,oBAGE,SAAF,CACI,eAAJ,WACM,GAAN,iBACQ,GAAR,wBAGU,OADA,QAAV,uBACA,yBACA,yDAEU,IAAV,uBACU,OAAV,kCAAY,OAAZ,0BAKE,KAAF,WACI,MAAJ,CACM,KAAN,KACM,cAAN,KACM,UAAN,KACM,MAAN,GACM,SAAN,GACM,MAAN,GACM,iBAAN,KACM,YAAN,KAGE,QAAF,CACI,WADJ,WACM,IAAN,OACM,KAAN,kBACA,kBAAQ,OAAR,aACA,mBAAQ,OAAR,aAGI,cAPJ,WAOM,IAAN,OACM,KAAN,qBACA,kBAAQ,OAAR,gBACA,mBAAQ,OAAR,aAGI,kBAbJ,WAaM,IAAN,OACM,KAAN,sBACA,kBAAQ,OAAR,wBACA,mBAAQ,OAAR,aAGI,KAnBJ,WAmBM,IAAN,OACA,mBACQ,KAAR,4BACA,kBACU,EAAV,OACU,EAAV,iBACU,EAAV,wBAEA,mBACU,MAAV,MAGQ,KAAR,6BACA,kBACU,EAAV,OACU,EAAV,iBACU,EAAV,wBAEA,mBACU,MAAV,OAII,WA1CJ,SA0CA,GAAM,IAAN,OACM,KAAN,iCACA,kBACQ,EAAR,WAEA,mBACQ,MAAR,oHAIE,QA1GF,WA2GI,KAAJ,aACI,KAAJ,gBACA,yBACA,uCAEE,MAAF,WC5LoV,M,sCCQhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAkBhC,IAAkB,GAAW,CAACkB,OAAA,KAAK0D,aAAA,OAAaG,QAAA,KAAM3D,SAAA,KAAMwK,mBAAA,OAAmBC,WAAA,KAAQ1G,mBAAA,KAAgBkD,WAAA,KAAQS,QAAA,KAAKC,YAAA,KAASC,SAAA,KAAMC,cAAA,KAAWX,cAAA,KAAWwD,aAAA,OCrCzJ,IAAI,GAAS,WAAa,IAAInN,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,aAAauB,MAAM,CAACvT,MAAO0R,EAAIwF,KAAS,KAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,OAAQ1D,IAAME,WAAW,eAAe7B,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,GAAG,MAAQN,EAAIsL,SAAS,YAAY,OAAO,aAAa,MAAMzJ,MAAM,CAACvT,MAAO0R,EAAIwF,KAAe,WAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,aAAc1D,IAAME,WAAW,qBAAsBhC,EAAIoN,QAAQxkB,OAAS,EAAGuX,EAAG,OAAO,CAACE,YAAY,wCAAwC+E,YAAY,CAAC,YAAY,SAAS,CAACpF,EAAIqB,GAAG,iBAAiBrB,EAAIyB,KAAKtB,EAAG,aAAa,CAACiF,YAAY,CAAC,aAAa,QAAQ,aAAa,QAAQ9E,MAAM,CAAC,MAAQN,EAAIoN,QAAQ,WAAa,GAAG,MAAQ,GAAG,WAAW,GAAG,YAAY,OAAO,aAAa,KAAK,gBAAgB,GAAG,SAAkC,MAAvBpN,EAAIwF,KAAKoH,WAAmB,OAAS,GAAG,UAAY,GAAG,iBAAiB,eAAe/L,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,QAAQmS,GAAG,SAASC,GAC1+B,IAAIpP,EAAOoP,EAAIpP,KACf,MAAO,CAACuO,EAAG,MAAM,CAACH,EAAIqB,GAAGrB,EAAIsB,GAAG1P,EAAKrE,MAAM,KAAKyS,EAAIsB,GAAG1P,EAAK+T,OAAO,aAAa3F,EAAIsB,GAAG1P,EAAKyb,KAAK,sBAAsBxL,MAAM,CAACvT,MAAO0R,EAAIwF,KAAY,QAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,UAAW1D,IAAME,WAAW,kBAAmBhC,EAAIoN,QAAQxkB,OAAS,EAAGuX,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,0BAA0BuB,MAAM,CAACvT,MAAO0R,EAAIwF,KAAa,SAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,WAAY1D,IAAME,WAAW,mBAAmBhC,EAAIyB,KAAKtB,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,GAAG,SAAW,GAAG,MAAQN,EAAIiL,MAAM,YAAY,WAAW,gBAAgB,IAAIpJ,MAAM,CAACvT,MAAO0R,EAAIwF,KAAa,SAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,WAAY1D,IAAME,WAAW,mBAAmB7B,EAAG,OAAO,CAACE,YAAY,wCAAwC+E,YAAY,CAAC,YAAY,SAAS,CAACpF,EAAIqB,GAAG,+DAA+DlB,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,eAAe,IAAM,IAAI,IAAMN,EAAIwF,KAAK8H,SAAS1kB,OAAO,KAAO,IAAI,cAAc,GAAG,MAAQ,SAAS,YAAY,KAAKiZ,MAAM,CAACvT,MAAO0R,EAAIwF,KAAe,WAAEnV,SAAS,SAAUyR,GAAM9B,EAAI+B,KAAK/B,EAAIwF,KAAM,aAAc1D,IAAME,WAAW,qBAAqB7B,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAW,IAAIW,GAAG,CAAC,MAAQjB,EAAIyL,OAAO,CAACzL,EAAIqB,GAAG,eAAe,IAAI,IAC/vC,GAAkB,GC8CtB,IACE,KAAF,YACE,MAAF,CACI,kBAAJ,YACA,SACA,uBAGE,KARF,WASI,MAAJ,CACM,SAAN,KACM,MAAN,KACM,QAAN,GACM,KAAN,CACQ,KAAR,GACQ,WAAR,KACQ,SAAR,GACQ,QAAR,GACQ,WAAR,EACQ,UAAR,KAIE,QAAF,CACI,KADJ,WACM,IAAN,OACM,KAAN,kCACA,kBACQ,IAAR,KACQ,OAAR,2CAAU,IAAV,uBAAc,EAAd,KAAc,EAAd,KACU,GAAV,kDAEQ,MAAR,uEACQ,EAAR,wBAEA,mBAAQ,OAAR,aAGI,cAdJ,WAcM,IAAN,OACM,KAAN,qBACA,kBAAQ,OAAR,gBACA,mBAAQ,OAAR,aAEI,WAnBJ,WAmBM,IAAN,OACM,KAAN,kBACA,kBAAQ,OAAR,aACA,mBAAQ,OAAR,aAEI,aAxBJ,SAwBA,GAAM,IAAN,OACM,KAAN,mCACA,kBACQ,EAAR,aAEA,mBACQ,MAAR,oHAIE,QAzDF,WA0DI,KAAJ,gBACI,KAAJ,eC5GmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACkB,OAAA,KAAK0D,aAAA,OAAa0F,aAAA,KAAUuB,WAAA,KAAQlK,WAAA,KAAQ0G,WAAA,KAAQC,cAAA,KAAWwD,aAAA,OCkH7F,QACE,KAAF,QACE,WAAF,CAAI,UAAJ,GAAI,WAAJ,GAAI,cAAJ,GAAI,WAAJ,IACE,MAAF,CACI,QAAJ,iBAeE,SAAF,CACI,KAAJ,WACM,OAAN,yBAGE,KAAF,WACI,MAAJ,CACM,QAAN,EACM,KAAN,OACM,YAAN,EACM,QAAN,KACM,MAAN,GACM,SAAN,GACM,MAAN,GACM,UAAN,cACM,OAAN,CACQ,aAAR,CACU,EAAV,CACA,CACY,KAAZ,KACY,MAAZ,QACY,UAAZ,EACY,MAAZ,MAEA,CAAY,KAAZ,SAAY,MAAZ,UACA,CAAY,KAAZ,UAAY,MAAZ,gBACA,CAAY,KAAZ,QAAY,MAAZ,YACA,CAAY,KAAZ,UAAY,MAAZ,YAEU,EAAV,CACA,CACY,KAAZ,KACY,MAAZ,QACY,UAAZ,EACY,MAAZ,MAEA,CAAY,KAAZ,UAAY,MAAZ,gBACA,CAAY,KAAZ,YAAY,MAAZ,aACA,CAAY,KAAZ,QAAY,MAAZ,YACA,CAAY,KAAZ,UAAY,MAAZ,aAGQ,aAAR,CACA,CACU,KAAV,KACU,MAAV,QACU,UAAV,EACU,MAAV,MAEA,CAAU,KAAV,OAAU,MAAV,QACA,CAAU,KAAV,mBAAU,MAAV,YACA,CAAU,KAAV,YAAU,MAAV,YACA,CAAU,KAAV,UAAU,MAAV,YAEQ,eAAR,CACA,CACU,KAAV,eACU,MAAV,QACU,UAAV,EACU,MAAV,QAEA,CAAU,KAAV,cAAU,MAAV,eACA,CAAU,KAAV,SAAU,MAAV,UACA,CAAU,KAAV,UAAU,MAAV,eAKE,QAAF,CACI,KADJ,SACA,GAGM,OAFA,KAAN,UACM,KAAN,aACA,GACQ,IAAR,OACU,KAAV,aACU,MACF,IAAR,UACU,KAAV,gBACU,MACF,IAAR,OACU,KAAV,aACU,QAGN,SAhBJ,WAiBM,KAAN,SACQ,SAAR,GACQ,UAAR,EACQ,cAAR,EACQ,eAAR,EACQ,eAAR,EACQ,kBAAR,GAEM,KAAN,YACM,KAAN,WAGI,UA7BJ,WA8BM,KAAN,aACM,KAAN,WAGI,UAlCJ,SAkCA,GACM,KAAN,cACM,KAAN,UACM,KAAN,YACM,KAAN,WAGI,YAzCJ,SAyCA,GAAM,IAAN,OACA,mDACA,uCACA,kBACQ,EAAR,gBAEA,mBAAQ,OAAR,aAGI,YAlDJ,WAmDM,KAAN,SACQ,KAAR,GACQ,YAAR,GACQ,OAAR,GACQ,OAAR,IAEM,KAAN,eACM,KAAN,WAGI,aA7DJ,SA6DA,GACM,KAAN,cACM,KAAN,UACM,KAAN,eACM,KAAN,WAGI,SApEJ,WAqEM,KAAN,SACQ,KAAR,GACQ,KAAR,EACQ,OAAR,GACQ,SAAR,IAEM,KAAN,YACM,KAAN,WAGI,UA/EJ,SA+EA,GACM,KAAN,cACM,KAAN,UACM,KAAN,YACM,KAAN,WAGI,YAtFJ,SAsFA,GAAM,IAAN,OACA,gFACA,4BACA,kBACQ,QAAR,OACQ,EAAR,gBAEA,mBACQ,MAAR,OAII,WAlGJ,WAkGM,IAAN,OACA,yBACA,uBACA,kBACQ,QAAR,OACQ,EAAR,WAEA,mBACQ,MAAR,OAII,cA9GJ,WA8GM,IAAN,OACA,4BACA,0BACA,kBACQ,QAAR,OACQ,EAAR,cAEA,mBACQ,MAAR,OAII,WA1HJ,WA0HM,IAAN,OACA,yBACA,kCACA,kBACQ,QAAR,OACQ,EAAR,WAEA,mBAAQ,OAAR,cAGE,QA3NF,WA6NI,KAAJ,aACI,KAAJ,gBACI,KAAJ,eC/W+U,M,iECO3U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAwBhC,IAAkB,GAAW,CAAC5K,OAAA,KAAK0D,aAAA,OAAaG,QAAA,KAAMC,aAAA,KAAW9C,OAAA,KAAKC,aAAA,KAAW8C,aAAA,KAAWiH,mBAAA,KAAgBC,0BAAA,KAAuBC,yBAAA,KAAsBC,oBAAA,KAAiBjL,SAAA,KAAMgG,qBAAA,KAAkB/E,OAAA,KAAKgG,WAAA,KAAQS,QAAA,KAAKE,SAAA,KAAME,YAAA,KAASC,cAAA,QAAcmD,YAAA,O,iBC1C7O,GAAS,WAAa,IAAI3N,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACG,MAAM,CAAC,IAAM,GAAG,MAAQ,UAAU,KAAO,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,WAAW,MAAO,CAACZ,EAAG,SAAS,CAACG,MAAM,CAAC,mBAAmB,KAAK,CAAEN,EAAmB,gBAAEG,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,cAAc,CAACN,EAAIqB,GAAG,cAAcrB,EAAIyB,KAAKtB,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,WAAW,CAACN,EAAIqB,GAAG,WAAYrB,EAAc,WAAEG,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,YAAY,CAACN,EAAIqB,GAAG,YAAYrB,EAAIyB,KAAMzB,EAAY,SAAEG,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,WAAW,CAACN,EAAIqB,GAAG,gBAAgBrB,EAAIyB,MAAM,KAAK8F,OAAM,MAAS,CAACpH,EAAG,kBAAkB,CAACH,EAAIqB,GAAG,yBAAyBlB,EAAG,YAAYA,EAAG,SAAS,CAACG,MAAM,CAAC,WAAW,IAAIO,YAAYb,EAAIc,GAAG,CAAC,CAAClS,IAAI,YAAYmS,GAAG,SAASC,GAC1uB,IAAIC,EAAKD,EAAIC,GACTX,EAAQU,EAAIV,MAChB,MAAO,CAACH,EAAG,SAASH,EAAIkB,GAAGlB,EAAImB,GAAG,CAACd,YAAY,YAAYC,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,SAAW,GAAG,MAAQ,sBAAsB,SAASA,GAAM,GAAOW,GAAI,CAACd,EAAG,cAAc,CAACA,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACL,EAAIqB,GAAG,8BAA8BrB,EAAIqB,GAAG,eAAerB,EAAIsB,GAAGtB,EAAI4N,WAAW,eAAe,IAAI,SAAS,CAACzN,EAAG,SAAS,CAACA,EAAG,cAAc,CAACc,GAAG,CAAC,MAAQjB,EAAIyE,SAAS,CAACtE,EAAG,oBAAoB,CAACH,EAAIqB,GAAG,aAAa,IAAI,IAAI,IAAI,IAC5a,GAAkB,GCsCtB,IACE,KAAF,SACE,SAAF,CACI,SAAJ,WACM,IAAN,yBACM,OAAN,sEAEI,WAAJ,WACM,IAAN,yBACM,OAAN,cAEI,gBAAJ,WACM,IAAN,yBACM,OAAN,mBAEI,UAAJ,WACM,OAAN,8BAGE,QAAF,CACI,OAAJ,WACM,KAAN,wBACM,KAAN,0BChEqV,M,yBCQjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAgBhC,IAAkB,GAAW,CAACwM,WAAA,KAAQ7H,QAAA,KAAME,UAAA,OAAUzD,SAAA,KAAMC,SAAA,KAAMC,aAAA,KAAUG,eAAA,QAAeC,SAAA,KAAM2G,WAAA,KAAQS,QAAA,KAAKE,SAAA,KAAMG,cAAA,UCzBpH3G,OAAIC,IAAIgK,QAER,IAAMC,GAAa,IAAID,OAAO,CAC1BE,OAAQ,CACJ,CACIpX,KAAM,IACNrJ,KAAM,OACNkT,UAAW,kBAAM,kDAErB,CACI7J,KAAM,QACNrJ,KAAM,OACNoX,WAAY,CACRsJ,QAASC,GACTC,QAASC,IAEbpe,KAAM,CACFqe,MAAM,IAGd,CACIzX,KAAM,SACNrJ,KAAM,QACNoX,WAAY,CACRsJ,QAASC,GACTC,QAASC,IAEbpe,KAAM,CACFqe,MAAM,IAId,CACIzX,KAAM,uBACNrJ,KAAM,UACNoX,WAAY,CACRsJ,QAASK,GACTH,QAASI,SAEbve,KAAM,CACFqe,MAAM,IAGd,CACIzX,KAAM,SACNrJ,KAAM,QACNoX,WAAY,CACRsJ,QAASO,GACTL,QAASC,IAEbpe,KAAM,CACFqe,MAAM,EACNI,UAAU,IAGlB,CACI7X,KAAM,UACNrJ,KAAM,SACNoX,WAAY,CACRsJ,QAAS,kBAAM,iDACfE,QAASC,IAEbpe,KAAM,CACFqe,MAAM,EACNI,UAAU,IAGlB,CACI7X,KAAM,YACNrJ,KAAM,WACNoX,WAAY,CACRsJ,QAAS,kBAAM,iDACfE,QAASC,IAEbpe,KAAM,CACFqe,MAAM,IAGd,CACIzX,KAAM,SACNrJ,KAAM,QACNkT,UAAW,kBAAM,kDAErB,CACI7J,KAAM,SACNrJ,KAAM,QACNkT,UAAW,kBAAM,qDAI7BsN,GAAWW,YAAW,SAACC,EAAIC,EAAM3L,GACzB0L,EAAGE,QAAQrZ,MAAK,SAAAsZ,GAAM,OAAIA,EAAO9e,KAAKqe,QACb,MAArBU,EAAM9K,MAAMG,MACZnB,EAAK,CACDrM,KAAM,SACNoY,OAAQ,CAACC,QAASN,EAAGO,YAGrBP,EAAGE,QAAQrZ,MAAK,SAAAsZ,GAAM,OAAIA,EAAO9e,KAAKye,YAClCM,EAAM9K,MAAME,KAAKsK,SACjBxL,IAEAA,EAAK,CAAC1V,KAAM,UAGhB0V,IAIRA,OAGO8K,U,oCCrHflK,OAAIC,IAAIqL,SAEO,WAAIA,QAAQ,CACvBC,MAAO,CACHC,MAAO,CACHC,SAAU,OAEdC,OAAQ,CACJC,MAAO,CACHC,QAASC,QAAOC,SAASC,QACzBC,UAAWH,QAAOI,KAAKC,QACvBC,OAAQN,QAAOO,OAAOC,MACtBjjB,MAAOyiB,QAAOS,IAAIC,SAEtBC,KAAM,CACFZ,QAASC,QAAOY,KAAKC,c,qCCfrC1M,OAAIC,IAAI0M,QAAU,CACdC,WACAhG,OAAQ,CACJiG,QAASC,SAEbC,aAAc,CACVC,cADU,SACIpG,EAAQqG,GAElB,GAAyB,MAArB/B,EAAM9K,MAAMG,MAAe,CAC3B,IAAMA,EAAQ2K,EAAM9K,MAAMG,MAEtBA,IACAqG,EAAOsG,QAAQC,cAAf,iBAAyC5M,IAGjD,OAAOqG,GAEXwG,eAZU,SAYKxG,EAAQqG,KAIvBI,oBAhBU,SAgBUzG,EAAQqG,GACpBrG,EAAO0G,eAKRV,UAAf,E,wBC9BA5M,OAAIC,IAAIsN,MAEOA,UAAf,ECKAvN,OAAI4G,OAAO4G,eAAgB,EAE3B,IAAIxN,OAAI,CACNyN,UACAvC,QACAwC,WACAd,SACAe,SACAzR,OAAQ,SAAA0R,GAAC,OAAIA,EAAEC,MACdC,OAAO,S,oCClBV,W,oCCAA,W,6DCAA,W,uBCAArnB,EAAOD,QAAU,IAA0B,gC,yDCA3C,W,kCCAA,W,qBCAAC,EAAOD,QAAU,IAA0B,gC,gFCA3C,W,kCCAA,IAAI0V,EAAS,WAAa,IAAIC,EAAItQ,KAASuQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACG,MAAM,CAAC,IAAM,GAAG,MAAQ,UAAU,KAAO,GAAG,MAAQ,KAAK,CAAoB,YAAlBN,EAAI4R,OAAOrkB,KAAkB4S,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,IAAIW,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOxB,EAAI6R,QAAQC,IAAI,MAAM,CAAC3R,EAAG,SAAS,CAACH,EAAIqB,GAAG,qBAAqB,GAAGrB,EAAIyB,KAAKtB,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAcC,MAAM,CAAC,IAAM,eAAe,QAAU,GAAG,IAAM,GAAG,WAAa,mBAAmB,MAAQ,QAAQH,EAAG,kBAAkB,CAACH,EAAIqB,GAAG,0BAA0B,GAAGlB,EAAG,aAAa,IAC/mBK,EAAkB,GCsBtB,GACE,KAAF,UCxBgV,I,yGCO5UC,EAAY,eACd,EACAV,EACAS,GACA,EACA,KACA,WACA,MAIa,OAAAC,EAAiB,QAUhC,IAAkBA,EAAW,CAACoN,UAAA,KAAQtL,OAAA,KAAKE,QAAA,KAAMgB,OAAA,KAAKiG,UAAA,KAAQc,cAAAD,EAAA,Q,yDC5B9D,W,kCCAA,W,kCCAA,W","file":"static/js/app.9b2d94aa.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-205b67b2\":\"60c25ddb\",\"chunk-2d0e585a\":\"51f7af4d\",\"chunk-2d22d746\":\"b643060d\",\"chunk-5cbb018c\":\"8e38f220\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-205b67b2\":1,\"chunk-5cbb018c\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-205b67b2\":\"e4f3824e\",\"chunk-2d0e585a\":\"31d6cfe0\",\"chunk-2d22d746\":\"31d6cfe0\",\"chunk-5cbb018c\":\"916bae53\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import OpenSeadragon from \"openseadragon\";\r\nimport _ from \"lodash\"\r\n\r\nconst freeDrawingDefaultKeyboardBehavior = function (func, e) {\r\n    const drawer = this.instance\r\n    switch (func) {\r\n        case \"keyDown\":\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = true\r\n                // console.log(\"drawer_panning\", this.drawer_panning)\r\n                drawer.set_canvas_pan(true)\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n            }\r\n            break\r\n        case \"keyUp\":\r\n            if (e.keyCode === 13) {\r\n                // User pressed ENTER, we will save the drawing\r\n                drawer.set_canvas_pan(true)\r\n                // Before saving, we remove the redundant points for this shape\r\n                drawer.currently_drawing.geometry.points = optimizePath(drawer.currently_drawing.geometry.points)\r\n                // Call the onFinishNewDrawing callback, which handles what happens to the shape\r\n                drawer.callback.onFinishNewDrawing(drawer.currently_drawing.geometry)\r\n                // Complete the drawing preview by resetting it\r\n                drawer.currently_drawing = null\r\n                if (drawer.stateRestorer != null) drawer.stateRestorer.cancel()\r\n            }\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = false\r\n                // user released space, we will disable dragging\r\n                drawer.set_canvas_pan(false)\r\n            }\r\n            if (e.keyCode === 27) {\r\n                // User pressed ESC, we will reset the drawing\r\n                drawer.currently_drawing = null\r\n                if (drawer.stateRestorer != null) drawer.stateRestorer.cancel()\r\n                drawer.set_canvas_pan(true)\r\n            }\r\n            break\r\n    }\r\n}\r\n\r\nconst lineFunction = function (point1, point2, point3) {\r\n    const line1_slope = (point2.y - point1.y) / (point2.x - point1.x)\r\n    const line2_slope = (point3.y - point2.y) / (point3.x - point2.x)\r\n    const line1_b = point1.x * line1_slope - point1.y\r\n    const line2_b = point3.x * line2_slope - point3.y\r\n    return [\r\n        {slope: line1_slope, b: line1_b},\r\n        {slope: line2_slope, b: line2_b},\r\n    ]\r\n}\r\n\r\n/**\r\n * A simple algorithm to detect and remove redundant points made in free draw. It returns an array of points\r\n * without the points that don't contribute to the shape.\r\n *\r\n * @param points the array of points\r\n * @returns {*}\r\n */\r\nconst optimizePath = function (points) {\r\n    let toRemove = []\r\n    do {\r\n        console.log(\"New iteration\")\r\n        toRemove = []\r\n        for (let i = 1; i < points.length - 1; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const point3 = points[i + 1]\r\n            const lineFunc = lineFunction(point1, point2, point3)\r\n            if (lineFunc[0].slope === lineFunc[1].slope && lineFunc[0].b === lineFunc[1].b) {\r\n                // we could introduce a margin\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const distance1 = Math.hypot(point1.x - point2.x, point1.y - point2.y)\r\n            if (distance1 < 3) {\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n        console.log(\"Size (before): \", points.length)\r\n        points = points.filter((item, idx) => !toRemove.includes(idx))\r\n        console.log(\"Size (after): \", points.length)\r\n\r\n    } while (toRemove.length !== 0)\r\n    // console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n    // console.log(\"Size (before): \", points.length)\r\n    // // for (let i = 0; i < toRemove.length; i++) {\r\n    // //     points.splice(toRemove[i], 1)\r\n    // // }\r\n    // console.log(\"Size (after): \", points.length)\r\n    return points\r\n}\r\n\r\nconst nullTool = {\r\n    name: \"None\",\r\n    mouseEvent: function (func, e) {\r\n    },\r\n    keyboardEvent: function (func, e) {\r\n    },\r\n    init(instance) {\r\n        return this\r\n    }\r\n}\r\n\r\nconst circleTool = {\r\n    name: \"circle\",\r\n    instance: null,\r\n    geometry: null,\r\n    mouseEvent(func, e) {\r\n        const drawer = this.instance\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                if (this.geometry == null) {\r\n                    const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n                    this.geometry = {\r\n                        type: this.name,\r\n                        points: [imagePosition, drawer._mousePointToImagePoint(e.position)],\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {}\r\n                    }\r\n                    drawer.update()\r\n                } else {\r\n                    drawer.callback.onFinishNewDrawing(this.geometry)\r\n                    drawer.currently_drawing = null\r\n                    this.geometry = null\r\n                    drawer.update()\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (this.geometry != null) {\r\n                    const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n                    this.geometry.points[1].x = imagePosition.x//-this.geometry.points[0].x\r\n                    this.geometry.points[1].y = imagePosition.y //- this.geometry.points[0].y\r\n                    drawer.update()\r\n                }\r\n\r\n                break\r\n        }\r\n\r\n    },\r\n    keyboardEvent(func, e) {\r\n        switch (func) {\r\n            case 'keyUp':\r\n                if (e.keyCode === 27) {\r\n                    this.instance.currently_drawing = null\r\n                    this.geometry = null\r\n                    this.instance.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n    init(instance) {\r\n        this.instance = instance\r\n        console.log(\"circle instantiated\")\r\n        return this\r\n    }\r\n}\r\n\r\nconst rulerTool = {\r\n    name: \"Ruler\",\r\n    instance: null,\r\n    startingPoint: null,\r\n    endingPoint: null,\r\n    active: false,\r\n    perpendicular: 0,\r\n\r\n    perpendicularLine(point1, point2) {\r\n        const line1_slope = (point2.y - point1.y) / (point2.x - point1.x)\r\n        const line1_b = point1.x * line1_slope - point1.y\r\n        return {slope: -1 / line1_slope, b: -1 / line1_b}\r\n    },\r\n\r\n    mouseEvent(func, e) {\r\n        const drawer = this.instance\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                if (!this.active && this.startingPoint != null && this.endingPoint != null) {\r\n                    this.active = false\r\n                    this.startingPoint = null\r\n                    this.endingPoint = null\r\n                } else if (this.startingPoint == null) {\r\n                    this.startingPoint = drawer._mousePointToImagePoint(e.position)\r\n                    this.active = true\r\n                } else {\r\n                    this.endingPoint = drawer._mousePointToImagePoint(e.position)\r\n                    this.perpendicular = this.perpendicularLine(this.startingPoint, this.endingPoint)\r\n                    this.active = false\r\n                }\r\n                drawer.update()\r\n                break\r\n            case \"move\":\r\n                if (this.active) {\r\n                    this.endingPoint = drawer._mousePointToImagePoint(e.position)\r\n                    this.perpendicular = this.perpendicularLine(this.startingPoint, this.endingPoint)\r\n                    drawer.update()\r\n                }\r\n                break\r\n\r\n        }\r\n    },\r\n    keyboardEvent(func, e) {\r\n        if (func === 'keyUp' && e.keyCode === 27) {\r\n            this.active = false\r\n            this.startingPoint = null\r\n            this.endingPoint = null\r\n            this.instance.update()\r\n        }\r\n    },\r\n\r\n    draw(ctx) {\r\n        if (this.startingPoint != null && this.endingPoint != null) {\r\n            const drawer = this.instance\r\n            const startPoint = drawer._imagePointToCanvasPoint(this.startingPoint.x, this.startingPoint.y)\r\n            const endPoint = drawer._imagePointToCanvasPoint(this.endingPoint.x, this.endingPoint.y)\r\n            const distance = Math.hypot(this.startingPoint.x - this.endingPoint.x, this.startingPoint.y - this.endingPoint.y)\r\n            // const perpendicular = this.perpendicularLine(startPoint, endPoint)\r\n            const ruler = new Path2D()\r\n            ruler.moveTo(startPoint.x, startPoint.y)\r\n            ruler.lineTo(endPoint.x, endPoint.y)\r\n\r\n            // const angle = perpendicular.slope\r\n            // const direction = [Math.sin(angle), Math.cos(angle)]\r\n            // const direction = [perpendicular.slope, perpendicular.slope]\r\n            // const m1X = ((startPoint.y - 30) - perpendicular.b) / perpendicular.slope\r\n            // const m2X = ((startPoint.y + 30) - perpendicular.b) / perpendicular.slope\r\n            /**\r\n             * perpendicular = y=x*slope+b\r\n             * startingPoint = (x0,y0)\r\n             * distancia = 3 pixels\r\n             * distancia^2 = (x1-x2)^2 + (y1-y2)^2 // y2 = x2*slope+b\r\n             * (x2,y2) = perpendicular\r\n             */\r\n            // ruler.moveTo(startPoint.x - direction[0] * 30, startPoint.y - direction[1] * 30)\r\n            // ruler.lineTo(startPoint.x + direction[0] * 30, startPoint.y + direction[1] * 30)\r\n            ctx.lineWidth = 3\r\n            ctx.setLineDash([5, 5])\r\n            ctx.strokeStyle = \"black\"\r\n            ctx.lineCap = \"round\"\r\n            ctx.stroke(ruler)\r\n            ctx.setLineDash([])\r\n            ctx.lineWidth = 1\r\n            ctx.strokeStyle = \"white\"\r\n            ctx.font = \"30px Arial\"\r\n            ctx.fillStyle = \"black\"\r\n            const text = (distance * drawer.pixel_width).toFixed(2) + \"µm\"\r\n            ctx.fillText(text, 30 + startPoint.x + ((endPoint.x - startPoint.x) / 2), startPoint.y + ((endPoint.y - startPoint.y) / 2))\r\n            ctx.strokeText(text, 30 + startPoint.x + ((endPoint.x - startPoint.x) / 2), startPoint.y + ((endPoint.y - startPoint.y) / 2))\r\n        }\r\n    },\r\n    init(instance) {\r\n        this.instance = instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst polygonTool = {\r\n    name: \"polygon\",\r\n    instance: null,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[db-Click] To put the first point\")\r\n        if (help.includes(\"start-2\"))\r\n            info.push(\"[db-Click] To put the second point\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[Enter] To save annotation\")\r\n        if (help.includes(\"undo\"))\r\n            info.push(\"[Esc] To undo\")\r\n        if (help.includes(\"continue\"))\r\n            info.push(\"[Click] To continue dragging\")\r\n        if (help.includes(\"point\"))\r\n            info.push(\"[db-Click] To add a point\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                // On double click, we will create a new drawing if there none in the moment\r\n                if (drawer.currently_drawing == null) {\r\n                    this.geometry = {\r\n                        type: \"polygon\",\r\n                        points: [imagePosition, imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {}\r\n                    }\r\n\r\n                    drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                    this.info(\"start-2\", \"cancel\")\r\n                } else {\r\n                    // On double click we will continue the drawing by adding the new\r\n                    this.geometry.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                    this.info(\"save\", \"undo\", \"point\")\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    // On mouse move we will update the preview if we currently drawing\r\n                    this.geometry.points[this.geometry.points.length - 1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        // We are only interested in this events if we are drawing\r\n        if (drawer.currently_drawing != null)\r\n            switch (func) {\r\n                case \"keyUp\":\r\n                    if (e.keyCode === 13) {\r\n                        // User pressed enter, we will complete the drawing\r\n                        this.geometry.points.pop()\r\n                        drawer.callback.onFinishNewDrawing(this.geometry)\r\n                        drawer.currently_drawing = null\r\n                        drawer.stateRestorer.cancel()\r\n                        this.info(\"\")\r\n                    }\r\n                    if (e.keyCode === 27) {\r\n                        // User pressed ESC, undo the drawing\r\n                        if (drawer.currently_drawing.geometry.points.length > 3) {\r\n                            // Undo the last point added\r\n                            this.geometry.points.splice(this.geometry.points.length - 2, 1)\r\n\r\n                            this.info(\"save\", \"point\", this.geometry.points.length > 3 ? \"undo\" : \"cancel\")\r\n                        } else {\r\n                            // Cancel the drawing\r\n                            drawer.currently_drawing = null\r\n                            drawer.stateRestorer.cancel()\r\n                            this.info(\"\")\r\n                        }\r\n                        drawer.update()\r\n                    }\r\n                    break\r\n            }\r\n    },\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        this.info(\"start\")\r\n        return this\r\n    }\r\n}\r\n\r\nconst rectTool = {\r\n    name: \"rect\",\r\n    instance: null,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[db-Click] To start rect\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[db-Click] To finish and save\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                if (drawer.currently_drawing == null) {\r\n                    // We will start the drawing\r\n                    this.geometry = {\r\n                        type: this.name,\r\n                        points: [imagePosition, imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {},\r\n                    }\r\n                    this.info(\"save\", \"cancel\")\r\n                } else {\r\n                    // We will stop the drawing.\r\n                    // We will assure point1 < point2\r\n                    ['x', 'y'].map(dim => {\r\n                        if (this.geometry.points[0][dim] > this.geometry.points[1][dim]) {\r\n                            const temp = this.geometry.points[0][dim]\r\n                            this.geometry.points[0][dim] = this.geometry.points[1][dim]\r\n                            this.geometry.points[1][dim] = temp\r\n                        }\r\n                    })\r\n                    // report the drawing is over\r\n                    drawer.callback.onFinishNewDrawing(this.geometry)\r\n                    drawer.currently_drawing = null\r\n                    drawer.stateRestorer.cancel()\r\n                    this.info(\"start\")\r\n                }\r\n                drawer.update()\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    drawer.currently_drawing.geometry.points[1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        switch (func) {\r\n            case 'keyUp':\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC, we will cancel the drawing\r\n                    drawer.currently_drawing = null\r\n                    drawer.update()\r\n                    this.info(\"start\")\r\n                }\r\n                break\r\n        }\r\n    },\r\n    init(instance) {\r\n        this.instance = instance\r\n        this.info(\"start\")\r\n        return this\r\n    }\r\n}\r\n\r\nconst freeTool = {\r\n    name: \"free\",\r\n    instance: null,\r\n    drawer_panning: false,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"pan\"))\r\n            info.push(\"[Space] To drag the image\")\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[Click] To start drawing\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[Enter] To save annotation\")\r\n        if (help.includes(\"continue\"))\r\n            info.push(\"[Click] To continue drawing\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                drawer.set_canvas_pan(false)\r\n                if (!this.drawer_panning) {\r\n                    if (drawer.currently_drawing == null) {\r\n                        this.geometry = {\r\n                            type: \"polygon\",\r\n                            points: [imagePosition],\r\n                        }\r\n                        drawer.currently_drawing = {\r\n                            label: drawer.current_label,\r\n                            geometry: this.geometry,\r\n                            meta: {_enabled: true}\r\n                        }\r\n\r\n                        drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                    } else\r\n                        drawer.currently_drawing.meta._enabled = true\r\n\r\n                    this.info(\"pan\")\r\n                }\r\n                // return true\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled) {\r\n                    this.geometry.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                    // this.info(\"start\", \"pan\")\r\n                    // return true\r\n                }\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n                this.info(\"continue\", \"pan\", \"save\", \"cancel\")\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        this.info(\"start\", \"pan\")\r\n        return this\r\n    }\r\n}\r\n\r\n\r\nconst brushTool = {\r\n    name: \"brush\",\r\n    instance: null,\r\n    size: 500,\r\n    drawer_panning: false,\r\n    geometry: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.drawer_panning) return\r\n                drawer.set_canvas_pan(false)\r\n\r\n                if (drawer.currently_drawing == null) {\r\n                    this.geometry = {\r\n                        type: \"brush\",\r\n                        size: this.size,\r\n                        points: [imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {_enabled: true},\r\n                    }\r\n                    // drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled)\r\n                    this.geometry.points.push(imagePosition)\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n                drawer.set_canvas_pan(true)\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEraser = {\r\n    editor: null,\r\n    active: false,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n\r\n        switch (func) {\r\n            case \"press\":\r\n                this.active = true\r\n                drawer.set_canvas_pan(false)\r\n                break\r\n            case \"release\":\r\n                this.active = false\r\n                drawer.set_canvas_pan(true)\r\n                break\r\n            case \"move\":\r\n                if (this.active === true) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    // On the eraser mode, we will check if for intersection and remove those elements\r\n                    editor.controls.some(control => {\r\n                        if (editor.intersectsControl(mousePosition, control.point)) {\r\n                            // We will remove this line\r\n                            const index = editor.geometry.points.indexOf(control.point)\r\n                            editor.geometry.points.splice(index, 1)\r\n                            editor.controls.splice(index, 1)\r\n                            editor.addRestorePoint(\"erased\")\r\n                            return true // stop iterating\r\n                        }\r\n                    })\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshMover = {\r\n    editor: null,\r\n    control: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        switch (func) {\r\n            case \"press\":\r\n                const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                // On the dragging mode, the node is dragged to the\r\n                editor.controls.forEach(control => {\r\n                    const position = control.point\r\n                    const intersects = editor.intersectsControl(mousePosition, position)\r\n                    if (intersects) {\r\n                        // User is dragging with this element\r\n                        this.control = control\r\n                        drawer.set_canvas_pan(false)\r\n                    }\r\n                })\r\n\r\n                break\r\n            case \"release\":\r\n                this.control = null\r\n                drawer.set_canvas_pan(true)\r\n                editor.addRestorePoint(\"moved\")\r\n                break\r\n            case \"move\":\r\n                if (this.control != null) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    this.control.point.x = mousePosition.x\r\n                    this.control.point.y = mousePosition.y\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshCreator = {\r\n    editor: null,\r\n    cursor: null,\r\n    instance: null,\r\n\r\n    checkPathCreation(position) {\r\n        const points = this.editor.geometry.points\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const left = Math.min(point1.x, point2.x) - 10\r\n            const right = Math.max(point1.x, point2.x) + 10\r\n            const top = Math.min(point1.y, point2.y) - 10\r\n            const bottom = Math.max(point1.y, point2.y) + 10\r\n\r\n            if (left < position.x && position.x < right &&\r\n                top < position.y && position.y < bottom) {\r\n                return i\r\n            }\r\n        }\r\n        return null\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        const position = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"move\":\r\n                if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    // console.log(\"check\", newIndex)\r\n                    if (newIndex != null) {\r\n                        this.cursor = {position: position, index: newIndex}\r\n                    } else {\r\n                        this.cursor = null\r\n                    }\r\n                    drawer.update()\r\n                } else {\r\n                    if (this.cursor != null) {\r\n                        this.cursor = null\r\n                        drawer.update()\r\n                    }\r\n                }\r\n                break\r\n            case \"click\":\r\n                if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n                    const points = editor.geometry.points\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    if (newIndex != null) {\r\n                        editor.addRestorePoint(\"created\")\r\n                        points.splice(newIndex, 0, position)\r\n                    }\r\n                    console.log(\"Ended\")\r\n                    editor.create_controls()\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    draw(ctx) {\r\n        const instance = this.instance\r\n        // Drawing the reference cursor where the new point will appear\r\n        ctx.beginPath()\r\n        if (this.cursor != null) {\r\n            const points = this.editor.geometry.points\r\n            const position = instance._imagePointToCanvasPoint(this.cursor.position.x, this.cursor.position.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n            const prevPoint = instance._imagePointToCanvasPoint(points[this.cursor.index - 1].x, points[this.cursor.index - 1].y)\r\n            const nextPoint = instance._imagePointToCanvasPoint(points[this.cursor.index].x, points[this.cursor.index].y)\r\n            ctx.moveTo(prevPoint.x, prevPoint.y)\r\n            ctx.lineTo(position.x, position.y)\r\n            ctx.lineTo(nextPoint.x, nextPoint.y)\r\n            ctx.fill()\r\n            ctx.stroke()\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.instance = editor.instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshFreeEditor = {\r\n    currently_drawing: null,\r\n    current_path: null,\r\n    editor: null,\r\n    editing: false,\r\n    panning: false,\r\n    mouseEvent(func, e) {\r\n        const editor = this.editor\r\n        const annotation = editor.annotation\r\n        const instance = editor.instance\r\n        const position = editor.instance._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.currently_drawing == null) {\r\n                    if (editor.instance.ctx.isPointInPath(annotation.meta.path, e.position.x, e.position.y)) {\r\n                        this.currently_drawing = []\r\n                        this.editing = true\r\n                        instance.set_canvas_pan(false)\r\n                    }\r\n                } else {\r\n                    this.editing = true\r\n                    instance.set_canvas_pan(false)\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (this.panning) return\r\n                if (this.currently_drawing != null && this.editing) {\r\n                    this.currently_drawing.push(position)\r\n                    editor.instance.update()\r\n                }\r\n                break\r\n            case \"release\":\r\n                this.editing = false\r\n                instance.set_canvas_pan(true)\r\n                break\r\n        }\r\n    },\r\n\r\n    polygonOrientation(points) {\r\n        let sum = 0\r\n        const li = points.length\r\n        for (let i = 1; i < li; i++)\r\n            sum += (points[i].x - points[i - 1].x) * (points[i].y + points[i - 1].y)\r\n        sum += (points[li - 1].x - points[li - 2].x) * (points[li - 1].y + points[li - 2].y)\r\n        return sum > 0\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.editor.instance\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(false)\r\n                    this.panning = false\r\n                } else if (e.keyCode === 27) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.currently_drawing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    drawer.set_canvas_pan(true)\r\n                    const intersects = (path, point) => {\r\n                        const canvasPoint = drawer._imagePointToCanvasPoint(point.x, point.y)\r\n                        return drawer.ctx.isPointInPath(path, canvasPoint.x, canvasPoint.y, \"nonzero\")\r\n                    }\r\n                    const originalToRemove = this.editor.geometry.points.map((item, index) => {\r\n                        if (intersects(this.current_path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    const additionToRemove = this.currently_drawing.map((item, index) => {\r\n                        if (intersects(this.editor.geometry.path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    console.log(\"Original To Remove\", originalToRemove, additionToRemove)\r\n                    const newOriginalPath = this.editor.geometry.points.filter((i, idx) => !originalToRemove.includes(idx))\r\n                    const newAdditionPath = this.currently_drawing.filter((i, idx) => !additionToRemove.includes(idx))\r\n                    console.log(\"newOriginalPath:\", newOriginalPath)\r\n                    console.log(\"newAdditionPath:\", newAdditionPath)\r\n\r\n                    const originalX = this.polygonOrientation(newOriginalPath)\r\n                    const additionX = this.polygonOrientation(newAdditionPath)\r\n                    console.log(\"Order:\", originalX, additionX)\r\n                    if (additionX !== originalX) {\r\n                        console.log(\"Reversing array\")\r\n                        // newAdditionPath.reverse()\r\n                    }\r\n\r\n                    let oIndex = 1, aIndex = 0\r\n                    const newPath = [newOriginalPath[0]]\r\n                    do {\r\n                        const cPoint = newPath[newPath.length - 1]\r\n                        const oPoint = newOriginalPath[oIndex]\r\n                        const aPoint = newAdditionPath[aIndex]\r\n\r\n                        const oDistance = oIndex < newOriginalPath.length ? Math.hypot(cPoint.x - oPoint.x, cPoint.y - oPoint.y) : -1\r\n                        const aDistance = aIndex < newAdditionPath.length ? Math.hypot(cPoint.x - aPoint.x, cPoint.y - aPoint.y) : -1\r\n\r\n                        console.log(\"Iteration | \", cPoint, oIndex, aIndex, \"|\", oDistance, aDistance)\r\n                        if (oDistance === -1 && aDistance === -1) {\r\n                            break\r\n                        } else if (aDistance === -1 || (oDistance !== -1 && oDistance < aDistance)) {\r\n                            newPath.push(oPoint)\r\n                            oIndex++\r\n                        } else if (oDistance === -1 || (aDistance !== -1 && oDistance > aDistance)) {\r\n                            newPath.push(aPoint)\r\n                            aIndex++\r\n                        }\r\n                    } while (oIndex < newOriginalPath.length || aIndex < newAdditionPath.length)\r\n                    this.editor.geometry.points = optimizePath(newPath)\r\n                    this.editor.instance.update()\r\n                    return false\r\n                    // const newToRemove =\r\n                }\r\n                break\r\n            case \"keyDown\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.panning = true\r\n                }\r\n                break\r\n        }\r\n\r\n        // We are going to handle the input\r\n        return true\r\n    },\r\n\r\n\r\n    draw(ctx) {\r\n        const points = this.currently_drawing\r\n        if (points != null) {\r\n            const path = new Path2D()\r\n            const firstPosition = this.editor.instance._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n            ctx.beginPath()\r\n            path.moveTo(firstPosition.x, firstPosition.y)\r\n\r\n            points.forEach(point => {\r\n                const position = this.editor.instance._imagePointToCanvasPoint(point.x, point.y)\r\n                path.lineTo(position.x, position.y)\r\n            })\r\n            path.closePath()\r\n            this.current_path = path\r\n            ctx.stroke(path)\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.currently_drawing = null\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEditor = {\r\n    annotation: null,\r\n    geometry: null,\r\n    controls: [],\r\n    instance: null,\r\n    mode: null,\r\n    current_history_point: 0,\r\n    history: [],\r\n\r\n    addRestorePoint: function (event) {\r\n        if (this.history.length > 0 && this.current_history_point !== this.history.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            console.log(\"clearing future:\", this.history.length)\r\n            this.history.splice(this.current_history_point, this.history.length - this.current_history_point)\r\n            console.log(\"clearing future:\", this.history.length)\r\n        }\r\n        this.history.push({\r\n            type: event,\r\n            points: this.geometry.points.map(item => {\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_history_point = this.history.length - 1\r\n        this.instance.callback.onEditingEvent()\r\n    },\r\n\r\n    restoreState: function (value) {\r\n        console.log(\"restoreState\", value, this.history)\r\n        this.geometry.points = this.history[value].points\r\n        this.create_controls()\r\n        this.instance.update()\r\n        this.current_history_point = value\r\n    },\r\n\r\n    intersectsControl: function (mousePosition, position) {\r\n        const drawer = this.instance\r\n        const areaRadius = (drawer._viewportLocation.max.y - drawer._viewportLocation.min.y) / drawer.canvas.clientWidth * 25\r\n        // console.log(\"intersects radius:\", areaRadius, drawer._viewportLocation)\r\n        return mousePosition.x > position.x - areaRadius && mousePosition.x < position.x + areaRadius &&\r\n            mousePosition.y > position.y - areaRadius && mousePosition.y < position.y + areaRadius\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        this.mode.mouseEvent(func, e)\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n\r\n        if (typeof this.mode.keyboardEvent === \"function\") {\r\n            if (this.mode.keyboardEvent(func, e))\r\n                return\r\n        }\r\n\r\n        console.log(func, e)\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC. The edition is cancelled and the shape must be restored\r\n                    this.geometry.points = this.original_points\r\n                    this.geometry.color = this.original_color\r\n                    // Notify the editing has ended without changes\r\n                    drawer.callback.onFinishedEditing(false, this.geometry)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    // Notify the editing has ended with changes\r\n                    drawer.callback.onFinishedEditing(true, this.geometry)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    cancel() {\r\n        const drawer = this.instance\r\n        this.geometry.points = this.original_points\r\n        this.geometry.color = this.original_color\r\n        // Notify the editing has ended without changes\r\n        drawer.callback.onFinishedEditing(false, this.geometry)\r\n        // Disable the editing tool and update view\r\n        drawer.currently_editing = null\r\n        drawer.update()\r\n    },\r\n\r\n    draw(ctx) {\r\n        const drawer = this.instance\r\n        ctx.lineWidth = 1\r\n        // We will draw the controls we have:\r\n        this.controls.forEach(control => {\r\n            ctx.beginPath()\r\n            const position = drawer._imagePointToCanvasPoint(control.point.x, control.point.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n\r\n            ctx.fillStyle = \"rgb(255,255,255)\"\r\n            ctx.fill()\r\n            ctx.strokeStyle = \"black\"\r\n            ctx.stroke()\r\n            control._canvas_pos = position\r\n        })\r\n\r\n\r\n        if (typeof this.mode.draw === \"function\")\r\n            this.mode.draw(ctx)\r\n    },\r\n\r\n    create_controls: function () {\r\n        this.controls = this.geometry.points.map(point => {\r\n            return {point: point}\r\n        })\r\n    },\r\n\r\n    create_mode: function (mode) {\r\n        if (mode === \"eraser\") {\r\n            this.mode = PathMeshEraser.init(this)\r\n        } else if (mode === \"mover\") {\r\n            this.mode = PathMeshMover.init(this)\r\n        } else if (mode === \"creator\") {\r\n            this.mode = PathMeshCreator.init(this)\r\n        } else if (mode === \"free\") {\r\n            this.mode = PathMeshFreeEditor.init(this)\r\n        }\r\n    },\r\n\r\n\r\n    init(instance, annotation, mode) {\r\n        this.instance = instance\r\n        this.annotation = annotation\r\n        const geometry = annotation.geometry\r\n        this.geometry = geometry\r\n        this.original_points = geometry.points.map(point => {\r\n            return {x: point.x, y: point.y}\r\n        })\r\n        this.original_color = geometry.color != null ? geometry.color.map(color => color) : [0, 0, 0]\r\n        this.geometry = geometry\r\n        this.create_controls()\r\n        this.create_mode(mode)\r\n        this.history = []\r\n        return this\r\n    }\r\n}\r\n\r\n\r\n/* the conversion from pixel to shape may be done with a search algorithm.\r\nThe points are the pixels which were unable to find add one of its side to the search*/\r\n\r\nconst StateRestorer = {\r\n    instance: null,\r\n    geometry: null,\r\n    states: [],\r\n    current_state_point: 0,\r\n\r\n    addRestorePoint(event) {\r\n        if (this.states.length > 0 && this.current_state_point !== this.states.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            this.states.splice(this.current_state_point, this.states.length - this.current_state_point)\r\n            console.log(\"clearing future:\", this.states.length)\r\n        }\r\n        this.states.push({\r\n            type: event,\r\n            points: this.geometry.points.map(item => { // todo not all elements have points\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_state_point = this.states.length - 1\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n        // todo report state changed\r\n    },\r\n\r\n    restoreToPoint(value) {\r\n        console.log(\"restoreToPoint\", value)\r\n        this.geometry.points = this.states[value].points\r\n        this.instance.update()\r\n        this.current_state_point = value\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n    },\r\n    cancel() {\r\n        this.instance.stateRestorer = null\r\n        this.states = null\r\n        this.instance.callback.onStateRestorerEvent(null)\r\n    },\r\n    init(instance, geometry) {\r\n        this.instance = instance\r\n        this.geometry = geometry\r\n        this.states = []\r\n        instance.callback.onStateRestorerEvent(this)\r\n        return this\r\n    }\r\n}\r\n\r\nexport default {\r\n    annotations: [],\r\n\r\n    current_label: null,\r\n\r\n    /**\r\n     * When false, SliceDrawer doesn't allow any drawing\r\n     */\r\n    enabled: true,\r\n\r\n    /**\r\n     * Elements currently being rendering are added to this list. This list is mostly used to check\r\n     * mouse interaction with the elements.\r\n     */\r\n    elementsOnScreen: [],\r\n\r\n    stateRestorer: null,\r\n\r\n    /**\r\n     * The current drawing tool\r\n     */\r\n    set tool(name) {\r\n        this.new_tool = this.tools[name]()\r\n        this.set_canvas_pan(true)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get tool() {\r\n        if (this.new_tool != null)\r\n            return this.new_tool.name\r\n        else return \"none\"\r\n    },\r\n\r\n    set editorMode(name) {\r\n        this.currently_editing.create_mode(name)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get editorMode() {\r\n        return \"\"\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    pixel_width: 0,\r\n\r\n    tools: {},\r\n\r\n    drawingStyle: {\r\n        region_opacity: 0.3,\r\n        line_weight: 1\r\n    },\r\n\r\n    /**\r\n     * Elements can be filtered so it won't render.\r\n     * Label => boolean\r\n     */\r\n    filtering: {},\r\n\r\n    /**\r\n     * The element being currently edited.\r\n     * We may be able to join two paths by checking if a given point intersects the other shape. Points from\r\n     * both shapes that intersects another are added to a list for removal. Once we have a list, we remove the elements.\r\n     * The new shape is created by joining the points from the two path in the index of the first removed element.\r\n     * Arbitrary shapes (brush, rect) may be converted to path (by sampling and optimizing) before being joined.\r\n     * The shapes may be joined after the drawing.\r\n     */\r\n    currently_editing: null,\r\n\r\n    new_tool: null,\r\n\r\n    /**\r\n     * The polygon currently being draw\r\n     */\r\n    currently_drawing: null,\r\n\r\n    /**\r\n     * Throttle behavior for improving performance when there are too many elements to draw\r\n     */\r\n    _lastUpdate: 0,\r\n\r\n    /**\r\n     * Keeps track of the viewport in image pixels. This is used to notify when the\r\n     * canvas is dirty and needs to be redraw.\r\n     */\r\n    _viewportLocation: {min: [], max: []},\r\n\r\n    editElement(annotation) {\r\n        this.currently_editing = PathMeshEditor.init(this, annotation, \"mover\")\r\n        this.update()\r\n        // Finally, we save the first state as a restoration point for the user\r\n        this.currently_editing.addRestorePoint(\"editing\")\r\n    },\r\n\r\n    concludeEdit() {\r\n        // Disable the editing tool and update view\r\n        console.log(\"concludeEdit:\", this.currently_editing.geometry)\r\n        this.callback.onFinishedEditing(true, this.currently_editing.geometry)\r\n        this.currently_editing = null\r\n        this.update()\r\n    },\r\n\r\n    cancelEdit() {\r\n        this.currently_editing.cancel()\r\n        this.currently_editing = null\r\n        this.update()\r\n    },\r\n\r\n    resize: function () {\r\n        this.canvas.width = this.viewer.canvas.clientWidth\r\n        this.canvas.height = this.viewer.canvas.clientHeight\r\n    },\r\n\r\n    _mousePointToImagePoint(mouseEvent) {\r\n        const viewportPoint = this.viewer.viewport.pointFromPixel(mouseEvent)\r\n        const coordinates = this.viewer.viewport.viewportToImageCoordinates(viewportPoint.x, viewportPoint.y)\r\n        return {x: coordinates.x, y: coordinates.y}\r\n    },\r\n\r\n    _imagePointToCanvasPoint(x, y) {\r\n        const point = new OpenSeadragon.Point(x, y)\r\n        return this.viewer.viewport.imageToViewerElementCoordinates(point)\r\n    },\r\n\r\n    update: function () {\r\n        // console.log(\"update called\", this.annotations)\r\n        if (this.ctx == null) return\r\n\r\n        const ctx = this.ctx\r\n        if (this._lastUpdate > Date.now() - (this.elementsOnScreen.length / 5)) {\r\n            return\r\n        }\r\n        ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\r\n        if (this.annotations == null) {\r\n            return\r\n        }\r\n\r\n        const viewportMin = this._viewportLocation.min\r\n        const viewportMax = this._viewportLocation.max\r\n        this.elementsOnScreen = []\r\n        this.annotations.forEach(annotation => {\r\n            if (this.filtering[annotation.label.name] && annotation.geometry != null) {\r\n                // We will only draw when the label of the element isn't filter out\r\n                const firstPoint = annotation.geometry.points[0]\r\n                if ((firstPoint.x > viewportMin.x && firstPoint.x < viewportMax.x)\r\n                    && (firstPoint.y > viewportMin.y && firstPoint.y < viewportMax.y)) {\r\n                    this._draw_annotation(annotation)\r\n                    this.elementsOnScreen.push(annotation)\r\n                }\r\n            }\r\n        })\r\n        if (this.currently_drawing != null)\r\n            this._draw_annotation(this.currently_drawing)\r\n\r\n        // We are editing a element, let's draw the controls\r\n        if (this.currently_editing != null)\r\n            this.currently_editing.draw(ctx)\r\n\r\n        if (typeof this.new_tool.draw === \"function\")\r\n            this.new_tool.draw(ctx)\r\n\r\n        this._lastUpdate = Date.now()\r\n    },\r\n\r\n    _draw_annotation: function (annotation) {\r\n        switch (annotation.geometry.type) {\r\n            case \"polygon\":\r\n                this._update_polygon(annotation)\r\n                break\r\n            case \"rect\":\r\n                this._update_rect(annotation)\r\n                break\r\n            case \"circle\":\r\n                this._update_circle(annotation)\r\n                break\r\n            case \"brush\":\r\n                this._update_brush(annotation)\r\n                break\r\n        }\r\n    },\r\n\r\n    _gen_color(rgb) {\r\n        return `${rgb[0]}, ${rgb[1]}, ${rgb[2]}`\r\n    },\r\n\r\n    _update_polygon: function (annotation, color) {\r\n        const ctx = this.ctx\r\n        const points = annotation.geometry.points\r\n        const color_code = this._gen_color(color == null ? annotation.label.color : color)\r\n        const path = this._update_path(points)\r\n\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.lineTo(startPoint.x, startPoint.y)\r\n        annotation.meta.path = path\r\n        ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`\r\n        ctx.strokeStyle = `rgb(${color_code})`\r\n        ctx.lineWidth = this.drawingStyle.line_weight\r\n        ctx.fill(path)\r\n        ctx.stroke(path)\r\n    },\r\n\r\n    _update_rect: function (annotation, color) {\r\n        // console.log(rect_data)\r\n        const ctx = this.ctx\r\n        const position = this._imagePointToCanvasPoint(annotation.geometry.points[0].x, annotation.geometry.points[0].y)\r\n        const limits = this._imagePointToCanvasPoint(annotation.geometry.points[1].x, annotation.geometry.points[1].y)\r\n        const color_code = this._gen_color(color == null ? annotation.label.color : color)\r\n        ctx.beginPath()\r\n        ctx.rect(position.x, position.y, limits.x - position.x, limits.y - position.y)\r\n        annotation.meta._canvas_points = [position, limits]\r\n        // console.log(\"_update_rect\", position.x, position.y, position.x - limits.x, position.y - limits.y)\r\n        ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`\r\n        ctx.strokeStyle = `rgb(${color_code})`\r\n        ctx.lineWidth = this.drawingStyle.line_weight\r\n        ctx.fill()\r\n        ctx.stroke()\r\n    },\r\n\r\n    _update_circle: function (annotation) {\r\n        const ctx = this.ctx\r\n        const color_code = this._gen_color(annotation.label.color)\r\n        ctx.beginPath()\r\n        const position = this._imagePointToCanvasPoint(annotation.geometry.points[0].x, annotation.geometry.points[0].y)\r\n        const radius = this._imagePointToCanvasPoint(annotation.geometry.points[1].x, annotation.geometry.points[1].y)\r\n        const radiusX = Math.abs(position.x - radius.x), radiusY = Math.abs(position.y - radius.y)\r\n        annotation.meta._canvas_points = [\r\n            {x: position.x - radiusX, y: position.y - radiusY},\r\n            {x: position.x + radiusX, y: position.y + radiusY}\r\n        ]\r\n        ctx.ellipse(position.x, position.y, radiusX, radiusY, 0, 2 * Math.PI, 0, false)\r\n        ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`\r\n        ctx.strokeStyle = `rgb(${color_code})`\r\n        ctx.lineWidth = this.drawingStyle.line_weight\r\n        ctx.fill()\r\n        ctx.stroke()\r\n    },\r\n\r\n    _update_path: function (points) {\r\n        const path = new Path2D()\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.moveTo(startPoint.x, startPoint.y)\r\n        points.forEach(point => {\r\n            const canvasPos = this._imagePointToCanvasPoint(point.x, point.y)\r\n            path.lineTo(canvasPos.x, canvasPos.y)\r\n        })\r\n        // path.closePath()\r\n        return path\r\n    },\r\n\r\n    _update_brush: function (annotation) {\r\n        const ctx = this.ctx\r\n        const points = annotation.geometry.points\r\n        const color_code = this._gen_color(annotation.label.color)\r\n        // console.log(\"lineWidth\", lineWidth)\r\n        ctx.lineWidth = this._imagePointToCanvasPoint(annotation.geometry.size, 0).x - this._imagePointToCanvasPoint(0, 0).x\r\n        ctx.lineCap = \"round\"\r\n        ctx.lineJoin = \"round\"\r\n        ctx.strokeStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.drawingStyle.region_opacity})`\r\n\r\n        const path = this._update_path(points)\r\n\r\n        annotation.meta.path = path\r\n        ctx.stroke(path)\r\n    },\r\n\r\n    _check_intersects: function (annotation, mousePosition) {\r\n        if (annotation.geometry.type === \"rect\" || annotation.geometry.type === \"circle\") {\r\n            const point1 = annotation.meta._canvas_points[0]\r\n            const point2 = annotation.meta._canvas_points[1]\r\n            return mousePosition.x > point1.x && mousePosition.x < point2.x &&\r\n                mousePosition.y > point1.y && mousePosition.y < point2.y\r\n        } else if (annotation.geometry.type === \"polygon\" || annotation.geometry.type === \"brush\") {\r\n            return this.ctx.isPointInPath(annotation.meta.path, mousePosition.x, mousePosition.y, \"nonzero\")\r\n        }\r\n    },\r\n\r\n    set_canvas_pan(enabled) {\r\n        this.viewer.panHorizontal = enabled\r\n        this.viewer.panVertical = enabled\r\n    },\r\n\r\n    peep(annotation) {\r\n        const viewer = this.viewer\r\n        let xmin = 10000000, xmax = -1, ymin = 10000000, ymax = -1\r\n        annotation.geometry.points.forEach(coord => {\r\n            if (coord.x < xmin) xmin = coord.x\r\n            if (coord.x > xmax) xmax = coord.x\r\n            if (coord.y < ymin) ymin = coord.y\r\n            if (coord.y > ymax) ymax = coord.y\r\n        })\r\n        const panTo = viewer.viewport.imageToViewportCoordinates((xmax + xmin) / 2, (ymax + ymin) / 2)\r\n        console.log(\"panTo:\", panTo, \" | \", xmin, xmax, ymin, ymax)\r\n        viewer.viewport.panTo(panTo, false)\r\n        const tiledImage = viewer.world.getItemAt(0)\r\n        const yZoom = tiledImage.source.dimensions.y / (ymax - ymin)\r\n        // const xZoom = viewer.viewport.getContainerSize().x / (xmax - xmin)\r\n        const xZoom = tiledImage.source.dimensions.x / (xmax - xmin)\r\n        const zoom = (yZoom < xZoom ? yZoom : xZoom)\r\n        viewer.viewport.zoomTo(zoom - (zoom * 0.5), false)\r\n        // console.log(\"targetZoom:\", targetZoom, tiledImage.source.dimensions.x, \"|\", viewer.viewport.getContainerSize().x)\r\n    },\r\n\r\n    /**\r\n     * Instantiate a SliceDrawer for the OpenSeadragon viewer.\r\n     * Object interaction events can be listened using the callback parameter by passing a object as such:\r\n     * {\r\n     *     onHover: (element) => {} // mouse over element\r\n     *     onLeave: (element) => {} // mouse left the element\r\n     *     onClick: (element) => {} // mouse click on a element\r\n     *     newElementDrawn: (element) => {} // new element was drawn\r\n     * }\r\n     *\r\n     * @param Viewer the OpenSeadragon viewer instance\r\n     * @param callback a object containing the required callbacks\r\n     */\r\n    init: function (Viewer, callback) {\r\n        // Drawing canvas creation\r\n        const canvas = document.createElement(\"canvas\")\r\n        canvas.style.position = 'absolute'\r\n        canvas.style.left = 0\r\n        canvas.style.top = 0\r\n        canvas.style.width = '100%'\r\n        canvas.style.height = '100%'\r\n        Viewer.canvas.appendChild(canvas)\r\n\r\n        // Create references:\r\n        this.viewer = Viewer\r\n        this.canvas = canvas\r\n        this.callback = callback\r\n        this.ctx = canvas.getContext(\"2d\")\r\n\r\n\r\n        this.viewer.addHandler('update-viewport', () => {\r\n            const ctx = this.ctx\r\n            const viewportMin = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(0, 0))\r\n            const viewportMax = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(ctx.canvas.width, ctx.canvas.height))\r\n\r\n            if (viewportMin.x !== this._viewportLocation.min.x ||\r\n                viewportMin.y !== this._viewportLocation.min.y ||\r\n                viewportMax.x !== this._viewportLocation.max.x ||\r\n                viewportMax.y !== this._viewportLocation.max.y) {\r\n                // The viewport was changed, a update is needed\r\n                this.callback.onViewportChanged(this._viewportLocation)\r\n                this.update()\r\n            }\r\n\r\n            this._viewportLocation.max = viewportMax\r\n            this._viewportLocation.min = viewportMin\r\n        });\r\n        this.viewer.addHandler('resize', () => {\r\n            this.resize()\r\n        });\r\n\r\n        new OpenSeadragon.MouseTracker({\r\n            element: this.viewer.canvas,//.container\r\n            nonPrimaryReleaseHandler: (e) => {\r\n            },\r\n            releaseHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('release', e)\r\n                } else {\r\n                    this.currently_editing.mouseEvent('release', e)\r\n                }\r\n            },\r\n            pressHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('press', e)\r\n                } else {\r\n                    // During editing mode, press means drag a control\r\n                    this.currently_editing.mouseEvent('press', e)\r\n                }\r\n            },\r\n            clickHandler: (e) => {\r\n                if (this.currently_editing != null)\r\n                    this.currently_editing.mouseEvent('click', e)\r\n                else {\r\n                    this.elementsOnScreen.forEach((element) => {\r\n                        if (element.meta.is_hover) {\r\n                            this.callback.onClick(element)\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            dblClickHandler: (e) => {\r\n                this.new_tool.mouseEvent('dblClick', e)\r\n            },\r\n            moveHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    if (this.new_tool.mouseEvent('move', e)) return\r\n                } else {\r\n                    if (this.currently_editing.mouseEvent('move', e)) return\r\n                }\r\n\r\n                // When not drawing, we will check for collision with the mouse pointer for interactivity\r\n                if (this.currently_editing == null) {\r\n                    // We only check for interaction when not in editing mode.\r\n                    let updateRequired = false\r\n                    this.elementsOnScreen.forEach((annotation) => {\r\n                        const intersects = this._check_intersects(annotation, e.position)\r\n                        const statusUpdateRequired = annotation.meta.is_hover !== intersects\r\n                        updateRequired = updateRequired || (intersects && statusUpdateRequired) || statusUpdateRequired\r\n\r\n                        // Handling element interaction listeners:\r\n                        if (statusUpdateRequired)\r\n                            if (intersects)\r\n                                callback.onHover(annotation)\r\n                            else\r\n                                callback.onLeave(annotation)\r\n\r\n                        annotation.meta.is_hover = intersects\r\n                    })\r\n\r\n                    if (updateRequired) {\r\n                        this.viewer.canvas.style.cursor = \"hand\"\r\n                        this.update()\r\n                    }\r\n                }\r\n            },\r\n            keyDownHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyDown', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyDown', e)\r\n            },\r\n            keyUpHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyUp', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyUp', e)\r\n            }\r\n        })\r\n\r\n        this.tools = {\r\n            \"polygon\": () => polygonTool.init(this),\r\n            \"free\": () => freeTool.init(this),\r\n            \"rect\": () => rectTool.init(this),\r\n            \"circle\": () => circleTool.init(this),\r\n            \"brush\": () => brushTool.init(this),\r\n            \"ruler\": () => rulerTool.init(this),\r\n            \"none\": () => nullTool.init(this)\r\n        }\r\n        this.tool = this.enabled ? \"polygon\" : \"none\"\r\n\r\n        this.resize(Viewer.canvas.width, Viewer.canvas.height)\r\n    }\r\n}\r\nexport {optimizePath}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=style&index=0&id=617232a3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('div',[_c('v-progress-circular',{staticClass:\"loading\",attrs:{\"indeterminate\":true,\"size\":\"52\"}})],1):_c('div',[_c('v-fade-transition',[_vm._t(\"default\")],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"isLoading\">\r\n      <v-progress-circular :indeterminate=\"true\" class=\"loading\" size=\"52\"/>\r\n    </div>\r\n    <div v-else>\r\n      <v-fade-transition>\r\n        <slot></slot>\r\n      </v-fade-transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Loading\",\r\n        watch: {\r\n            loading: function () {\r\n                console.log(\"loading\", this.loading)\r\n            }\r\n        },\r\n        props: ['isLoading']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .loading {\r\n    position: absolute;\r\n\r\n    margin: auto;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n  }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=7c8317b2&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=7c8317b2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c8317b2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VFadeTransition,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"seadragon-viewer\"}}),(_vm.drawer)?_c('div',{staticClass:\"drawing-tool-container\"},[_c('div',{staticClass:\"tool-item\"},[(_vm.task_type === 0)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-menu',{attrs:{\"top\":\"\",\"close-on-click\":true,\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"color\":(\"rgb(\" + (_vm.selected_label.color[0]) + \",\" + (_vm.selected_label.color[1]) + \",\" + (_vm.selected_label.color[2]) + \")\"),\"size\":\"26\"}}),_vm._v(\"\\n              \"+_vm._s(_vm.selected_label.name)+\"\\n            \")],1)]}}],null,false,3417091346)},[_c('v-list',_vm._l((_vm.labels),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.selected_label = item}}},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":(\"rgb(\" + (item.color[0]) + \",\" + (item.color[1]) + \",\" + (item.color[2]) + \")\"),\"size\":\"26\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1)],1)}),1)],1)],1):_vm._e(),_c('v-divider'),(_vm.task_type === 0 && _vm.editing.element == null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'polygon' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'polygon'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polygon\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'rect' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'rect'}}},[_c('v-icon',[_vm._v(\"mdi-vector-rectangle\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'circle' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'circle'}}},[_c('v-icon',[_vm._v(\"mdi-circle-outline\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'brush' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'brush'}}},[_c('v-icon',[_vm._v(\"mdi-brush\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'ruler' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'ruler'}}},[_c('v-icon',[_vm._v(\"mdi-ruler\")])],1)],1):_vm._e(),(_vm.editing.element != null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'mover' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'mover'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-edit\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'eraser' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'eraser'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-minus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'creator' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'creator'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-plus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1)],1):_vm._e()],1),(_vm.state_restorer.showing)?_c('div',{staticClass:\"tool-item\"},[_c('v-slider',{attrs:{\"step\":\"1\",\"dense\":\"\",\"hide-details\":\"\",\"max\":_vm.state_restorer.max_undo,\"label\":\"Undo\"},model:{value:(_vm.state_restorer.undo),callback:function ($$v) {_vm.$set(_vm.state_restorer, \"undo\", $$v)},expression:\"state_restorer.undo\"}})],1):_vm._e(),(_vm.info.length > 0)?_c('div',{staticClass:\"tool-item\"},_vm._l((_vm.info),function(instruction){return _c('p',{staticClass:\"instruction-item\"},[_vm._v(_vm._s(instruction))])}),0):_vm._e()]):_vm._e(),_c('div',{staticClass:\"toolbox navigation-toolbox\"},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"thumb-label\":\"\",\"dense\":\"\",\"max\":40,\"min\":\"0.5\",\"step\":\"0\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n        \"+_vm._s(value.toFixed(2))+\"\\n      \")]}}]),model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}}),_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 1}}},[_vm._v(\"1x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 2}}},[_vm._v(\"2x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 10}}},[_vm._v(\"10x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 20}}},[_vm._v(\"20x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 40}}},[_vm._v(\"40x\")])],1)],1),_c('div',{staticClass:\"toolbox ruler transparent\"},[_c('SliceViewerRuler',{attrs:{\"value\":_vm.viewportLocation,\"pixel-density\":_vm.pixel_density}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{staticClass:\"ruler-renderer\",attrs:{\"id\":\"ruler-canvas\",\"width\":\"80\",\"height\":\"10\"}}),_c('div',{staticClass:\"ruler-text\"},[_vm._v(_vm._s((_vm.pixelDensity*this.bar_size).toFixed(2))+\"µm\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <canvas id=\"ruler-canvas\" class=\"ruler-renderer\" width=\"80\" height=\"10\"></canvas>\r\n    <div class=\"ruler-text\">{{(pixelDensity*this.bar_size).toFixed(2)}}µm</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from \"lodash\"\r\n\r\n    export default {\r\n        name: \"SliceViewerRuler\",\r\n        watch: {\r\n            pixelDensity: {\r\n                immediate: true,\r\n                handler(new_value) {\r\n                    // const max = (new_value * 80)\r\n                    this.updateRuler()\r\n                    // const desiredValue = max - ((max-10)%10)\r\n                    // console.log(\"desired:\", desiredValue)\r\n                    // this.snapped_value = desiredValue\r\n                    // this.bar_size = 100 - (((max-desiredValue)+desiredValue) % 100)\r\n                    // this.bar_size = 100 - (max % 100)\r\n                }\r\n            },\r\n            bar_size: function (new_value) {\r\n                this.updateRuler()\r\n            }\r\n        },\r\n        computed: {},\r\n        data() {\r\n            return {\r\n                bar_size: 80,\r\n            }\r\n        },\r\n        methods: {\r\n            updateRuler: _.debounce(function () {\r\n                if (this.ctx == null) return\r\n                this.ctx.clearRect(0, 0, this.canvas.clientWidth, this.canvas.clientHeight)\r\n                this.ctx.beginPath()\r\n                this.ctx.moveTo(80, 5)\r\n                this.ctx.lineTo(80-this.bar_size, 5)\r\n                this.ctx.stroke()\r\n                // this.ctx.fillText(\"50cm\", 50, 10)\r\n                this.ctx.beginPath()\r\n                this.ctx.moveTo(80, 0)\r\n                this.ctx.lineTo(80, 10)\r\n                this.ctx.stroke()\r\n                this.ctx.beginPath()\r\n                this.ctx.moveTo(80-this.bar_size, 0)\r\n                this.ctx.lineTo(80-this.bar_size, 10)\r\n                this.ctx.stroke()\r\n            },0)\r\n        },\r\n        mounted() {\r\n            this.canvas = document.getElementById(\"ruler-canvas\")\r\n            this.ctx = this.canvas.getContext(\"2d\")\r\n            this.canvas.onwheel = (evt) => {\r\n                const delta = evt.deltaY * -0.05\r\n                this.bar_size = Math.max(Math.min(this.bar_size + delta, 80), 10)\r\n            }\r\n        },\r\n        props: [\"value\", \"pixelDensity\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .ruler-renderer {\r\n    width: 100px;\r\n    height: 10px;\r\n    position: absolute;\r\n    right: 8px;\r\n\r\n  }\r\n\r\n  .ruler-text {\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    position: relative;\r\n    right: 0;\r\n    top: 10px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewerRuler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewerRuler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SliceViewerRuler.vue?vue&type=template&id=6dde0656&scoped=true&\"\nimport script from \"./SliceViewerRuler.vue?vue&type=script&lang=js&\"\nexport * from \"./SliceViewerRuler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SliceViewerRuler.vue?vue&type=style&index=0&id=6dde0656&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dde0656\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div id=\"seadragon-viewer\"/>\r\n\r\n    <div v-if=\"drawer\" class=\"drawing-tool-container\">\r\n\r\n      <div class=\"tool-item\">\r\n        <div class=\"zoom-shortcuts\" v-if=\"task_type === 0\">\r\n          <v-menu top :close-on-click=\"true\" offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn text v-bind=\"attrs\" v-on=\"on\">\r\n                <v-avatar\r\n                        class=\"mr-2\"\r\n                        :color=\"`rgb(${selected_label.color[0]},${selected_label.color[1]},${selected_label.color[2]})`\"\r\n                        size=\"26\"/>\r\n                {{selected_label.name}}\r\n              </v-btn>\r\n            </template>\r\n            <v-list>\r\n              <v-list-item @click=\"selected_label = item\" v-for=\"(item, index) in labels\" :key=\"index\">\r\n                <v-list-item-avatar>\r\n                  <v-avatar :color=\"`rgb(${item.color[0]},${item.color[1]},${item.color[2]})`\" size=\"26\"></v-avatar>\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </div>\r\n\r\n        <v-divider></v-divider>\r\n        <div v-if=\"task_type === 0 && editing.element == null\" class=\"zoom-shortcuts\">\r\n          <v-btn text icon @click=\"selected_tool = 'polygon'\"\r\n                 :color=\"'polygon' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polygon</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon @click=\"selected_tool = 'rect'\"\r\n                 :color=\"'rect' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-rectangle</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'circle'\"\r\n                 :color=\"'circle' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-circle-outline</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'free'\"\r\n                 :color=\"'free' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-lead-pencil</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'brush'\"\r\n                 :color=\"'brush' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-brush</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'ruler'\"\r\n                 :color=\"'ruler' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-ruler</v-icon>\r\n          </v-btn>\r\n        </div>\r\n\r\n        <div v-if=\"editing.element != null\" class=\"zoom-shortcuts\">\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'mover'\"\r\n                 :color=\"'mover' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-edit</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'eraser'\"\r\n                 :color=\"'eraser' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-minus</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'creator'\"\r\n                 :color=\"'creator' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-plus</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'free'\"\r\n                 :color=\"'free' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-lead-pencil</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div v-if=\"state_restorer.showing\" class=\"tool-item\">\r\n        <v-slider step=\"1\" dense hide-details v-model=\"state_restorer.undo\" :max=\"state_restorer.max_undo\"\r\n                  label=\"Undo\"/>\r\n      </div>\r\n\r\n      <div class=\"tool-item\" v-if=\"info.length > 0\">\r\n        <p class=\"instruction-item\" v-for=\"instruction in info\">{{instruction}}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"toolbox navigation-toolbox\">\r\n      <v-slider hide-details thumb-label dense v-model=\"zoom\" :max=\"40\" min=\"0.5\" step=\"0\">\r\n        <template v-slot:thumb-label=\"{ value }\">\r\n          {{ value.toFixed(2) }}\r\n        </template>\r\n      </v-slider>\r\n      <div class=\"zoom-shortcuts\">\r\n        <v-btn text icon @click=\"zoom = 1\">1x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 2\">2x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 10\">10x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 20\">20x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 40\">40x</v-btn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"toolbox ruler transparent\">\r\n      <SliceViewerRuler :value=\"viewportLocation\" :pixel-density=\"pixel_density\"></SliceViewerRuler>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import OpenSeadragon from \"openseadragon\"\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n    import SliceViewerRuler from \"./SliceViewerRuler\";\r\n    import _ from \"lodash\"\r\n\r\n    export default {\r\n        name: \"SliceViewer\",\r\n        components: {SliceViewerRuler},\r\n        computed: {\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            },\r\n            pixel_density: function () {\r\n                // console.log(\"calculating pixel_density\")\r\n                if (this.viewportLocation == null || this.slideProperties == null) return 0\r\n                const imgPixels = this.viewportLocation.max.x - this.viewportLocation.min.x\r\n                const imgPixelPerCanvasPixel = imgPixels / SliceDrawer.ctx.canvas.width\r\n                return (this.slideProperties.pixel_width * imgPixelPerCanvasPixel) * 1.2// why are we off by this amount? this is some seriously shade stuff\r\n            }\r\n        },\r\n\r\n        data: () => {\r\n            return {\r\n                selected_label: null,\r\n                labeled_regions: [],\r\n                selected_tool: \"polygon\",\r\n                editor_tool: \"\",\r\n                zoom: 0,\r\n                viewportLocation: null,\r\n                editing: {\r\n                    element: null,\r\n                    mode: \"mover\",\r\n                },\r\n                state_restorer: {\r\n                    showing: false,\r\n                    undo: 0,\r\n                    max_undo: 0\r\n                },\r\n                info: []\r\n            }\r\n        },\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.labeled_regions = new_value\r\n                    SliceDrawer.annotations = new_value\r\n                    SliceDrawer.update()\r\n                }\r\n            },\r\n            task_type: {\r\n                immediate: true,\r\n                handler(new_value) {\r\n                    SliceDrawer.enabled = new_value === 0\r\n                }\r\n            },\r\n            labels: {\r\n                immediate: true,\r\n                handler: function (new_labels) {\r\n                    this.selected_label = new_labels[0]\r\n                }\r\n            },\r\n            labelsVisibility: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_visibility) {\r\n                    SliceDrawer.filtering = new_visibility\r\n                    SliceDrawer.update()\r\n                },\r\n            },\r\n            selected_label: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    SliceDrawer.current_label = new_value\r\n                    if (this.editing.element != null) {\r\n                        //this.editing.element.data.color = new_value.color\r\n                        SliceDrawer.update()\r\n                    }\r\n                }\r\n            },\r\n            selected_tool: function (tool) {\r\n                SliceDrawer.tool = tool\r\n            },\r\n            zoom: function (new_zoom) {\r\n                const viewer = this.viewer\r\n                if (viewer != null && !this.no_model_action) {\r\n                    viewer.viewport.zoomTo(new_zoom)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            drawingStyle: {\r\n                deep: true,\r\n                handler(new_style) {\r\n                    SliceDrawer.drawingStyle = new_style\r\n                    SliceDrawer.update()\r\n                }\r\n            },\r\n            \"editing.mode\": function (value) {\r\n                SliceDrawer.editorMode = value\r\n            },\r\n            \"state_restorer.undo\": function (value) {\r\n                if (!this.no_model_action) {\r\n                    SliceDrawer.stateRestorer.restoreToPoint(value)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            tileSources: function (value) {\r\n                this.viewer.open(value)\r\n            },\r\n            slideProperties: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler(new_value) {\r\n                    SliceDrawer.pixel_width = new_value.pixel_width\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            editElement(element) {\r\n                this.editing.element = element\r\n                this.no_model_action = true\r\n                SliceDrawer.editElement(element)\r\n            },\r\n            saveEdition(element) {\r\n                // this.editing.element = element\r\n                // this.no_model_action = true\r\n                SliceDrawer.concludeEdit()\r\n            },\r\n            cancelEdit() {\r\n                SliceDrawer.cancelEdit()\r\n            },\r\n        },\r\n        mounted() {\r\n            console.log(\"drawEvents:\", this.drawEvents)\r\n            this.$nextTick(() => {\r\n                const viewer = OpenSeadragon({\r\n                    id: \"seadragon-viewer\",\r\n                    tileSources: this.tileSources,\r\n                    showNavigator: true,\r\n                    navigatorPosition: \"TOP_RIGHT\",\r\n                    navigatorRight: \"16px\",\r\n                    navigatorBottom: \"16px\",\r\n                    navigatorHeight: \"120px\",\r\n                    navigatorWidth: \"145px\",\r\n                    showNavigationControl: false,\r\n                    gestureSettingsMouse: {\r\n                        clickToZoom: false,\r\n                    },\r\n                })\r\n\r\n                const delegateCallback = (callback, ...args) => {\r\n                    if (callback != null) {\r\n                        callback(...args)\r\n                    }\r\n                }\r\n\r\n                this.viewer = viewer\r\n                SliceDrawer.init(viewer, {\r\n                    onViewportChanged: (viewport) => {\r\n                        this.viewportLocation = viewport\r\n                        delegateCallback(this.drawEvents.onViewportChanged, viewport)\r\n                    },\r\n                    onHover: (element) => {\r\n                        delegateCallback(this.drawEvents.onHover, element)\r\n                        // if (this.drawEvents != null && this.drawEvents.onHover != null)\r\n                        //     this.drawEvents.onHover(element)\r\n                    },\r\n                    onLeave: (element) => {\r\n                        delegateCallback(this.drawEvents.onLeave, element)\r\n                    },\r\n                    onClick: (element) => {\r\n                        delegateCallback(this.drawEvents.onClick, element)\r\n                    },\r\n                    onStateRestorerEvent: (stateRestorer) => {\r\n                        this.no_model_action = true\r\n                        if (stateRestorer != null) {\r\n                            this.state_restorer.showing = true\r\n                            this.state_restorer.max_undo = stateRestorer.states.length - 1\r\n                            this.state_restorer.undo = stateRestorer.current_state_point\r\n                        } else {\r\n                            this.state_restorer.showing = false\r\n                        }\r\n                        delegateCallback(this.drawEvents.onStateRestorerEvent, stateRestorer)\r\n                    },\r\n                    onEditingEvent: () => {\r\n                        this.no_model_action = true\r\n                        const lastStateIndex = SliceDrawer.currently_editing.history.length - 1\r\n                        this.editing.max_undo = lastStateIndex\r\n                        this.editing.undo = lastStateIndex\r\n                        delegateCallback(this.drawEvents.onEditingEvent)\r\n                    },\r\n                    onFinishNewDrawing: (element) => {\r\n                        // Creating a new label object:\r\n                        this.$emit(\"new-draw\", {\r\n                            label: this.selected_label,\r\n                            geometry: element\r\n                        })\r\n                    },\r\n                    onInfoUpdate: (messages) => {\r\n                        this.info = messages\r\n                    },\r\n                    onFinishedEditing: (changed, element_data) => {\r\n                        if (changed) {\r\n                            console.log(\"data\", {\r\n                                ...this.editing.element,\r\n                                geometry: element_data\r\n                            })\r\n                            this.$emit(\"edit-draw\", {\r\n                                ...this.editing.element,\r\n                                geometry: element_data\r\n                            })\r\n                        }\r\n                        this.editing.element = null\r\n                        delegateCallback(this.drawEvents.onFinishedEditing, changed, element_data)\r\n                    }\r\n                })\r\n                this.viewer.addHandler(\"zoom\", (e) => {\r\n                    this.no_model_action = true // don't let the zoom listener take action\r\n                    this.zoom = e.zoom\r\n                })\r\n                this.no_model_action = false\r\n            })\r\n        },\r\n        props: {\r\n            drawer: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            labels: {type: Array},\r\n            value: {type: Array},\r\n            tileSources: {type: String},\r\n            labelsVisibility: {type: Object},\r\n            drawingStyle: {type: Object},\r\n            drawEvents: {},\r\n            slideProperties: {type: Object}\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  #seadragon-viewer {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n  .toolbox {\r\n    position: absolute;\r\n    border-radius: 8px;\r\n    background-color: #f1f1f1;\r\n    padding: 8px;\r\n  }\r\n\r\n  .transparent {\r\n    background-color: transparent;\r\n  }\r\n\r\n  .ruler {\r\n    right: 32px;\r\n    bottom: 16px;\r\n  }\r\n\r\n  .drawing-tool-container {\r\n    position: absolute;\r\n    left: 16px;\r\n    bottom: 16px;\r\n    height: 500px;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n  }\r\n\r\n  .tool-item {\r\n    flex-flow: column;\r\n    border-radius: 8px;\r\n    background-color: #f1f1f1;\r\n    padding: 8px;\r\n    margin-top: 4px;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  .instruction-item {\r\n    font-size: small;\r\n    font-weight: normal;\r\n    width: 100%;\r\n    margin: 0;\r\n  }\r\n\r\n  .drawing-toolbox {\r\n    bottom: 16px;\r\n    left: 32px;\r\n    /*-webkit-box-shadow: 0px 0px 19px -6px #000000;*/\r\n    /*box-shadow: 0px 0px 19px -6px #000000;*/\r\n  }\r\n\r\n  .state-toolbox {\r\n    left: 32px;\r\n    width: 150px;\r\n    bottom: 120px;\r\n  }\r\n\r\n  .navigation-toolbox {\r\n    width: 200px;\r\n    bottom: 16px;\r\n    margin: 0 auto;\r\n    left: calc(50% - 100px);\r\n  }\r\n\r\n  .zoom-shortcuts {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SliceViewer.vue?vue&type=template&id=04174a65&scoped=true&\"\nimport script from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SliceViewer.vue?vue&type=style&index=0&id=04174a65&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04174a65\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAvatar,VBtn,VDivider,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemTitle,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view',{attrs:{\"name\":\"app_bar\"}}),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"\\n        Welcome to Vuetify\\n      \")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\"\\n        For help and collaboration with other Vuetify developers,\\n        \"),_c('br'),_vm._v(\"please join our online\\n        \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        What's next?\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(next.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Important Links\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(link.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Ecosystem\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(eco.text)+\"\\n        \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo.svg')\"\n          class=\"my-3\"\n          contain\n          height=\"200\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Welcome to Vuetify\n        </h1>\n\n        <p class=\"subheading font-weight-regular\">\n          For help and collaboration with other Vuetify developers,\n          <br>please join our online\n          <a\n            href=\"https://community.vuetifyjs.com\"\n            target=\"_blank\"\n          >Discord Community</a>\n        </p>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          What's next?\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(next, i) in whatsNext\"\n            :key=\"i\"\n            :href=\"next.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ next.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Important Links\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(link, i) in importantLinks\"\n            :key=\"i\"\n            :href=\"link.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ link.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Ecosystem\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(eco, i) in ecosystem\"\n            :key=\"i\"\n            :href=\"eco.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ eco.text }}\n          </a>\n        </v-row>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  export default {\n    name: 'HelloWorld',\n\n    data: () => ({\n      ecosystem: [\n        {\n          text: 'vuetify-loader',\n          href: 'https://github.com/vuetifyjs/vuetify-loader',\n        },\n        {\n          text: 'github',\n          href: 'https://github.com/vuetifyjs/vuetify',\n        },\n        {\n          text: 'awesome-vuetify',\n          href: 'https://github.com/vuetifyjs/awesome-vuetify',\n        },\n      ],\n      importantLinks: [\n        {\n          text: 'Documentation',\n          href: 'https://vuetifyjs.com',\n        },\n        {\n          text: 'Chat',\n          href: 'https://community.vuetifyjs.com',\n        },\n        {\n          text: 'Made with Vuetify',\n          href: 'https://madewithvuejs.com/vuetify',\n        },\n        {\n          text: 'Twitter',\n          href: 'https://twitter.com/vuetifyjs',\n        },\n        {\n          text: 'Articles',\n          href: 'https://medium.com/vuetify',\n        },\n      ],\n      whatsNext: [\n        {\n          text: 'Explore components',\n          href: 'https://vuetifyjs.com/components/api-explorer',\n        },\n        {\n          text: 'Select a layout',\n          href: 'https://vuetifyjs.com/getting-started/pre-made-layouts',\n        },\n        {\n          text: 'Frequently Asked Questions',\n          href: 'https://vuetifyjs.com/getting-started/frequently-asked-questions',\n        },\n      ],\n    }),\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=023580a6&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","<template>\n    <v-app>\n        <router-view name=\"app_bar\"></router-view>\n        <v-main>\n            <router-view></router-view>\n        </v-main>\n    </v-app>\n</template>\n\n<script>\n    import HelloWorld from './components/HelloWorld';\n\n    export default {\n        name: 'App',\n\n        components: {\n            HelloWorld,\n        },\n\n        data: () => ({\n            //\n        }),\n    };\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=58529bc6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        session: null,\n        user: null,\n        token: null,\n    },\n    mutations: {\n        set_session(state, session) {\n            state.session = session\n        },\n\n        login(state, login_data) {\n            state.token = login_data.token\n            state.user = login_data.user\n        },\n        logout(state) {\n            state.token = null\n            state.user = null\n        }\n    },\n    actions: {}\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('HelloWorld',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport HelloWorld from '@/components/HelloWorld.vue'\n\nexport default {\n  name: 'home',\n  components: {\n    HelloWorld\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=59ba5f92&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('loading',{attrs:{\"is-loading\":_vm.loading}},[(_vm.tasks != null)?_c('v-container',{attrs:{\"grid-list-sm\":\"\"}},[_c('v-scale-transition',[(_vm.tasks.annotation_status != null)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\"}},[_c('task-status-overview',{attrs:{\"status\":_vm.tasks.annotation_status},on:{\"start-session\":_vm.startTask}},[_vm._v(\"\\n            Slide Annotation Progress\\n          \")])],1),_c('v-col',{attrs:{\"md\":\"6\"}},[_c('task-status-overview',{attrs:{\"status\":_vm.tasks.review_status},on:{\"start-session\":_vm.startTask}},[_vm._v(\"\\n            Annotation Revision Progress\\n          \")])],1)],1):_vm._e()],1),_c('v-row',[_c('v-subheader',{staticClass:\"text-h4 mt-2\"},[_vm._v(\"Segmentation and annotation tasks\")])],1),(_vm.tasks.annotations != null && _vm.tasks.annotations.length > 0)?_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"headers\":_vm.annotation_headers,\"items\":_vm.tasks.annotations},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(slide.name)+\"\\n              \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(user.name)+\"\\n              \")])}),1)]}},{key:\"item.completed\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('v-simple-checkbox',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"ripple\":false,\"value\":item.completed}}),(!item.completed)?_c('v-chip',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Remaining!\")]):_vm._e()],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"text\":\"\",\"color\":item.completed ? 'primary' : 'orange accent-4'},on:{\"click\":function($event){return _vm.startTask(item)}}},[_vm._v(\"Open image\\n            \")])]}}],null,false,3746588045)})],1)],1):_vm._e(),_c('v-row',[_c('v-subheader',{staticClass:\"text-h4 mt-2\"},[_vm._v(\"Annotation revision tasks\")])],1),(_vm.tasks.review != null && _vm.tasks.review.length > 0)?_c('v-row',[_c('v-col',[_c('v-data-table',{attrs:{\"headers\":_vm.review_headers,\"items\":_vm.tasks.review},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.task.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(slide.name)+\"\\n              \")])}),1)]}},{key:\"item.revisions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.revisions),function(revision){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                \"+_vm._s(revision.user.name)+\"\\n              \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(user.name)+\"\\n              \")])}),1)]}},{key:\"item.completed\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('v-simple-checkbox',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"ripple\":false,\"value\":item.completed}}),(!item.completed)?_c('v-chip',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"outlined\":\"\",\"color\":\"red\"}},[_vm._v(\"Remaining!\")]):_vm._e()],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"text\":\"\",\"color\":item.completed ? 'primary' : 'orange accent-4'},on:{\"click\":function($event){return _vm.startTask(item)}}},[_vm._v(\"Open\\n              Revision\\n            \")])]}}],null,false,1171687041)})],1)],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto\"},[_c('v-card-text',[_c('div',[_vm._t(\"default\")],2),_c('p',{staticClass:\"text-h4 text--primary\"},[_vm._v(\"\\n      \"+_vm._s(_vm.status.total-_vm.status.done)+\" remaining! You completed\\n      \"+_vm._s(_vm.status.done)+\" of \"+_vm._s(_vm.status.total)+\".\\n    \")]),_c('p',[_c('v-progress-linear',{attrs:{\"readonly\":\"\",\"value\":_vm.progress}})],1),(!_vm.status.next.completed)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.status.next.project.name))]),_c('div',{staticClass:\"text--primary\"},[_vm._v(\"\\n        Up next:\"),_c('br'),_vm._v(\"\\n        \"+_vm._s(_vm.status.next.name)+\"\\n      \")])]):_c('div',{staticClass:\"text--primary\"},[_vm._v(\"You have completed all the slides. You can continue to review them.\\n    \")])]),_c('v-divider'),_c('v-card-actions',[(_vm.status.next != null)?_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\",\"color\":\"orange accent-4\",\"disabled\":_vm.status.next.completed},on:{\"click\":_vm.startSession}},[_vm._v(\"\\n      Continue\\n    \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"mx-auto\">\r\n    <v-card-text>\r\n      <div><slot></slot></div>\r\n      <p class=\"text-h4 text--primary\">\r\n        {{status.total-status.done}} remaining! You completed\r\n        {{status.done}} of {{status.total}}.\r\n      </p>\r\n      <p>\r\n        <v-progress-linear readonly :value=\"progress\"/>\r\n      </p>\r\n      <div v-if=\"!status.next.completed\">\r\n        <p>{{status.next.project.name}}</p>\r\n        <div class=\"text--primary\">\r\n          Up next:<br>\r\n          {{status.next.name}}\r\n        </div>\r\n      </div>\r\n      <div class=\"text--primary\" v-else>You have completed all the slides. You can continue to review them.\r\n      </div>\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions>\r\n      <v-btn block text color=\"orange accent-4\"\r\n             v-if=\"status.next != null\"\r\n             :disabled=\"status.next.completed\"\r\n             @click=\"startSession\">\r\n        Continue\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"TaskStatusOverview\",\r\n        methods: {\r\n            startSession() {\r\n                this.$emit(\"start-session\", this.status.next)\r\n            }\r\n        },\r\n        computed: {\r\n            progress: function () {\r\n                return (this.status.done / this.status.total) * 100\r\n            }\r\n        },\r\n        props: [\"status\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskStatusOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskStatusOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskStatusOverview.vue?vue&type=template&id=2efc79a9&scoped=true&\"\nimport script from \"./TaskStatusOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskStatusOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2efc79a9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VDivider,VProgressLinear})\n","<template>\r\n  <!--  <div v-if=\"tasks != null\">-->\r\n  <loading :is-loading=\"loading\">\r\n    <v-container grid-list-sm v-if=\"tasks != null\">\r\n      <v-scale-transition>\r\n        <v-row v-if=\"tasks.annotation_status != null\">\r\n          <v-col md=\"6\">\r\n            <task-status-overview\r\n                    :status=\"tasks.annotation_status\"\r\n                    v-on:start-session=\"startTask\">\r\n              Slide Annotation Progress\r\n            </task-status-overview>\r\n          </v-col>\r\n          <v-col md=\"6\">\r\n            <task-status-overview\r\n                    :status=\"tasks.review_status\"\r\n                    v-on:start-session=\"startTask\">\r\n              Annotation Revision Progress\r\n            </task-status-overview>\r\n          </v-col>\r\n        </v-row>\r\n      </v-scale-transition>\r\n      <v-row>\r\n        <v-subheader class=\"text-h4 mt-2\">Segmentation and annotation tasks</v-subheader>\r\n      </v-row>\r\n      <v-row v-if=\"tasks.annotations != null && tasks.annotations.length > 0\">\r\n        <v-col>\r\n          <v-data-table\r\n                  :headers=\"annotation_headers\"\r\n                  :items=\"tasks.annotations\">\r\n            <template v-slot:item.slides=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        v-for=\"slide in item.slides\">\r\n                  {{ slide.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.assigned=\"{ item }\">\r\n              <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark>\r\n                  {{ user.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.completed=\"{ item }\">\r\n              <div style=\"display: inline;\">\r\n                <v-simple-checkbox :ripple=\"false\" style=\"display: inline-block;\" :value=\"item.completed\"/>\r\n                <v-chip style=\"display: inline-block;\" outlined color=\"red\" v-if=\"!item.completed\">Remaining!</v-chip>\r\n              </div>\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn text :color=\"item.completed ? 'primary' : 'orange accent-4'\" @click=\"startTask(item)\">Open image\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-subheader class=\"text-h4 mt-2\">Annotation revision tasks</v-subheader>\r\n      </v-row>\r\n      <v-row v-if=\"tasks.review != null && tasks.review.length > 0\">\r\n        <v-col>\r\n          <v-data-table\r\n                  :headers=\"review_headers\"\r\n                  :items=\"tasks.review\">\r\n            <template v-slot:item.slides=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        v-for=\"slide in item.task.slides\">\r\n                  {{ slide.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.revisions=\"{ item }\">\r\n              <v-chip-group column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\"\r\n                        outlined :readonly=\"true\"\r\n                        v-for=\"revision in item.revisions\">\r\n                  {{ revision.user.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.assigned=\"{ item }\">\r\n              <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark>\r\n                  {{ user.name }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </template>\r\n            <template v-slot:item.completed=\"{ item }\">\r\n              <div style=\"display: inline;\">\r\n                <v-simple-checkbox :ripple=\"false\" style=\"display: inline-block;\" :value=\"item.completed\"/>\r\n                <v-chip style=\"display: inline-block;\" outlined color=\"red\" v-if=\"!item.completed\">Remaining!</v-chip>\r\n              </div>\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn text :color=\"item.completed ? 'primary' : 'orange accent-4'\" @click=\"startTask(item)\">Open\r\n                Revision\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </loading>\r\n  <!--  <div v-else>-->\r\n  <!--    <v-progress-circular class=\"loading\" size=\"52\" :indeterminate=\"true\"/>-->\r\n  <!--  </div>-->\r\n</template>\r\n\r\n<script>\r\n    import TaskStatusOverview from \"../components/TaskStatusOverview\";\r\n    import Loading from \"../components/Loading\";\r\n\r\n    export default {\r\n        name: \"Tasks\",\r\n        components: {Loading, TaskStatusOverview},\r\n        data: () => {\r\n            return {\r\n                loading: true,\r\n                tasks: null,\r\n                task_types: [\r\n                    \"Annotate images\",\r\n                    \"Review annotations\"\r\n                ],\r\n                annotation_headers: [\r\n                    {\r\n                        text: 'Slides',\r\n                        align: 'start',\r\n                        sortable: false,\r\n                        value: 'slides',\r\n                    },\r\n                    {text: \"Completed?\", value: 'completed'},\r\n                    // {text: 'Slides', value: 'slides'},\r\n                    {text: 'Project', value: 'project.name'},\r\n                    // {text: 'Users', value: 'assigned'},\r\n                    {text: \"Actions\", value: 'actions'}\r\n                ],\r\n                review_headers: [\r\n                    {\r\n                        text: 'Slides associated',\r\n                        align: 'start',\r\n                        sortable: false,\r\n                        value: 'slides',\r\n                    },\r\n                    {\r\n                        text: 'Annotations by to review',\r\n                        align: 'start',\r\n                        sortable: false,\r\n                        value: 'revisions',\r\n                    },\r\n                    {text: \"Completed?\", value: 'completed'},\r\n                    {text: 'Project', value: 'project.name'},\r\n                    {text: \"Actions\", value: 'actions'}\r\n                ]\r\n            }\r\n        },\r\n        methods: {\r\n            startTask(task) {\r\n                this.$post(\"session/create\", task)\r\n                    .then(resp => {\r\n                        this.$store.commit(\"set_session\", resp)\r\n                        this.$router.push(\"/session/\" + resp.id)\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            loadTasks() {\r\n                this.loading = true\r\n                this.$get(\"task/list\")\r\n                    .then(resp => {\r\n                        this.tasks = resp\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                        this.loading = false\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadTasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=7dcbc1c7&scoped=true&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dcbc1c7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VScaleTransition } from 'vuetify/lib/components/transitions';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VChip,VChipGroup,VCol,VContainer,VDataTable,VRow,VScaleTransition,VSimpleCheckbox,VSubheader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"overflow\":\"hidden\"}},[_c('slice-viewer',{ref:\"slice_viewer\",attrs:{\"drawer\":!_vm.session.completed,\"tile-sources\":_vm.tile_sources,\"labels\":_vm.project_labels,\"labels-visibility\":_vm.labels_visible,\"drawing-style\":_vm.drawing_style,\"draw-events\":_vm.draw_events,\"slide-properties\":_vm.current_slide.properties},on:{\"region-clicked\":_vm.regionClicked,\"new-draw\":_vm.onNewRegionDraw,\"edit-draw\":_vm.onEditRegionDraw},model:{value:(_vm.labelled[_vm.current_slide.id]),callback:function ($$v) {_vm.$set(_vm.labelled, _vm.current_slide.id, $$v)},expression:\"labelled[current_slide.id]\"}}),_c('side-window',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"fixed\":\"\",\"color\":\"grey lighten-4\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab',[_vm._v(\"View\")]),(_vm.labelled[_vm.current_slide.id] != null && _vm.labelled[_vm.current_slide.id].length > 0)?_c('v-tab',[_vm._v(\"Annotations\\n            (\"+_vm._s(_vm.labelled[_vm.current_slide.id].length)+\")\\n          \")]):_vm._e()],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.task_type === 0 ? \"Annotation task\" : \"Review task\"))])],1),_c('v-tabs-items',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Annotation visibility\")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\",staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.project_labels),function(label){return _c('v-switch',{key:label.id,staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":label.name,\"color\":_vm.genColor(label.color)},model:{value:(_vm.labels_visible[label.name]),callback:function ($$v) {_vm.$set(_vm.labels_visible, label.name, $$v)},expression:\"labels_visible[label.name]\"}})}),1),_c('v-divider'),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('v-slider',{staticClass:\"pl-2 pr-2\",staticStyle:{\"width\":\"50%\"},attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-circle-opacity\",\"step\":\"0\",\"thumb-label\":\"\",\"min\":\"0.0\",\"max\":\"1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                      \"+_vm._s(value.toFixed(2))+\"\\n                    \")]}}]),model:{value:(_vm.drawing_style.region_opacity),callback:function ($$v) {_vm.$set(_vm.drawing_style, \"region_opacity\", $$v)},expression:\"drawing_style.region_opacity\"}}),_c('v-slider',{staticClass:\"pl-2 pr-2\",staticStyle:{\"width\":\"50%\"},attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-format-line-weight\",\"step\":\"1\",\"thumb-label\":\"\",\"min\":\"1\",\"max\":\"10\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                      \"+_vm._s(value.toFixed(2))+\"\\n                    \")]}}]),model:{value:(_vm.drawing_style.line_weight),callback:function ($$v) {_vm.$set(_vm.drawing_style, \"line_weight\", $$v)},expression:\"drawing_style.line_weight\"}})],1)],1)],1),(_vm.slides.length > 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task slides\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"There is more than one slide\\n                  associated with this task. Select the slide you want to work with below.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-list',{attrs:{\"dense\":\"\",\"shaped\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"orange\",\"mandatory\":\"\"},model:{value:(_vm.current_slide),callback:function ($$v) {_vm.current_slide=$$v},expression:\"current_slide\"}},_vm._l((_vm.slides),function(slide){return _c('v-list-item',{key:slide.id,attrs:{\"two-line\":\"\",\"value\":slide}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(slide.name)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(slide.properties.comment)}})],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.slideInfo(slide)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-information-outline\")])],1)],1)],1)}),1)],1)],1)])],1):_vm._e(),_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task status\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Once you feel you are done with\\n                  task you may mark it as completed.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-switch',{attrs:{\"label\":\"Task completed\"},model:{value:(_vm.session.completed),callback:function ($$v) {_vm.$set(_vm.session, \"completed\", $$v)},expression:\"session.completed\"}})],1)])],1),(_vm.task_type === 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Annotations to review\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"List of user's annotations for\\n                  this task that must be reviewed. Select the user's annotations you want to review at this time.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},_vm._l((_vm.revisions),function(item){return _c('v-switch',{attrs:{\"label\":item.user},model:{value:(_vm.revision_enabled[item.id]),callback:function ($$v) {_vm.$set(_vm.revision_enabled, item.id, $$v)},expression:\"revision_enabled[item.id]\"}})}),1)])],1):_vm._e(),(_vm.task_type === 0)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Import annotations\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Select a geojson file to import\\n                  its annotations to the currently selected slide.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"file-importer-input\",\"type\":\"file\"}}),_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":_vm.importAnnotations}},[_vm._v(\"Select file\")])],1)])],1):_vm._e()],1)],1)],1),_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.labelled[_vm.current_slide.id]),function(region,idx){return _c('v-flex',{key:region.id,attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('annotation-card',{key:idx,attrs:{\"editing\":_vm.editing},on:{\"save-region\":_vm.saveEdition,\"edit-region\":_vm.editRegion,\"cancel-edit\":_vm.cancelEdit,\"annotation-feedback\":_vm.annotationFeedback,\"import-annotation\":_vm.onNewRegionDraw,\"dismiss-annotation\":_vm.dismissAnnotation},model:{value:(_vm.labelled[_vm.current_slide.id][idx]),callback:function ($$v) {_vm.$set(_vm.labelled[_vm.current_slide.id], idx, $$v)},expression:\"labelled[current_slide.id][idx]\"}})],1)}),1)],1)],1)],1)],1),(_vm.feedback_dialog)?_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.feedback_dialog),callback:function ($$v) {_vm.feedback_dialog=$$v},expression:\"feedback_dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"\\n        Annotation label feedback\\n      \")]),_c('v-card-text',[_c('div',{staticClass:\"text-center font-weight-light\"},[_vm._v(\"What is the correct label?\")]),_c('v-chip-group',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.editing.feedback.label_id),callback:function ($$v) {_vm.$set(_vm.editing.feedback, \"label_id\", $$v)},expression:\"editing.feedback.label_id\"}},_vm._l((_vm.project_labels),function(label){return _c('v-chip',{key:label.id,attrs:{\"filter\":\"\",\"value\":label.id}},[_vm._v(_vm._s(label.name))])}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.relabelScreenContinue}},[_vm._v(\"Continue\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{ref:\"side_window\",attrs:{\"app\":\"\",\"right\":\"\",\"width\":_vm.width},model:{value:(_vm.shown),callback:function ($$v) {_vm.shown=$$v},expression:\"shown\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-navigation-drawer ref=\"side_window\" app right :width=\"width\" v-model=\"shown\">\r\n    <slot></slot>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SideWindow\",\r\n        data: () => {\r\n            return {\r\n                width: 300,\r\n                shown: true,\r\n                borderSize: 3\r\n            }\r\n        },\r\n        methods: {\r\n            setBorderWidth() {\r\n                let i = this.$refs.side_window.$el.querySelector(\r\n                    \".v-navigation-drawer__border\"\r\n                );\r\n                i.style.width = this.borderSize + \"px\";\r\n                i.style.cursor = \"ew-resize\";\r\n            },\r\n            setEvents() {\r\n                const minSize = this.borderSize + 300\r\n                const el = this.$refs.side_window.$el\r\n                const drawerBorder = el.querySelector(\".v-navigation-drawer__border\")\r\n                const vm = this;\r\n                const direction = el.classList.contains(\"v-navigation-drawer--right\")\r\n                    ? \"right\"\r\n                    : \"left\";\r\n\r\n                function resize(e) {\r\n                    document.body.style.cursor = \"ew-resize\"\r\n                    let f = direction === \"right\"\r\n                        ? document.body.scrollWidth - e.clientX\r\n                        : e.clientX\r\n                    el.style.width = f + \"px\"\r\n                }\r\n\r\n                drawerBorder.addEventListener(\r\n                    \"mousedown\",\r\n                    function (e) {\r\n                        if (e.offsetX < minSize) {\r\n                            // m_pos = e.x;\r\n                            el.style.transition = 'initial';\r\n                            document.addEventListener(\"mousemove\", resize, false);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n\r\n                document.addEventListener(\r\n                    \"mouseup\",\r\n                    function () {\r\n                        el.style.transition = '';\r\n                        vm.width = el.style.width;\r\n                        document.body.style.cursor = \"\";\r\n                        document.removeEventListener(\"mousemove\", resize, false);\r\n                    },\r\n                    false\r\n                );\r\n            }\r\n        },\r\n        mounted() {\r\n            this.setBorderWidth()\r\n            this.setEvents()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .custom-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    float: left;\r\n\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideWindow.vue?vue&type=template&id=a324ad62&scoped=true&\"\nimport script from \"./SideWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./SideWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a324ad62\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"id\":(\"region-\" + (_vm.value.id)),\"min-width\":\"200\",\"outlined\":\"\"},on:{\"click\":_vm.peep}},[_c('v-card-title',{staticClass:\"title-nowrap\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"18\",\"color\":_vm.genColor(_vm.value.label.color)}}),(_vm.task_type === 0 && _vm.updating_label)?_c('v-text-field',{attrs:{\"label\":\"Annotation title\"},model:{value:(_vm.value.title),callback:function ($$v) {_vm.$set(_vm.value, \"title\", $$v)},expression:\"value.title\"}}):_c('span',[_vm._v(_vm._s(_vm.card_title))])],1),(_vm.updating_label)?_c('v-card-text',{on:{\"click\":function($event){$event.stopPropagation();}}},[(_vm.value.meta.importing != null)?_c('span',{staticClass:\"importing-pending-warning\"},[_vm._v(\"Pending import\")]):_vm._e(),(_vm.task_type === 0)?_c('v-text-field',{attrs:{\"label\":\"Description\"},model:{value:(_vm.value.description),callback:function ($$v) {_vm.$set(_vm.value, \"description\", $$v)},expression:\"value.description\"}}):_vm._e(),_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"column\":\"\"},on:{\"change\":_vm.updateRender},model:{value:(_vm.value.label),callback:function ($$v) {_vm.$set(_vm.value, \"label\", $$v)},expression:\"value.label\"}},_vm._l((_vm.project_labels),function(label){return _c('v-chip',{key:label.id,attrs:{\"color\":_vm.genColor(label.color),\"outlined\":\"\",\"filter\":\"\",\"value\":label}},[_vm._v(\"\\n        \"+_vm._s(label.name)+\"\\n      \")])}),1)],1):_vm._e(),(_vm.task_type === 1 && _vm.value.feedback.id != null)?_c('v-card-text',[(_vm.value.feedback.feedback === 0)?_c('div',[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\"\\n      Correct annotation\\n    \")],1):_c('div',[_c('p',{staticClass:\"ma-0\"},[_vm._v(\"\\n        \"+_vm._s(_vm.feedback[_vm.value.feedback.feedback])+\"\\n      \")]),_c('p',{staticClass:\"ma-0\"},[_vm._v(\"Correct label:\\n        \"),_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"16\",\"color\":_vm.genColor(_vm.project_labels[_vm.value.feedback.label_id].color)}}),_vm._v(\"\\n        \"+_vm._s(_vm.project_labels[_vm.value.feedback.label_id].name)+\"\\n      \")],1),(_vm.value.feedback.geometry != null && !_vm.undoing_feedback)?_c('p',{staticClass:\"ma-0\"},[_c('a',{on:{\"click\":_vm.swapDrawings}},[_vm._v(\"Checkout\\n        \"+_vm._s(_vm.drawing_swapped ? 'original' : 'expected')+\" region\")])]):_vm._e()])]):(_vm.value.description != null && !_vm.updating_label)?_c('v-card-text',[_vm._v(_vm._s(_vm.value.description))]):_vm._e(),_c('v-divider'),(_vm.task_type === 0)?_c('v-card-actions',[_c('v-spacer'),(_vm.value.meta.importing != null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dismissAnnotation.apply(null, arguments)}}},[_vm._v(\"Dismiss\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.importAnnotation.apply(null, arguments)}}},[_vm._v(\"Import\")])],1):(_vm.editing !== _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.dismissAnnotation}},[_vm._v(\"Remove\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.editRegion(_vm.value)}}},[_vm._v(\"Edit\")])],1):(_vm.editing === _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.saveRegion(_vm.value)}}},[_vm._v(\"Save\")])],1):_vm._e()],1):(_vm.task_type === 1)?_c('v-card-actions',[_c('v-spacer'),((_vm.value.feedback.id == null && _vm.editing !== _vm.value) || _vm.undoing_feedback)?_c('div',[_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Incorrect\")])]}}],null,false,4214225949)},[_c('v-list',_vm._l((_vm.incorrect_options),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":item.func}},[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)}),1)],1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.feedbackCorrect}},[_vm._v(\"Correct\")])],1):(_vm.editing === _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.saveRegion(_vm.value)}}},[_vm._v(\"Save\")])],1):(_vm.value.feedback.id != null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.undo}},[_vm._v(\"Undo\")])],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card @click=\"peep\" :id=\"`region-${value.id}`\" min-width=\"200\" outlined>\r\n    <v-card-title class=\"title-nowrap\" @click.stop>\r\n      <v-avatar size=\"18\" class=\"mr-2\" :color=\"genColor(value.label.color)\"/>\r\n      <v-text-field v-if=\"task_type === 0 && updating_label\" v-model=\"value.title\"\r\n                    label=\"Annotation title\"></v-text-field>\r\n      <span v-else>{{card_title}}</span>\r\n    </v-card-title>\r\n    <v-card-text v-if=\"updating_label\" @click.stop>\r\n      <span v-if=\"value.meta.importing != null\" class=\"importing-pending-warning\">Pending import</span>\r\n      <v-text-field v-if=\"task_type === 0\" v-model=\"value.description\" label=\"Description\"></v-text-field>\r\n      <v-chip-group v-model=\"value.label\" mandatory column @change=\"updateRender\">\r\n        <v-chip :color=\"genColor(label.color)\" outlined v-for=\"label in project_labels\" filter :value=\"label\"\r\n                :key=\"label.id\">\r\n          {{label.name}}\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-text>\r\n    <v-card-text v-if=\"task_type === 1 && value.feedback.id != null\">\r\n      <div v-if=\"value.feedback.feedback === 0\">\r\n        <v-icon>mdi-check</v-icon>\r\n        Correct annotation\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"ma-0\">\r\n          {{feedback[value.feedback.feedback]}}\r\n        </p>\r\n        <p class=\"ma-0\">Correct label:\r\n          <v-avatar size=\"16\" class=\"mr-2\" :color=\"genColor(project_labels[value.feedback.label_id].color)\"/>\r\n          {{project_labels[value.feedback.label_id].name}}\r\n        </p>\r\n        <p class=\"ma-0\" v-if=\"value.feedback.geometry != null && !undoing_feedback\"><a @click=\"swapDrawings\">Checkout\r\n          {{drawing_swapped ? 'original' : 'expected'}} region</a></p>\r\n      </div>\r\n    </v-card-text>\r\n    <v-card-text v-else-if=\"value.description != null && !updating_label\">{{value.description}}</v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions v-if=\"task_type === 0\">\r\n      <v-spacer/>\r\n      <div v-if=\"value.meta.importing != null\">\r\n        <v-btn text @click.prevent=\"dismissAnnotation\">Dismiss</v-btn>\r\n        <v-btn text @click.prevent=\"importAnnotation\">Import</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing !== value\">\r\n        <v-btn text @click=\"dismissAnnotation\">Remove</v-btn>\r\n        <v-btn text @click=\"editRegion(value)\">Edit</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing === value\">\r\n        <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n        <v-btn text @click=\"saveRegion(value)\">Save</v-btn>\r\n      </div>\r\n    </v-card-actions>\r\n    <v-card-actions v-else-if=\"task_type === 1\">\r\n      <v-spacer/>\r\n      <div v-if=\"(value.feedback.id == null && editing !== value) || undoing_feedback\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn text v-bind=\"attrs\" v-on=\"on\">Incorrect</v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item v-for=\"(item, index) in incorrect_options\" :key=\"index\" @click=\"item.func\">\r\n              <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n        <v-btn text @click=\"feedbackCorrect\">Correct</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing === value\">\r\n        <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n        <v-btn text @click=\"saveRegion(value)\">Save</v-btn>\r\n      </div>\r\n      <div v-else-if=\"value.feedback.id != null\">\r\n        <v-btn text @click=\"undo\">Undo</v-btn>\r\n      </div>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n\r\n    export default {\r\n        name: \"AnnotationCard\",\r\n        computed: {\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            },\r\n            project_labels: function () {\r\n                const labels = {}\r\n                const data = this.$store.state.session.task.project.labels\r\n                for (let i = 0; i < data.length; i++) {\r\n                    labels[data[i].id] = data[i]\r\n                }\r\n                return labels\r\n            },\r\n            card_title: function () {\r\n                if (this.value.title != null && this.value.title !== \"\")\r\n                    return this.value.title\r\n                else\r\n                    return this.value.label.name\r\n            }\r\n        },\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler(new_value) {\r\n                    this.original_label = _.cloneDeep(new_value.label)\r\n                    if (new_value.meta.importing != null) {\r\n                        // If this annotation is imported, we immediately allow to update its label\r\n                        this.updating_label = true\r\n                    }\r\n                }\r\n            },\r\n            editing: {\r\n                handler(new_value) {\r\n                    // if the editing value is null, then we know we can disable the label update\r\n                    if (new_value == null && this.value.meta.importing == null)\r\n                        this.updating_label = false\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                drawing_swapped: false,\r\n                originalRegion: null,\r\n                undoing_feedback: false,\r\n                updating_label: false,\r\n                incorrect_options: [\r\n                    {text: \"Wrong label\", func: this.feedbackWrongLabel},\r\n                    {text: \"Wrong region\", func: this.feedbackWrongRegion},\r\n                ],\r\n                feedback: [\r\n                    \"✓ Correct\",\r\n                    \"✗ Wrong label\",\r\n                    \"✗ Wrong region\"\r\n                ]\r\n            }\r\n        },\r\n        methods: {\r\n            updateRender() {\r\n                SliceDrawer.update()\r\n            },\r\n            peep() {\r\n                SliceDrawer.peep(this.value)\r\n            },\r\n            undo() {\r\n                if (this.drawing_swapped) {\r\n                    this.swapDrawings()\r\n                }\r\n                this.undoing_feedback = true\r\n            },\r\n            swapDrawings() {\r\n                console.log(\"swaping\")\r\n                if (!this.drawing_swapped) {\r\n                    this.originalRegion = this.value.geometry\r\n                    this.value.geometry = this.value.feedback.geometry\r\n                } else {\r\n                    this.value.geometry = this.originalRegion\r\n                }\r\n                this.drawing_swapped = !this.drawing_swapped\r\n                SliceDrawer.update()\r\n            },\r\n            genColor(color) {\r\n                return `rgb(${color[0]},${color[1]},${color[2]})`\r\n            },\r\n\r\n            feedbackWrongLabel() {\r\n                console.log(\"The label is wrong\")\r\n                this.undoing_feedback = false\r\n                this.$emit(\"annotation-feedback\", \"wrong-label\", this.value)\r\n            },\r\n            feedbackWrongRegion() {\r\n                if (this.drawing_swapped) {\r\n                    // If the drawing was swapped, we swap them back\r\n                    this.value.geometry = this.originalRegion\r\n                    this.drawing_swapped = false\r\n                }\r\n                this.$emit(\"annotation-feedback\", \"wrong-region\", this.value)\r\n                this.undoing_feedback = false\r\n            },\r\n            feedbackCorrect() {\r\n                this.$emit(\"annotation-feedback\", \"correct\", this.value)\r\n                this.undoing_feedback = false\r\n            },\r\n\r\n            editRegion(region) {\r\n                this.updating_label = true\r\n                this.$emit(\"edit-region\", region)\r\n            },\r\n            saveRegion(region) {\r\n                this.updating_label = false\r\n                this.$emit(\"save-region\", region)\r\n            },\r\n            cancelEdit() {\r\n                this.updating_label = false\r\n                this.$emit(\"cancel-edit\")\r\n            },\r\n            importAnnotation() {\r\n                this.updating_label = false\r\n                this.$emit(\"import-annotation\", this.value)\r\n            },\r\n            dismissAnnotation() {\r\n                this.updating_label = false\r\n                this.$emit(\"dismiss-annotation\", this.value)\r\n            }\r\n        },\r\n        props: [\"editing\", \"value\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .importing-pending-warning {\r\n    background-color: #ff6f00;\r\n    padding: 0 10px;\r\n    border-radius: 10px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .title-nowrap {\r\n    display: block;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    white-space: nowrap;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCard.vue?vue&type=template&id=49afc4ba&scoped=true&\"\nimport script from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCard.vue?vue&type=style&index=0&id=49afc4ba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49afc4ba\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VDivider,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer,VTextField})\n","<template>\r\n  <v-container style=\"overflow: hidden\">\r\n    <slice-viewer\r\n            ref=\"slice_viewer\"\r\n            :drawer=\"!session.completed\"\r\n            :tile-sources=\"tile_sources\"\r\n            :labels=\"project_labels\"\r\n            :labels-visibility=\"labels_visible\"\r\n            :drawing-style=\"drawing_style\"\r\n            :draw-events=\"draw_events\"\r\n            :slide-properties=\"current_slide.properties\"\r\n            v-model=\"labelled[current_slide.id]\"\r\n            v-on:region-clicked=\"regionClicked\"\r\n            v-on:new-draw=\"onNewRegionDraw\"\r\n            v-on:edit-draw=\"onEditRegionDraw\"/>\r\n    <side-window>\r\n      <v-toolbar dense fixed color=\"grey lighten-4\">\r\n        <v-toolbar-title>{{task_type === 0 ? \"Annotation task\" : \"Review task\"}}</v-toolbar-title>\r\n        <template v-slot:extension>\r\n          <v-tabs v-model=\"selected_tab\">\r\n            <v-tab>View</v-tab>\r\n            <v-tab v-if=\"labelled[current_slide.id] != null && labelled[current_slide.id].length > 0\">Annotations\r\n              ({{labelled[current_slide.id].length}})\r\n            </v-tab>\r\n          </v-tabs>\r\n        </template>\r\n      </v-toolbar>\r\n\r\n      <v-tabs-items v-model=\"selected_tab\">\r\n        <v-tab-item>\r\n          <!-- Controls tab -->\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <v-card-title>Annotation visibility</v-card-title>\r\n                  <div class=\"pl-3 pr-3 pb-3\" style=\"max-height: 200px; overflow-y: auto\">\r\n                    <v-switch\r\n                            class=\"mt-0\"\r\n                            hide-details dense\r\n                            v-for=\"label in project_labels\"\r\n                            :key=\"label.id\"\r\n                            v-model=\"labels_visible[label.name]\"\r\n                            :label=\"label.name\"\r\n                            :color=\"genColor(label.color)\"/>\r\n                  </div>\r\n                  <v-divider></v-divider>\r\n                  <div style=\"display: flex\">\r\n                    <v-slider hide-details class=\"pl-2 pr-2\"\r\n                              style=\"width: 50%\"\r\n                              prepend-icon=\"mdi-circle-opacity\"\r\n                              v-model=\"drawing_style.region_opacity\"\r\n                              step=\"0\"\r\n                              thumb-label\r\n                              min=\"0.0\" max=\"1\">\r\n                      <template v-slot:thumb-label=\"{ value }\">\r\n                        {{ value.toFixed(2) }}\r\n                      </template>\r\n                    </v-slider>\r\n                    <v-slider hide-details class=\"pl-2 pr-2\"\r\n                              style=\"width: 50%\"\r\n                              prepend-icon=\"mdi-format-line-weight\"\r\n                              v-model=\"drawing_style.line_weight\"\r\n                              step=\"1\"\r\n                              thumb-label\r\n                              min=\"1\" max=\"10\">\r\n                      <template v-slot:thumb-label=\"{ value }\">\r\n                        {{ value.toFixed(2) }}\r\n                      </template>\r\n                    </v-slider>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"slides.length > 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task slides</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">There is more than one slide\r\n                    associated with this task. Select the slide you want to work with below.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <!--                    <v-radio-group hide-details v-model=\"current_slide\">-->\r\n                    <!--                      <v-radio v-for=\"slide in slides\" :label=\"slide.name\" :value=\"slide\"/>-->\r\n                    <!--                    </v-radio-group>-->\r\n\r\n                    <v-list dense shaped>\r\n                      <v-list-item-group v-model=\"current_slide\" color=\"orange\" mandatory>\r\n                        <v-list-item two-line v-for=\"slide in slides\" :key=\"slide.id\" :value=\"slide\">\r\n\r\n                          <v-list-item-content>\r\n                            <v-list-item-title v-text=\"slide.name\"></v-list-item-title>\r\n                            <v-list-item-subtitle v-text=\"slide.properties.comment\"></v-list-item-subtitle>\r\n                          </v-list-item-content>\r\n\r\n                          <v-list-item-action>\r\n                            <v-btn @click.stop=\"slideInfo(slide)\" icon>\r\n                              <v-icon dark>mdi-information-outline</v-icon>\r\n                            </v-btn>\r\n                          </v-list-item-action>\r\n                        </v-list-item>\r\n                      </v-list-item-group>\r\n                    </v-list>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task status</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Once you feel you are done with\r\n                    task you may mark it as completed.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch v-model=\"session.completed\" label=\"Task completed\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"task_type === 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Annotations to review</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">List of user's annotations for\r\n                    this task that must be reviewed. Select the user's annotations you want to review at this time.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch v-for=\"item in revisions\" :label=\"item.user\" v-model=\"revision_enabled[item.id]\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"task_type === 0\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Import annotations</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Select a geojson file to import\r\n                    its annotations to the currently selected slide.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <input id=\"file-importer-input\" type=\"file\" style=\"display: none\">\r\n                    <v-btn @click=\"importAnnotations\" block text>Select file</v-btn>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(region, idx) in labelled[current_slide.id]\" :key=\"region.id\">\r\n                <annotation-card\r\n                        v-model=\"labelled[current_slide.id][idx]\" :key=\"idx\"\r\n                        :editing=\"editing\"\r\n                        v-on:save-region=\"saveEdition\"\r\n                        v-on:edit-region=\"editRegion\"\r\n                        v-on:cancel-edit=\"cancelEdit\"\r\n                        v-on:annotation-feedback=\"annotationFeedback\"\r\n                        v-on:import-annotation=\"onNewRegionDraw\"\r\n                        v-on:dismiss-annotation=\"dismissAnnotation\"/>\r\n              </v-flex>\r\n            </v-layout>\r\n            <!--            <v-btn fab @click=\"stressTest\"></v-btn>-->\r\n          </v-container>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n\r\n    </side-window>\r\n    <v-dialog v-if=\"feedback_dialog\" v-model=\"feedback_dialog\" width=\"500\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5 grey lighten-2\">\r\n          Annotation label feedback\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <div class=\"text-center font-weight-light\">What is the correct label?</div>\r\n          <v-chip-group v-model=\"editing.feedback.label_id\" mandatory>\r\n            <v-chip filter :key=\"label.id\" v-for=\"label in project_labels\" :value=\"label.id\">{{label.name}}</v-chip>\r\n          </v-chip-group>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer/>\r\n          <v-btn text @click=\"relabelScreenContinue\">Continue</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n    import SliceViewer from \"../components/SliceViewer\";\r\n    import SideWindow from \"../components/SideWindow\";\r\n    import AnnotationCard from \"../components/AnnotationCard\";\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n    import {optimizePath} from \"../SliceDrawer\"\r\n\r\n    export default {\r\n        name: \"Session\",\r\n        computed: {\r\n            session_id: function () {\r\n                return this.$route.params.session_id\r\n            },\r\n            tile_sources: function () {\r\n                return `${process.env.VUE_APP_BASE_URL}session/${this.session_id}/${this.current_slide.id}.dzi`\r\n            },\r\n            project_labels: function () {\r\n                return this.$store.state.session.task.project.labels\r\n            },\r\n            session: function () {\r\n                return this.$store.state.session\r\n            },\r\n            slides: function () {\r\n                const session = this.$store.state.session\r\n                console.log(session)\r\n                return session.type === 0 ? session.task.slides : session.task.task.slides\r\n            },\r\n            revisions: function () {\r\n                const revision = []\r\n                const revisionMeta = this.$store.state.session.task.revisions\r\n                const revisionData = this.$store.state.session.revision\r\n                for (let i = 0; i < revisionMeta.length; i++) {\r\n                    revision.push({\r\n                        \"id\": revisionMeta[i].id,\r\n                        \"user\": revisionMeta[i].user.name,\r\n                        \"annotations\": revisionData[revisionMeta[i].id],\r\n                        \"selected\": false\r\n                    })\r\n                }\r\n                return revision\r\n            },\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            }\r\n        },\r\n        watch: {\r\n            session: {\r\n                immediate: true,\r\n                handler: function (session) {\r\n                    if (session.task.type === 0) {\r\n                        this.labelled = session.labelled\r\n                        this.current_slide = session.task.slides[0]\r\n                    } else {\r\n                        this.labelled = []\r\n                        this.current_slide = session.task.task.slides[0]\r\n                    }\r\n                }\r\n            },\r\n            project_labels: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_labels) {\r\n                    console.log(\"project_labels watcher\", new_labels)\r\n                    for (let i = 0; i < new_labels.length; i++) {\r\n                        this.$set(this.labels_visible, new_labels[i].name, true)\r\n                        // this.labels_visible[new_labels[i].name] = true\r\n                    }\r\n                }\r\n            },\r\n            labels_visible: {\r\n                deep: true,\r\n                handler: function (value) {\r\n                    console.log(\"labels_visible watcher:\", value)\r\n                }\r\n            },\r\n            \"session.completed\": function (new_value) {\r\n                this.$get(`task/completed?id=${this.session.id}&completed=${new_value}`)\r\n                    .catch(err => {\r\n                        this.session.completed = !this.session.completed\r\n                        alert(err)\r\n                    })\r\n            },\r\n            revision_enabled: {\r\n                deep: true,\r\n                handler(new_value) {\r\n                    const newElements = {}\r\n                    this.slides.forEach(item => newElements[item] = {})\r\n                    Object.entries(new_value).forEach(([revision_id, enabled]) => {\r\n                        if (enabled) {\r\n                            const slidesAnnotation = this.$store.state.session.revision[revision_id]\r\n                            Object.entries(slidesAnnotation).forEach(([k, v]) => newElements[k] = v)\r\n                        }\r\n                    })\r\n                    this.labelled = newElements\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            const self = this\r\n            return {\r\n                current_slide: null,\r\n                labelled: {},\r\n                selected_tab: 0,\r\n                labels_visible: {},\r\n                drawing_style: {\r\n                    region_opacity: 0.3,\r\n                    line_weight: 1\r\n                },\r\n                line_weight: 1,\r\n                editing: null,\r\n                revision_enabled: {},\r\n                feedback_dialog: false,\r\n                draw_events: {\r\n                    onHover: self.onRegionHover,\r\n                    onLeave: self.onRegionLeave,\r\n                    onClick: self.regionClicked,\r\n                    onFinishedEditing: (completed, region) => {\r\n                        self.editing = null\r\n                    },\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            slideInfo(slide) {\r\n                alert(slide.properties.comment)\r\n            },\r\n\r\n            relabelScreenContinue() {\r\n                if (this.editing.feedback.feedback !== 2) {\r\n                    this.saveFeedback()\r\n                } else {\r\n                    this.feedback_dialog = false\r\n                    this.editRegion(this.editing)\r\n                }\r\n            },\r\n\r\n            saveFeedback() {\r\n                this.$post(`session/${this.session_id}/annotation_feedback`, this.editing)\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.editing.feedback.id = resp.feedback.id\r\n                        this.feedback_dialog = false\r\n                        this.editing = null\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            onRegionHover(region) {\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                if (element == null) return\r\n\r\n                this.selected_tab = 1\r\n                element.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    block: \"center\"\r\n                })\r\n                element.classList.add(\"hovered\")\r\n            },\r\n\r\n            onRegionLeave(region) {\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                if (element == null) return\r\n                element.classList.remove(\"hovered\")\r\n            },\r\n\r\n            genColor(color) {\r\n                return `rgb(${color[0]},${color[1]},${color[2]})`\r\n            },\r\n\r\n            onNewRegionDraw(annotation) {\r\n                console.log(annotation)\r\n                annotation.id = null // making sure to reset the id\r\n                annotation.slide_id = this.current_slide.id\r\n\r\n                this.$post(\"session/\" + this.session_id + \"/add_region\", annotation)\r\n                    .then(resp => {\r\n                        // Add the new region to the list\r\n                        this.labelled[this.current_slide.id] = this.labelled[this.current_slide.id].filter(item => annotation.id !== item.id)\r\n                        this.labelled[this.current_slide.id].push(resp)\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Error while saving region: \" + err)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * A region was updated. We will submit the data to the server.\r\n             *\r\n             * @param element Region data\r\n             */\r\n            onEditRegionDraw(element) {\r\n                if (this.task_type === 0) {\r\n                    this.editing = null\r\n                    this.$post(\"session/\" + this.session_id + \"/edit_region\", element)\r\n                        .then(resp => {\r\n                            // Add the new region to the list\r\n                            console.log(resp)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(\"Error while saving region: \" + err)\r\n                        })\r\n                } else if (this.task_type === 1) {\r\n                    console.log(\"editing before request: \", this.editing, this.original_data)\r\n                    const editing = this.editing\r\n                    const original_data = this.original_data\r\n                    editing.feedback.geometry = element.geometry\r\n                    this.$post(`session/${this.session_id}/annotation_feedback`, this.editing)\r\n                        .then(resp => {\r\n                            console.log(\"editing\", editing, \"original_data\", original_data)\r\n                            console.log(\"resp:\", resp)\r\n                            editing.geometry = resp.geometry\r\n                            editing.feedback.id = resp.feedback.id\r\n                            this.feedback_dialog = false\r\n                            SliceDrawer.update()\r\n                            // this.editing = null\r\n                        })\r\n                        .catch(err => alert(err))\r\n                }\r\n            },\r\n\r\n            /**\r\n             * User clicked on a region. We will highlighted it in the list\r\n             *\r\n             * @param region\r\n             * @param short\r\n             */\r\n            regionClicked(region, short = false) {\r\n                console.log(\"regionClicked\", region)\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                this.selected_tab = 1\r\n                element.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    block: \"center\"\r\n                })\r\n                element.classList.add(\"highlighted\")\r\n                if (short) element.classList.add(\"short\")\r\n                setTimeout(() => {\r\n                    element.classList.remove(\"highlighted\")\r\n                    element.classList.remove(\"short\")\r\n                }, short ? 250 : 3000)\r\n            },\r\n\r\n            importAnnotations() {\r\n                const input = document.getElementById(\"file-importer-input\")\r\n                input.onchange = e => {\r\n                    const reader = new FileReader()\r\n                    reader.readAsText(e.target.files[0], 'UTF-8')\r\n                    reader.onload = readerEvent => {\r\n                        const json = JSON.parse(readerEvent.target.result)\r\n                        const annotations = json.features.map((feature, idx) => {\r\n                            const geo = feature.geometry\r\n                            return {\r\n                                id: `import-${idx}`,\r\n                                label: {color: [0, 0, 0], name: \"Imported annotation\"},\r\n                                geometry: {\r\n                                    type: \"polygon\",\r\n                                    points: optimizePath(geo.coordinates[0].map(coord => {\r\n                                        return {x: coord[0], y: coord[1]}\r\n                                    }))\r\n                                },\r\n                                meta: {\r\n                                    importing: true\r\n                                }\r\n                            }\r\n                        })\r\n                        console.log(\"Annotations: \", annotations)\r\n                        this.labelled[this.current_slide.id].push(...annotations)\r\n                    }\r\n                }\r\n                input.click()\r\n            },\r\n\r\n            /**\r\n             *\r\n             * @param region\r\n             */\r\n            editRegion(region) {\r\n                console.log(\"editRegion session\")\r\n                this.$refs.slice_viewer.editElement(region)\r\n                this.editing = region\r\n            },\r\n            saveEdition(region) {\r\n                this.$refs.slice_viewer.saveEdition(region)\r\n                //this.editing = null\r\n            },\r\n            cancelEdit() {\r\n                this.$refs.slice_viewer.cancelEdit()\r\n                this.editing = null\r\n            },\r\n            annotationFeedback(feedback, annotation) {\r\n                console.log(feedback, annotation)\r\n                this.editing = annotation\r\n                switch (feedback) {\r\n                    case \"correct\":\r\n                        this.editing.feedback.feedback = 0\r\n                        this.editing.feedback.data = null\r\n                        this.editing.feedback.label_id = null\r\n                        this.saveFeedback()\r\n                        break\r\n                    case \"wrong-label\":\r\n                        this.editing.feedback.feedback = 1\r\n                        this.editing.feedback.data = null\r\n                        this.feedback_dialog = true\r\n                        break\r\n                    case \"wrong-region\":\r\n                        this.editing.feedback.feedback = 2\r\n                        this.feedback_dialog = true\r\n                        this.original_data = annotation.geometry\r\n                        break\r\n                }\r\n            },\r\n            dismissAnnotation(annotation) {\r\n                if (annotation.meta.importing) {\r\n                    this.labelled[this.current_slide.id] = this.labelled[this.current_slide.id].filter(item => item !== annotation)\r\n                } else {\r\n                    if (confirm(\"Are you sure you want to remove this annotation?\")) {\r\n                        this.$post(`session/${this.session_id}/remove_annotation`, annotation)\r\n                            .then(resp => {\r\n                                this.labelled[this.current_slide.id] = this.labelled[this.current_slide.id].filter(item => item !== annotation)\r\n                            })\r\n                            .catch(err => alert(err))\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        components: {AnnotationCard, SideWindow, SliceViewer}\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  @keyframes highlight {\r\n\r\n    0% {\r\n      background-color: white;\r\n    }\r\n    50% {\r\n      background-color: darkgrey;\r\n    }\r\n    100% {\r\n      background-color: white;\r\n    }\r\n  }\r\n\r\n  .highlighted {\r\n    animation-name: highlight;\r\n    animation-duration: 1s;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: reverse;\r\n  }\r\n\r\n  .hovered {\r\n    background-color: darkgrey;\r\n  }\r\n\r\n  .card-description {\r\n    font-size: 12px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=418c13a2&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=418c13a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"418c13a2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VContainer,VDialog,VDivider,VFlex,VIcon,VLayout,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VSlider,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_c('v-row',[(_vm.user.manages_tasks)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Tasks\")])],1),_c('v-expansion-panel-content',[_c('v-tabs',{model:{value:(_vm.task_type),callback:function ($$v) {_vm.task_type=$$v},expression:\"task_type\"}},[_c('v-tab',[_vm._v(\"Annotations\")]),_c('v-tab',[_vm._v(\"Revisions\")])],1),_c('v-data-table',{attrs:{\"headers\":_vm.config.task_headers[_vm.task_type],\"items\":_vm.tasks[_vm.task_type],\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                    \"+_vm._s(slide.name)+\"\\n                  \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(user.name)+\"\\n                  \")])}),1)]}},{key:\"item.revisions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.revisions),function(user_task){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(user_task.user.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_task(item)}}},[_vm._v(\" mdi-pencil\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_task(item)}}},[_vm._v(\" mdi-delete\")])]}}],null,false,3555366375)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_task}},[_vm._v(\"New task\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_batch}},[_vm._v(\"New batch\")])],1)],1)],1)],1):_vm._e(),(_vm.user.manages_users)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Users\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.user_headers,\"items\":_vm.users,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_user(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_user(item)}}},[_vm._v(\"mdi-delete\")])]}}],null,false,2797211278)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_user}},[_vm._v(\"New user\")])],1)],1)],1)],1):_vm._e(),(_vm.user.manages_projects)?_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Projects\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.project_header,\"items\":_vm.projects,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.labels\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"show-arrows\":\"\",\"column\":\"\"}},_vm._l((item.labels),function(label){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"color\":(\"rgb(\" + (label.color[0]) + \", \" + (label.color[1]) + \",\" + (label.color[2]) + \")\"),\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(label.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_project(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\"},on:{\"click\":function($event){}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"Not implemented\")])])]}}],null,false,680600733)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_project}},[_vm._v(\"New project\")])],1)],1)],1)],1):_vm._e()],1)],1),(_vm.drawer)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"temporary\":\"\",\"stateless\":\"\",\"right\":\"\",\"width\":\"500px\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"large\":\"\"},on:{\"click\":function($event){_vm.drawer = false}}},[_vm._v(\"mdi-close\")]),_vm._v(\"\\n        Information editor\\n      \")],1)],1),_c('v-container',[(_vm.mode === 'user')?_c('user-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'batch')?_c('task-batch',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'project')?_c('project-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'task')?_c('task-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}),_c('v-text-field',{attrs:{\"label\":\"Username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('v-checkbox',{attrs:{\"label\":\"Is user admin?\"},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}}),_c('span',{staticClass:\"title\"},[_vm._v(\"User permissions\")]),_c('div',{staticClass:\"chip-group\"},[_c('v-check-chip',{model:{value:(_vm.user.manages_apps),callback:function ($$v) {_vm.$set(_vm.user, \"manages_apps\", $$v)},expression:\"user.manages_apps\"}},[_vm._v(\"Manage apps\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_users),callback:function ($$v) {_vm.$set(_vm.user, \"manages_users\", $$v)},expression:\"user.manages_users\"}},[_vm._v(\"Manage users\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_tasks),callback:function ($$v) {_vm.$set(_vm.user, \"manages_tasks\", $$v)},expression:\"user.manages_tasks\"}},[_vm._v(\"Manage tasks\")]),_c('v-check-chip',{model:{value:(_vm.user.manages_projects),callback:function ($$v) {_vm.$set(_vm.user, \"manages_projects\", $$v)},expression:\"user.manages_projects\"}},[_vm._v(\"Manage projects\")]),_c('v-check-chip',{model:{value:(_vm.user.can_export),callback:function ($$v) {_vm.$set(_vm.user, \"can_export\", $$v)},expression:\"user.can_export\"}},[_vm._v(\"Can export annotations\")]),_c('v-check-chip',{model:{value:(_vm.user.access_overview),callback:function ($$v) {_vm.$set(_vm.user, \"access_overview\", $$v)},expression:\"user.access_overview\"}},[_vm._v(\"Access overview\")])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-chip',{attrs:{\"filter\":\"\",\"color\":_vm.color},on:{\"click\":function($event){return _vm.$emit('input', !_vm.value)}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-chip filter :color=\"color\" v-model=\"value\" @click=\"$emit('input', !value)\">\r\n    <slot></slot>\r\n  </v-chip>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"VCheckChip\",\r\n        props: ['value', 'color']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VCheckChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VCheckChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VCheckChip.vue?vue&type=template&id=57afd2ae&scoped=true&\"\nimport script from \"./VCheckChip.vue?vue&type=script&lang=js&\"\nexport * from \"./VCheckChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57afd2ae\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\ninstallComponents(component, {VChip})\n","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"user != null\">-->\r\n    <v-text-field label=\"Name\" v-model=\"user.name\"></v-text-field>\r\n    <v-text-field label=\"Username\" v-model=\"user.username\"></v-text-field>\r\n    <v-text-field label=\"Password\" type=\"password\" v-model=\"user.password\"></v-text-field>\r\n    <v-checkbox v-model=\"user.is_admin\" label=\"Is user admin?\"></v-checkbox>\r\n    <span class=\"title\">User permissions</span>\r\n    <div class=\"chip-group\">\r\n      <!--      <v-chip-group multiple column>-->\r\n      <v-check-chip v-model=\"user.manages_apps\">Manage apps</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_users\">Manage users</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_tasks\">Manage tasks</v-check-chip>\r\n      <v-check-chip v-model=\"user.manages_projects\">Manage projects</v-check-chip>\r\n      <v-check-chip v-model=\"user.can_export\">Can export annotations</v-check-chip>\r\n      <v-check-chip v-model=\"user.access_overview\">Access overview</v-check-chip>\r\n    </div>\r\n    <!--    </v-chip-group>-->\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Save</v-btn>\r\n    </v-card-actions>\r\n    <!--  </v-form>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from \"lodash\";\r\n    import VCheckChip from \"./VCheckChip\";\r\n\r\n    export default {\r\n        name: \"UserEditor\",\r\n        components: {VCheckChip},\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.user = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n        },\r\n        data: () => {\r\n            return {user: null, test: []}\r\n        },\r\n        methods: {\r\n            save() {\r\n                if (this.user.id != null) {\r\n                    // update user profile information\r\n                    this.$post(\"user/edit\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                            this.$emit(\"done\", \"user\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                } else {\r\n                    // create new user profile\r\n                    this.$post(\"user/new\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                            this.$emit(\"done\", \"user\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        props: [\"value\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .chip-group {\r\n    white-space: normal;\r\n    flex-wrap: wrap;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .chip-group * {\r\n    margin: 2px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditor.vue?vue&type=template&id=07d4fe32&scoped=true&\"\nimport script from \"./UserEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEditor.vue?vue&type=style&index=0&id=07d4fe32&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07d4fe32\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardActions,VCheckbox,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Project name\"},model:{value:(_vm.project.name),callback:function ($$v) {_vm.$set(_vm.project, \"name\", $$v)},expression:\"project.name\"}}),_c('v-textarea',{attrs:{\"label\":\"Project description\"},model:{value:(_vm.project.description),callback:function ($$v) {_vm.$set(_vm.project, \"description\", $$v)},expression:\"project.description\"}}),_c('v-text-field',{attrs:{\"label\":\"Files location\",\"error-messages\":_vm.path_errors},on:{\"input\":_vm.check_path},model:{value:(_vm.project.folder),callback:function ($$v) {_vm.$set(_vm.project, \"folder\", $$v)},expression:\"project.folder\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.header,\"items\":_vm.project.labels,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.color\",fn:function(ref){\nvar item = ref.item;\nvar idx = ref.idx;\nreturn [_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"color-box\",style:(_vm.gen_color(item)),on:{\"click\":function($event){return _vm.change_color(item)}}},'div',attrs,false),on))]}}],null,true),model:{value:(_vm.color_menu[item.name]),callback:function ($$v) {_vm.$set(_vm.color_menu, item.name, $$v)},expression:\"color_menu[item.name]\"}},[_c('v-card',[_c('v-color-picker',{attrs:{\"hide-inputs\":\"\",\"swatches-max-height\":100,\"show-swatches\":\"\"},model:{value:(_vm.color_picked),callback:function ($$v) {_vm.color_picked=$$v},expression:\"color_picked\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeColorPicker(item.name)}}},[_vm._v(\"Done\")])],1)],1)],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_label(item)}}},[_vm._v(\"\\n        mdi-delete\\n      \")])]}}])}),_c('v-text-field',{attrs:{\"filled\":\"\",\"label\":\"New label\",\"append-outer-icon\":\"add\"},on:{\"click:append-outer\":_vm.add_label},model:{value:(_vm.new_label),callback:function ($$v) {_vm.new_label=$$v},expression:\"new_label\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"project != null\">-->\r\n    <v-text-field label=\"Project name\" v-model=\"project.name\"/>\r\n    <v-textarea label=\"Project description\" v-model=\"project.description\"/>\r\n    <v-text-field label=\"Files location\" v-model=\"project.folder\" :error-messages=\"path_errors\" @input=\"check_path\"/>\r\n    <v-data-table :headers=\"header\" :items=\"project.labels\" :items-per-page=\"5\">\r\n      <template v-slot:item.color=\"{ item, idx }\">\r\n        <v-menu v-model=\"color_menu[item.name]\" offset-y :close-on-content-click=\"false\">\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <div class=\"color-box\"\r\n                 @click=\"change_color(item)\"\r\n                 :style=\"gen_color(item)\"\r\n                 v-bind=\"attrs\"\r\n                 v-on=\"on\"></div>\r\n          </template>\r\n          <v-card>\r\n            <v-color-picker hide-inputs :swatches-max-height=\"100\" show-swatches\r\n                            v-model=\"color_picked\" ></v-color-picker>\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"primary\" text @click=\"closeColorPicker(item.name)\">Done</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-menu>\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-icon small @click=\"remove_label(item)\">\r\n          mdi-delete\r\n        </v-icon>\r\n      </template>\r\n    </v-data-table>\r\n    <v-text-field\r\n            filled\r\n            label=\"New label\"\r\n            v-model=\"new_label\"\r\n            append-outer-icon=\"add\"\r\n            @click:append-outer=\"add_label\"\r\n    />\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Save</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import _ from \"lodash\";\r\n\r\n    export default {\r\n        name: \"ProjectEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.project = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                if (this.editing_label != null)\r\n                    this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                project: null,\r\n                color_picked: null,\r\n                color_menu: [],\r\n                header: [\r\n                    {text: 'Label', value: 'name'},\r\n                    {text: 'Color', value: 'color', sortable: false},\r\n                    {text: \"Actions\", value: \"actions\"}\r\n                ],\r\n                path_errors: [],\r\n                editing_label: null,\r\n                new_label: null\r\n            }\r\n        },\r\n        methods: {\r\n            closeColorPicker(itemName) {\r\n                this.color_menu[itemName] = false\r\n                this.editing_label = null\r\n                this.color_picked = null\r\n            },\r\n            check_path(input) {\r\n                if (input === \"\") {\r\n                    this.path_errors = [\"Path required\"]\r\n                } else {\r\n                    this.$post(\"project/valid_path\", {\"path\": input})\r\n                        .then(resp => {\r\n                            if (resp.valid_path) {\r\n                                this.path_errors = []\r\n                            } else {\r\n                                this.path_errors = [\"Path not found on environment\"]\r\n                            }\r\n                        })\r\n                        .catch(err => alert(err))\r\n                }\r\n            },\r\n\r\n            add_label() {\r\n                if (this.project == null)\r\n                    this.project = {labels: []}\r\n                if (this.project.labels == null)\r\n                    this.project.labels = []\r\n                this.project.labels.push({\r\n                    \"name\": this.new_label,\r\n                    \"color\": [255, 255, 255]\r\n                })\r\n                this.new_label = \"\"\r\n            },\r\n\r\n            change_color(item) {\r\n                this.editing_label = item\r\n\r\n            },\r\n\r\n            gen_color(item) {\r\n                const colors = item.color\r\n                return `background-color: rgba(${colors[0]},${colors[1]},${colors[2]}, 1)`\r\n            },\r\n            save() {\r\n                if (this.path_errors.length > 0)\r\n                    alert(\"You need to fix the project's path before continuing.\")\r\n                else if (confirm(\"Are you sure you want to continue?\")) {\r\n                    if (this.project.id == null) {\r\n                        this.$post(\"/project/new\", this.project)\r\n                            .then(resp => {\r\n                                this.project = resp\r\n                                this.$emit(\"input\", this.project)\r\n                                this.$emit(\"done\", \"project\")\r\n                            })\r\n                            .catch(err => {\r\n                                alert(err)\r\n                            })\r\n                    } else {\r\n                        this.$post(\"/project/edit\", this.project)\r\n                            .then(resp => {\r\n                                this.project = resp\r\n                                this.$emit(\"input\", this.project)\r\n                                this.$emit(\"done\", \"project\")\r\n                            })\r\n                            .catch(err => {\r\n                                alert(err)\r\n                            })\r\n                    }\r\n                }\r\n            },\r\n            remove_label(label) {\r\n                if (label.id == null) {\r\n                    // No id, simple remove item from the list\r\n                    this.project.labels = this.project.labels.filter(item => item !== label)\r\n                } else {\r\n                    // Request removal from the the database\r\n                    this.$post(\"/project/remove_label\", label)\r\n                        .then(resp => {\r\n                                this.project.labels = this.project.labels.filter(item => item.id !== label.id)\r\n                                this.$emit(\"input\", this.project)\r\n                            }\r\n                        )\r\n                        .catch(err => alert(err))\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            // this.load_users()\r\n        }\r\n        ,\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectEditor.vue?vue&type=template&id=0395a7ec&scoped=true&\"\nimport script from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectEditor.vue?vue&type=style&index=0&id=0395a7ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0395a7ec\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VColorPicker } from 'vuetify/lib/components/VColorPicker';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VColorPicker,VDataTable,VIcon,VMenu,VSpacer,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),_c('v-tabs',{model:{value:(_vm.task.type),callback:function ($$v) {_vm.$set(_vm.task, \"type\", $$v)},expression:\"task.type\"}},[_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 0}}),_vm._v(\"\\n      Annotate\\n    \")],1),_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 1}}),_vm._v(\"\\n      Revision\\n    \")],1)],1),(_vm.task.id == null)?_c('v-tabs-items',{model:{value:(_vm.task.type),callback:function ($$v) {_vm.$set(_vm.task, \"type\", $$v)},expression:\"task.type\"}},[_c('v-tab-item',[_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},[_c('v-scroll-x-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},_vm._l((_vm.task.slides),function(selection,i){return _c('v-chip',{key:i,staticClass:\"ma-1\",attrs:{\"color\":\"grey\",\"dark\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"\\n              mdi-file\\n            \")]),_vm._v(\"\\n            \"+_vm._s(selection.name)+\"\\n          \")],1)}),1)],1),_c('v-treeview',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"},attrs:{\"items\":_vm.files,\"selectable\":\"\",\"dense\":\"\",\"open-on-click\":\"\",\"item-text\":\"name\",\"readonly\":_vm.task.project_id == null,\"return-object\":\"\",\"shaped\":\"\",\"hoverable\":\"\",\"selection-type\":\"leaf\"},model:{value:(_vm.task.slides),callback:function ($$v) {_vm.$set(_vm.task, \"slides\", $$v)},expression:\"task.slides\"}})],1),_c('v-tab-item',[_c('v-select',{attrs:{\"label\":\"Tasks\",\"items\":_vm.review_task_list,\"item-value\":\"id\",\"item-text\":\"name\",\"return-object\":\"\"},model:{value:(_vm.review_task),callback:function ($$v) {_vm.review_task=$$v},expression:\"review_task\"}}),(_vm.task.task_id != null)?_c('v-select',{attrs:{\"label\":\"Users\",\"items\":_vm.review_task.user_tasks,\"item-value\":\"id\",\"item-text\":\"user.name\",\"multiple\":\"\"},model:{value:(_vm.task.revision),callback:function ($$v) {_vm.$set(_vm.task, \"revision\", $$v)},expression:\"task.revision\"}}):_vm._e()],1)],1):_vm._e(),_c('v-select',{attrs:{\"label\":\"Users assigned\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Continue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\" item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <v-tabs v-model=\"task.type\">\r\n      <v-tab :disabled=\"task.id != null\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 0\"/>\r\n        Annotate\r\n      </v-tab>\r\n      <v-tab :disabled=\"task.id != null\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 1\"/>\r\n        Revision\r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-if=\"task.id == null\" v-model=\"task.type\">\r\n      <v-tab-item>\r\n        <!--        <v-select :label=\"`File to analyze ${current_folder != null ? `(from ${current_folder})` : '' }`\"-->\r\n        <!--                  v-model=\"task.slides\"-->\r\n        <!--                  :items=\"files\" :readonly=\"task.project_id == null\"-->\r\n        <!--                  item-text=\"id\"-->\r\n        <!--                  multiple-->\r\n        <!--                  chips-->\r\n        <!--                  deletable-chips-->\r\n        <!--                  return-object/>-->\r\n        <div style=\"overflow-y: auto\">\r\n          <v-scroll-x-transition group hide-on-leave>\r\n            <v-chip v-for=\"(selection, i) in task.slides\" :key=\"i\" color=\"grey\"\r\n                    dark small class=\"ma-1\">\r\n              <v-icon left small>\r\n                mdi-file\r\n              </v-icon>\r\n              {{ selection.name }}\r\n            </v-chip>\r\n          </v-scroll-x-transition>\r\n        </div>\r\n        <v-treeview\r\n                style=\"max-height: 300px; overflow-y: auto\"\r\n                :items=\"files\"\r\n                selectable\r\n                dense\r\n                open-on-click\r\n                item-text=\"name\"\r\n                :readonly=\"task.project_id == null\"\r\n                v-model=\"task.slides\"\r\n                return-object\r\n                shaped\r\n                hoverable\r\n                selection-type=\"leaf\"/>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <v-select label=\"Tasks\" v-model=\"review_task\" :items=\"review_task_list\" item-value=\"id\" item-text=\"name\"\r\n                  return-object/>\r\n        <v-select v-if=\"task.task_id != null\" label=\"Users\"\r\n                  v-model=\"task.revision\"\r\n                  :items=\"review_task.user_tasks\"\r\n                  item-value=\"id\" item-text=\"user.name\"\r\n                  multiple/>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n\r\n    <v-select label=\"Users assigned\" chips multiple :items=\"users\" item-text=\"username\" v-model=\"task.assigned\"\r\n              return-object/>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Continue</v-btn>\r\n    </v-card-actions>\r\n    <!--    -->\r\n    <!--  </v-form>-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from \"lodash\"\r\n\r\n    export default {\r\n        name: \"TaskEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.task = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            },\r\n            \"task.project_id\": function (new_value) {\r\n                if (new_value != null)\r\n                    this.load_files(new_value)\r\n            },\r\n            \"task.type\": function (new_value) {\r\n                if (new_value === 1 && this.review_task_list == null) {\r\n                    this.load_review_tasks()\r\n                }\r\n            },\r\n            review_task: function (new_value) {\r\n                this.task.task_id = new_value.id\r\n            }\r\n        },\r\n        computed: {\r\n            current_folder: function () {\r\n                if (this.task != null) {\r\n                    if (this.task.project != null) {\r\n                        // We already have a project object read the folder\r\n                        console.log(this.task.project)\r\n                        return this.task.project.folder\r\n                    } else if (this.task.project_id != null && this.projects.length === 0) {\r\n                        // We have a assigned project id, we can search for it\r\n                        const project_id = this.task.project_id\r\n                        return this.projects.filter(item => item.id === project_id)[0].folder\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                task: null,\r\n                editing_label: null,\r\n                new_label: null,\r\n                users: [],\r\n                projects: [],\r\n                files: [],\r\n                review_task_list: null,\r\n                review_task: []\r\n            }\r\n        },\r\n        methods: {\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => this.users = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => this.projects = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_review_tasks() {\r\n                this.$get(\"project/tasks\")\r\n                    .then(resp => this.review_task_list = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            save() {\r\n                if (this.task.id == null) {\r\n                    this.$post(\"task/new\", this.task)\r\n                        .then(resp => {\r\n                            this.task = resp\r\n                            this.$emit(\"input\", resp)\r\n                            this.$emit(\"done\", \"task\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                } else {\r\n                    this.$post(\"task/edit\", this.task)\r\n                        .then(resp => {\r\n                            this.task = resp\r\n                            this.$emit(\"input\", resp)\r\n                            this.$emit(\"done\", \"task\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            },\r\n            load_files(project_id) {\r\n                this.$get(\"task/files?project_id=\" + project_id)\r\n                    .then(resp => {\r\n                        this.files = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Unable to locate the project's folder. Make sure the project is properly setup for the current environment.\")\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.load_users()\r\n            this.load_projects()\r\n            if (this.task.project != null)\r\n                this.load_files(this.task.project.id)\r\n        },\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskEditor.vue?vue&type=template&id=a3913120&scoped=true&\"\nimport script from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskEditor.vue?vue&type=style&index=0&id=a3913120&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3913120\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VScrollXTransition } from 'vuetify/lib/components/transitions';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCardActions,VChip,VIcon,VScrollXTransition,VSelect,VSimpleCheckbox,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTextField,VTreeview})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),(_vm.folders.length > 0)?_c('span',{staticClass:\"grey--text text--darken-2 text-body-2\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"Files from:\")]):_vm._e(),_c('v-treeview',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"},attrs:{\"items\":_vm.folders,\"selectable\":\"\",\"dense\":\"\",\"open-all\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"return-object\":\"\",\"readonly\":_vm.task.project_id == null,\"shaped\":\"\",\"hoverable\":\"\",\"selection-type\":\"independent\"},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(_vm._s(item.name)+\" (\"+_vm._s(item.total)+\" file(s), \"+_vm._s(item.new)+\" new files)\")])]}}]),model:{value:(_vm.task.folders),callback:function ($$v) {_vm.$set(_vm.task, \"folders\", $$v)},expression:\"task.folders\"}}),(_vm.folders.length > 0)?_c('v-checkbox',{attrs:{\"label\":\"Only include new files\"},model:{value:(_vm.task.only_new),callback:function ($$v) {_vm.$set(_vm.task, \"only_new\", $$v)},expression:\"task.only_new\"}}):_vm._e(),_c('v-select',{attrs:{\"label\":\"Divide between\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('span',{staticClass:\"grey--text text--darken-2 text-body-2\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"Intersection: how many people should annotate each slide?\")]),_c('v-slider',{attrs:{\"label\":\"Intersection\",\"min\":\"1\",\"max\":_vm.task.assigned.length,\"step\":\"1\",\"thumb-label\":\"\",\"ticks\":\"always\",\"tick-size\":\"5\"},model:{value:(_vm.task.concurrent),callback:function ($$v) {_vm.$set(_vm.task, \"concurrent\", $$v)},expression:\"task.concurrent\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Continue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\" item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <span v-if=\"folders.length > 0\" class=\"grey--text text--darken-2 text-body-2\"\r\n          style=\"font-size: 10px\">Files from:</span>\r\n    <v-treeview\r\n            style=\"max-height: 300px; overflow-y: auto\"\r\n            :items=\"folders\"\r\n            selectable\r\n            dense\r\n            open-all\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            return-object\r\n            :readonly=\"task.project_id == null\"\r\n            v-model=\"task.folders\"\r\n            shaped\r\n            hoverable\r\n            selection-type=\"independent\">\r\n      <template v-slot:label=\"{ item }\">\r\n        <div>{{ item.name }} ({{item.total}} file(s), {{item.new}} new files)</div>\r\n      </template>\r\n    </v-treeview>\r\n    <v-checkbox v-if=\"folders.length > 0\" v-model=\"task.only_new\" label=\"Only include new files\"/>\r\n\r\n    <v-select label=\"Divide between\" chips multiple :items=\"users\" item-text=\"username\" v-model=\"task.assigned\"\r\n              return-object/>\r\n\r\n    <span class=\"grey--text text--darken-2 text-body-2\"\r\n          style=\"font-size: 10px\">Intersection: how many people should annotate each slide?</span>\r\n    <v-slider v-model=\"task.concurrent\"\r\n              label=\"Intersection\"\r\n              min=\"1\"\r\n              :max=\"task.assigned.length\"\r\n              step=\"1\"\r\n              thumb-label\r\n              ticks=\"always\"\r\n              tick-size=\"5\"/>\r\n\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Continue</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"TaskBatch\",\r\n        watch: {\r\n            \"task.project_id\": function (new_value) {\r\n                if (new_value != null)\r\n                    this.load_folders(new_value)\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                projects: null,\r\n                users: null,\r\n                folders: [],\r\n                task: {\r\n                    name: \"\",\r\n                    project_id: null,\r\n                    assigned: [],\r\n                    folders: [],\r\n                    concurrent: 1,\r\n                    only_new: true\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            save() {\r\n                this.$post(\"task/new_batch\", this.task)\r\n                    .then(res => {\r\n                        let counter = \"\"\r\n                        Object.entries(res.user_tasks).forEach(([name, count]) => {\r\n                            counter += `${name} has ${count} new tasks.\\n`\r\n                        })\r\n                        alert(`Successfully created ${res.new_tasks} new tasks.\\n${counter}`)\r\n                        this.$emit(\"done\", \"task\")\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => this.projects = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => this.users = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n            load_folders(project_id) {\r\n                this.$get(\"task/folders?project_id=\" + project_id)\r\n                    .then(resp => {\r\n                        this.folders = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Unable to locate the project's folder. Make sure the project is properly setup for the current environment.\")\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.load_projects()\r\n            this.load_users()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskBatch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskBatch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskBatch.vue?vue&type=template&id=2d699b2e&scoped=true&\"\nimport script from \"./TaskBatch.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskBatch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d699b2e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCardActions,VCheckbox,VSelect,VSlider,VSpacer,VTextField,VTreeview})\n","<template>\r\n  <v-container>\r\n    <v-expansion-panels multiple>\r\n      <v-row>\r\n        <v-col sm=\"12\" v-if=\"user.manages_tasks\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Tasks</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-tabs v-model=\"task_type\">\r\n                <v-tab>Annotations</v-tab>\r\n                <v-tab>Revisions</v-tab>\r\n              </v-tabs>\r\n              <v-data-table\r\n                      :headers=\"config.task_headers[task_type]\"\r\n                      :items=\"tasks[task_type]\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.slides=\"{ item }\">\r\n                  <v-chip-group column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined :readonly=\"true\"\r\n                            v-for=\"slide in item.slides\">\r\n                      {{ slide.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.assigned=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark>\r\n                      {{ user.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.revisions=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user_task in item.revisions\" dark>\r\n                      {{ user_task.user.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_task(item)\"> mdi-pencil</v-icon>\r\n                  <v-icon small @click=\"remove_task(item)\"> mdi-delete</v-icon>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_task\">New task</v-btn>\r\n                <v-btn text @click=\"new_batch\">New batch</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\" v-if=\"user.manages_users\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Users</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.user_headers\"\r\n                      :items=\"users\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_user(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-icon small @click=\"remove_user(item)\">mdi-delete</v-icon>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_user\">New user</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\" v-if=\"user.manages_projects\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Projects</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.project_header\"\r\n                      :items=\"projects\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.labels=\"{ item }\">\r\n                  <v-chip-group show-arrows column>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined\r\n                            :color=\"`rgb(${label.color[0]}, ${label.color[1]},${label.color[2]})`\" :readonly=\"true\"\r\n                            v-for=\"label in item.labels\" dark>\r\n                      {{ label.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_project(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-icon small v-bind=\"attrs\" v-on=\"on\" @click> mdi-delete</v-icon>\r\n                    </template>\r\n                    <span>Not implemented</span>\r\n                  </v-tooltip>\r\n                </template>\r\n              </v-data-table>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_project\">New project</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n      </v-row>\r\n    </v-expansion-panels>\r\n    <v-navigation-drawer v-if=\"drawer\" v-model=\"drawer\" app temporary stateless right width=\"500px\">\r\n      <v-toolbar>\r\n        <v-toolbar-title>\r\n          <v-icon @click=\"drawer = false\" large class=\"mr-1\">mdi-close</v-icon>\r\n          Information editor\r\n        </v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-container>\r\n        <user-editor v-if=\"mode === 'user'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <task-batch v-else-if=\"mode === 'batch'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <project-editor v-else-if=\"mode === 'project'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <task-editor v-else-if=\"mode === 'task'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n      </v-container>\r\n    </v-navigation-drawer>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\n    import UserEditor from \"../components/UserEditor\";\r\n    import ProjectEditor from \"../components/ProjectEditor\";\r\n    import TaskEditor from \"../components/TaskEditor\";\r\n    import TaskBatch from \"../components/TaskBatch\";\r\n\r\n    export default {\r\n        name: \"Admin\",\r\n        components: {TaskBatch, TaskEditor, ProjectEditor, UserEditor},\r\n        watch: {\r\n            editing: function (new_value, old_value) {\r\n                // if (old_value != null && old_value.id == null) {\r\n                //     if (new_value != null && new_value.id != null && !this.is_editing) {\r\n                //         if (this.mode === \"user\")\r\n                //             this.users.push(new_value)\r\n                //         else if (this.mode === \"project\")\r\n                //             this.projects.push(new_value)\r\n                //         else if (this.mode === \"task\")\r\n                //             this.tasks.push(new_value)\r\n                //         this.drawer = false\r\n                //     }\r\n                // this.drawer = false\r\n                // }\r\n            }\r\n        },\r\n        computed: {\r\n            user: function () {\r\n                return this.$store.state.user\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                drawer: false,\r\n                mode: 'user',\r\n                is_editing: false,\r\n                editing: null,\r\n                users: [],\r\n                projects: [],\r\n                tasks: [],\r\n                task_type: \"annotations\",\r\n                config: {\r\n                    task_headers: {\r\n                        0: [\r\n                            {\r\n                                text: 'id',\r\n                                align: 'start',\r\n                                sortable: false,\r\n                                value: 'id',\r\n                            },\r\n                            {text: 'Slides', value: 'slides'},\r\n                            {text: 'Project', value: 'project.name'},\r\n                            {text: 'Users', value: 'assigned'},\r\n                            {text: \"Actions\", value: 'actions'}\r\n                        ],\r\n                        1: [\r\n                            {\r\n                                text: 'id',\r\n                                align: 'start',\r\n                                sortable: false,\r\n                                value: 'id',\r\n                            },\r\n                            {text: 'Project', value: 'project.name'},\r\n                            {text: 'To review', value: 'revisions'},\r\n                            {text: 'Users', value: 'assigned'},\r\n                            {text: \"Actions\", value: 'actions'}\r\n                        ]\r\n                    },\r\n                    user_headers: [\r\n                        {\r\n                            text: 'id',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'id',\r\n                        },\r\n                        {text: 'Name', value: 'name'},\r\n                        {text: 'Username (login)', value: 'username'},\r\n                        {text: 'Is admin?', value: 'is_admin'},\r\n                        {text: 'Actions', value: 'actions'},\r\n                    ],\r\n                    project_header: [\r\n                        {\r\n                            text: 'Project name',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'name',\r\n                        },\r\n                        {text: 'Description', value: 'description'},\r\n                        {text: \"Labels\", value: 'labels'},\r\n                        {text: \"Actions\", value: 'actions'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            done(which) {\r\n                this.drawer = false\r\n                this.editing = null\r\n                switch (which) {\r\n                    case 'user':\r\n                        this.load_users()\r\n                        break\r\n                    case 'project':\r\n                        this.load_projects()\r\n                        break\r\n                    case 'task':\r\n                        this.load_tasks()\r\n                        break\r\n                }\r\n            },\r\n            new_user() {\r\n                this.editing = {\r\n                    username: \"\",\r\n                    is_admin: false,\r\n                    manages_apps: false,\r\n                    manages_users: false,\r\n                    manages_tasks: false,\r\n                    manages_projects: false\r\n                }\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_batch() {\r\n                this.mode = \"batch\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_user(user) {\r\n                this.is_editing = true\r\n                this.editing = user\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            remove_user(user) {\r\n                if (confirm(\"Are sure you want to remove this user?\"))\r\n                    this.$get(\"user/remove?user_id=\" + user.id)\r\n                        .then(res => {\r\n                            this.load_users()\r\n                        })\r\n                        .catch(err => alert(err))\r\n            },\r\n\r\n            new_project() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    folder: \"\",\r\n                    labels: []\r\n                }\r\n                this.mode = \"project\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_project(project) {\r\n                this.is_editing = true\r\n                this.editing = project\r\n                this.mode = \"project\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_task() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    type: 0,\r\n                    slides: [],\r\n                    assigned: []\r\n                }\r\n                this.mode = \"task\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_task(task) {\r\n                this.is_editing = true\r\n                this.editing = task\r\n                this.mode = \"task\"\r\n                this.drawer = true\r\n            },\r\n\r\n            remove_task(task) {\r\n                if (confirm(\"Are you sure you want to remove this task? Annotations may be lost.\"))\r\n                    this.$post(\"task/remove\", task)\r\n                        .then(resp => {\r\n                            console.log(resp)\r\n                            this.load_tasks()\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n            },\r\n\r\n            load_users() {\r\n                if (this.user.manages_users)\r\n                    this.$get(\"user/list\")\r\n                        .then(resp => {\r\n                            console.log(resp)\r\n                            this.users = resp\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n            },\r\n\r\n            load_projects() {\r\n                if (this.user.manages_projects)\r\n                    this.$get(\"project/list\")\r\n                        .then(resp => {\r\n                            console.log(resp)\r\n                            this.projects = resp\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n            },\r\n\r\n            load_tasks() {\r\n                if (this.user.manages_tasks)\r\n                    this.$get(\"task/management_list\")\r\n                        .then(resp => {\r\n                            console.log(resp)\r\n                            this.tasks = resp\r\n                        })\r\n                        .catch(err => alert(err))\r\n            }\r\n        },\r\n        mounted() {\r\n            // todo improve this to only load if the panel is opened\r\n            this.load_users()\r\n            this.load_projects()\r\n            this.load_tasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=4923084c&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4923084c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCardActions,VChip,VChipGroup,VCol,VContainer,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VNavigationDrawer,VRow,VSpacer,VTab,VTabs,VToolbar,VToolbarTitle,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{attrs:{\"align-with-title\":\"\"}},[(_vm.access_overview)?_c('v-tab',{attrs:{\"to\":\"/overview\"}},[_vm._v(\"Overview\")]):_vm._e(),_c('v-tab',{attrs:{\"to\":\"/tasks\"}},[_vm._v(\"Tasks\")]),(_vm.can_export)?_c('v-tab',{attrs:{\"to\":\"/export\"}},[_vm._v(\"Export\")]):_vm._e(),(_vm.is_admin)?_c('v-tab',{attrs:{\"to\":\"/admin\"}},[_vm._v(\"Management\")]):_vm._e()],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(\"WSI Annotation Tool\")]),_c('v-spacer'),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-card',_vm._g(_vm._b({staticClass:\"user-card\",attrs:{\"dark\":\"\",\"flat\":\"\",\"outlined\":\"\",\"color\":\"primary lighten-1\"}},'v-card',attrs,false),on),[_c('v-card-text',[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-dots-vertical-circle\")]),_vm._v(\"\\n          \"+_vm._s(_vm.user_name)+\"\\n        \")],1)],1)]}}])},[_c('v-list',[_c('v-list-item',{on:{\"click\":_vm.logout}},[_c('v-list-item-title',[_vm._v(\"Logout\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark>\r\n\r\n    <v-toolbar-title>WSI Annotation Tool</v-toolbar-title>\r\n\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-menu offset-y>\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-card class=\"user-card\"\r\n                dark\r\n                flat\r\n                outlined\r\n                color=\"primary lighten-1\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\">\r\n          <v-card-text>\r\n            <v-icon class=\"mr-1\">mdi-dots-vertical-circle</v-icon>\r\n            {{user_name}}\r\n          </v-card-text>\r\n        </v-card>\r\n      </template>\r\n      <v-list>\r\n        <v-list-item @click=\"logout\">\r\n          <v-list-item-title>Logout</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n\r\n    <!--    <v-spacer></v-spacer>-->\r\n    <template v-slot:extension>\r\n      <v-tabs align-with-title>\r\n        <v-tab v-if=\"access_overview\" to=\"/overview\">Overview</v-tab>\r\n        <v-tab to=\"/tasks\">Tasks</v-tab>\r\n        <v-tab v-if=\"can_export\" to=\"/export\">Export</v-tab>\r\n        <v-tab v-if=\"is_admin\" to=\"/admin\">Management</v-tab>\r\n      </v-tabs>\r\n    </template>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\",\r\n        computed: {\r\n            is_admin: function () {\r\n                const user = this.$store.state.user\r\n                return user.manages_apps || user.manages_users || user.manages_tasks || user.manages_projects\r\n            },\r\n            can_export: function () {\r\n                const user = this.$store.state.user\r\n                return user.can_export\r\n            },\r\n            access_overview: function () {\r\n                const user = this.$store.state.user\r\n                return user.access_overview\r\n            },\r\n            user_name: function () {\r\n                return this.$store.state.user.name\r\n            }\r\n        },\r\n        methods: {\r\n            logout: function () {\r\n                this.$store.commit(\"logout\")\r\n                this.$router.push(\"/login\")\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .user-card {\r\n    height: 100%;\r\n    min-width: 200px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminAppBar.vue?vue&type=template&id=617232a3&scoped=true&\"\nimport script from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminAppBar.vue?vue&type=style&index=0&id=617232a3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"617232a3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VCard,VCardText,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer,VTab,VTabs,VToolbarTitle})\n","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '@/store'\nimport Home from './views/Home.vue'\nimport Tasks from './views/Tasks.vue'\nimport Session from './views/Session.vue'\nimport Admin from './views/Admin.vue'\nimport AppBar from \"./components/AppBar.vue\"\nimport AdminAppBar from \"./components/AdminAppBar.vue\"\n\nVue.use(Router)\n\nconst new_router = new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: \"/main\",\n            name: \"main\",\n            components: {\n                default: Tasks,\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true\n            }\n        },\n        {\n            path: '/tasks',\n            name: 'tasks',\n            components: {\n                default: Tasks,\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true\n            }\n        },\n\n        {\n            path: '/session/:session_id',\n            name: 'session',\n            components: {\n                default: Session,\n                app_bar: AppBar\n            },\n            meta: {\n                auth: true,\n            }\n        },\n        {\n            path: '/admin',\n            name: 'admin',\n            components: {\n                default: Admin,\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true,\n                is_admin: false\n            }\n        },\n        {\n            path: \"/export\",\n            name: \"export\",\n            components: {\n                default: () => import(\"./views/Export.vue\"),\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true,\n                is_admin: false\n            }\n        },\n        {\n            path: \"/overview\",\n            name: \"overview\",\n            components: {\n                default: () => import(\"./views/TaskOverview.vue\"),\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true\n            }\n        },\n        {\n            path: '/login',\n            name: 'login',\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: '/about',\n            name: 'about',\n            component: () => import(\"./views/About.vue\")\n        }\n    ],\n})\nnew_router.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.auth)) {\n        if (store.state.token == null) {\n            next({\n                path: '/login',\n                params: {nextUrl: to.fullPath}\n            })\n        } else {\n            if (to.matched.some(record => record.meta.is_admin)) {\n                if (store.state.user.is_admin) {\n                    next()\n                } else {\n                    next({name: 'login'})\n                }\n            } else {\n                next()\n            }\n        }\n    } else {\n        next()\n    }\n})\nexport default new_router","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\nimport colors from 'vuetify/lib/util/colors'\nimport '@mdi/font/css/materialdesignicons.css'\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        icons: {\n            iconfont: 'mdi',\n        },\n        themes: {\n            light: {\n                primary: colors.blueGrey.darken3,\n                secondary: colors.grey.darken1,\n                accent: colors.shades.black,\n                error: colors.red.accent3,\n            },\n            dark: {\n                primary: colors.blue.lighten3,\n            },\n        },\n    }\n});\n","import Vue from 'vue'\r\nimport VueAxios from 'vue-plugin-axios'\r\nimport axios from 'axios'\r\nimport store from '@/store'\r\n\r\nVue.use(VueAxios, {\r\n    axios,\r\n    config: {\r\n        baseURL: process.env.VUE_APP_BASE_URL,\r\n    },\r\n    interceptors: {\r\n        beforeRequest(config, axiosInstance) {\r\n            // Adding the jwt token, if we have one\r\n            if (store.state.token != null) {\r\n                const token = store.state.token\r\n\r\n                if (token)\r\n                    config.headers.Authorization = `Bearer ${token}`\r\n            }\r\n\r\n            return config\r\n        },\r\n        beforeResponse(config, axiosInstance) {\r\n            // console.log(\"beforeResponse: \", config)\r\n        },\r\n\r\n        beforeResponseError(config, axiosInstance){\r\n            if (config.statusCode === 401){\r\n            }\r\n        }\r\n    }\r\n})\r\nexport default axios","import VueSplit from 'vue-split-panel'\r\nimport Vue from 'vue'\r\nVue.use(VueSplit)\r\n\r\nexport default VueSplit","import \"vuetify/dist/vuetify.min.css\"\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport vuetify from './plugins/vuetify'\r\nimport axios from './plugins/axios'\r\nimport split from './plugins/split'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  axios,\r\n  split,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=7c8317b2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=418c13a2&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.63a7d78d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=style&index=0&id=04174a65&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=style&index=0&id=a3913120&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.82b9c7a5.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=style&index=0&id=07d4fe32&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[(_vm.$route.name==='session')?_c('v-btn',{staticClass:\"hidden-xs-only\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1):_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"WSI Annotation Tool\")])],1),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark dense>\r\n    <v-btn v-if=\"$route.name==='session'\" @click=\"$router.go(-1)\" icon class=\"hidden-xs-only\">\r\n      <v-icon>mdi-arrow-left</v-icon>\r\n    </v-btn>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img\r\n              alt=\"Vuetify Logo\"\r\n              class=\"shrink mr-2\"\r\n              contain\r\n              src=\"\"\r\n              transition=\"scale-transition\"\r\n              width=\"40\"\r\n      />\r\n\r\n      <v-toolbar-title>WSI Annotation Tool</v-toolbar-title>\r\n    </div>\r\n\r\n    <v-spacer></v-spacer>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\",\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=7b1b56de&scoped=true&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b1b56de\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VImg,VSpacer,VToolbarTitle})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=style&index=0&id=0395a7ec&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewerRuler.vue?vue&type=style&index=0&id=6dde0656&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=style&index=0&id=49afc4ba&scoped=true&lang=css&\""],"sourceRoot":""}