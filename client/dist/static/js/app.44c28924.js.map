{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SliceViewer.vue?5472","webpack:///./src/views/Session.vue?cdee","webpack:///./src/components/SliceViewer.vue?8e69","webpack:///./src/SliceDrawer.js","webpack:///src/components/SliceViewer.vue","webpack:///./src/components/SliceViewer.vue?548e","webpack:///./src/components/SliceViewer.vue?35e9","webpack:///./src/App.vue?e640","webpack:///./src/components/HelloWorld.vue?dfaa","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?4efa","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/views/Home.vue?1dcd","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Tasks.vue?4608","webpack:///src/views/Tasks.vue","webpack:///./src/views/Tasks.vue?2e29","webpack:///./src/views/Tasks.vue","webpack:///./src/views/Session.vue?0f65","webpack:///./src/components/SideWindow.vue?51ad","webpack:///src/components/SideWindow.vue","webpack:///./src/components/SideWindow.vue?386d","webpack:///./src/components/SideWindow.vue?deb7","webpack:///src/views/Session.vue","webpack:///./src/views/Session.vue?3c37","webpack:///./src/views/Session.vue?8469","webpack:///./src/views/Admin.vue?b242","webpack:///./src/components/UserEditor.vue?55c6","webpack:///src/components/UserEditor.vue","webpack:///./src/components/UserEditor.vue?1274","webpack:///./src/components/UserEditor.vue","webpack:///./src/components/ProjectEditor.vue?0711","webpack:///src/components/ProjectEditor.vue","webpack:///./src/components/ProjectEditor.vue?a701","webpack:///./src/components/ProjectEditor.vue?7929","webpack:///./src/components/TaskEditor.vue?0b14","webpack:///src/components/TaskEditor.vue","webpack:///./src/components/TaskEditor.vue?838f","webpack:///./src/components/TaskEditor.vue?a914","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue","webpack:///./src/components/AdminAppBar.vue?ffde","webpack:///src/components/AdminAppBar.vue","webpack:///./src/components/AdminAppBar.vue?9ddc","webpack:///./src/components/AdminAppBar.vue","webpack:///./src/router.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/axios.js","webpack:///./src/plugins/split.js","webpack:///./src/main.js","webpack:///./src/components/SideWindow.vue?15a6","webpack:///./src/assets/logo.svg","webpack:///./src/assets/logo.png","webpack:///./src/components/AppBar.vue?97a9","webpack:///src/components/AppBar.vue","webpack:///./src/components/AppBar.vue?f6e4","webpack:///./src/components/AppBar.vue","webpack:///./src/components/TaskEditor.vue?7fd5","webpack:///./src/components/ProjectEditor.vue?379d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","state_restorer","staticClass","max_undo","model","callback","$$v","$set","expression","_e","scopedSlots","_u","fn","ref","on","_g","_b","selected_label","color","_v","_s","_l","item","index","$event","editing","element","selected_tool","toFixed","zoom","staticRenderFns","freeDrawingDefaultKeyboardBehavior","func","drawer","instance","keyCode","drawer_panning","set_canvas_pan","currently_drawing","_enabled","points","optimizePath","onFinishNewDrawing","stateRestorer","cancel","lineFunction","point1","point2","point3","line1_slope","y","x","line2_slope","line1_b","line2_b","slope","b","toRemove","log","lineFunc","distance1","Math","hypot","filter","idx","includes","polygonTool","mouseEvent","imagePosition","_mousePointToImagePoint","position","is_hover","path","drawing_color","StateRestorer","init","addRestorePoint","update","keyboardEvent","pop","rectTool","map","dim","temp","freeTool","brushTool","size","PathMeshEraser","editor","active","mousePosition","controls","some","control","intersectsControl","point","indexOf","PathMeshMover","forEach","intersects","PathMeshCreator","cursor","checkPathCreation","left","min","right","max","top","bottom","ctx","isPointInPath","newIndex","create_controls","draw","beginPath","_imagePointToCanvasPoint","ellipse","PI","prevPoint","nextPoint","moveTo","lineTo","fill","stroke","PathMeshFreeEditor","current_path","panning","polygonOrientation","sum","li","canvasPoint","originalToRemove","additionToRemove","newOriginalPath","newAdditionPath","originalX","additionX","oIndex","aIndex","newPath","cPoint","oPoint","aPoint","oDistance","aDistance","Path2D","firstPosition","closePath","PathMeshEditor","current_history_point","history","onEditingEvent","restoreState","original_points","original_color","onFinishedEditing","currently_editing","lineWidth","fillStyle","strokeStyle","_canvas_pos","create_mode","states","current_state_point","onStateRestorerEvent","restoreToPoint","elements","elementsOnScreen","new_tool","tools","viewer","canvas","focus","default_opacity","filtering","_lastUpdate","_viewportLocation","editElement","element_data","resize","width","clientWidth","height","clientHeight","viewportPoint","viewport","pointFromPixel","coordinates","viewportToImageCoordinates","OpenSeadragon","Point","imageToViewerElementCoordinates","Date","now","clearRect","viewportMin","viewportMax","label","firstPoint","_draw_element","_update_polygon","_update_rect","_update_brush","polygon_data","color_code","_update_path","startPoint","rect_data","limits","rect","_canvas_points","canvasPos","brush_data","lineCap","lineJoin","_check_intersects","enabled","panHorizontal","panVertical","Viewer","style","getContext","addHandler","windowToImageCoordinates","MouseTracker","nonPrimaryReleaseHandler","releaseHandler","pressHandler","clickHandler","onClick","dblClickHandler","moveHandler","updateRequired","drawingData","statusUpdateRequired","onHover","onLeave","keyDownHandler","keyUpHandler","tool","component","VAvatar","VBtn","VDivider","VIcon","VList","VListItem","VListItemAvatar","VListItemContent","VListItemTitle","VMenu","VSlider","next","text","link","eco","ecosystem","importantLinks","whatsNext","VCol","VContainer","VImg","VRow","VApp","VMain","Vue","use","Vuex","Store","state","session","user","token","mutations","set_session","login","login_data","actions","components","HelloWorld","task","project","slide","staticStyle","id","start_task","VCard","VCardActions","VCardText","VChip","VChipGroup","VFlex","VLayout","VSpacer","tile_sources","project_labels","labels_visible","region_opacity","regionClicked","onNewRegionDraw","onEditRegionDraw","labelled","current_slide","selected_tab","proxy","genColor","region","editRegion","shown","_t","VNavigationDrawer","VCardTitle","VRadio","VRadioGroup","VSwitch","VTab","VTabItem","VTabs","VTabsItems","VToolbar","VToolbarTitle","config","task_headers","tasks","new_task","user_headers","users","new_user","project_header","projects","new_project","save","VCheckbox","VTextField","header","labels","gen_color","change_color","color_picked","add_label","new_label","VColorPicker","VDataTable","VTextarea","current_folder","files","project_id","VSelect","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VAppBar","Router","new_router","routes","default","Tasks","app_bar","AppBar","meta","auth","Session","Admin","AdminAppBar","is_admin","beforeEach","to","from","matched","record","store","params","nextUrl","fullPath","Vuetify","theme","icons","iconfont","themes","light","primary","colors","blueGrey","darken3","secondary","grey","darken1","accent","shades","black","red","accent3","dark","blue","lighten3","VueAxios","axios","baseURL","interceptors","beforeRequest","axiosInstance","headers","Authorization","beforeResponse","beforeResponseError","statusCode","VueSplit","productionTip","router","vuetify","split","h","App","$mount","$route","$router","go"],"mappings":"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","file":"static/js/app.44c28924.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d22d746\":\"3e7dac2f\",\"chunk-928ee46e\":\"d1a3115f\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-928ee46e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d22d746\":\"31d6cfe0\",\"chunk-928ee46e\":\"d1417cf6\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=style&index=0&id=2721aaac&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=70ba9f59&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"seadragon-viewer\"}}),(_vm.state_restorer.showing)?_c('div',{staticClass:\"toolbox state-toolbox\"},[_c('v-slider',{attrs:{\"step\":\"1\",\"dense\":\"\",\"hide-details\":\"\",\"max\":_vm.state_restorer.max_undo,\"label\":\"Undo\"},model:{value:(_vm.state_restorer.undo),callback:function ($$v) {_vm.$set(_vm.state_restorer, \"undo\", $$v)},expression:\"state_restorer.undo\"}})],1):_vm._e(),(_vm.drawer)?_c('div',{staticClass:\"toolbox drawing-toolbox\"},[_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-menu',{attrs:{\"top\":\"\",\"close-on-click\":true,\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"color\":(\"rgb(\" + (_vm.selected_label.color[0]) + \",\" + (_vm.selected_label.color[1]) + \",\" + (_vm.selected_label.color[2]) + \")\"),\"size\":\"26\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.selected_label.name)+\"\\n          \")],1)]}}],null,false,2314977170)},[_c('v-list',_vm._l((_vm.labels),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.selected_label = item}}},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":(\"rgb(\" + (item.color[0]) + \",\" + (item.color[1]) + \",\" + (item.color[2]) + \")\"),\"size\":\"26\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1)],1)}),1)],1)],1),_c('v-divider'),(_vm.editing.element == null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'polygon' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'polygon'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polygon\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'rect' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'rect'}}},[_c('v-icon',[_vm._v(\"mdi-vector-rectangle\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'brush' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'brush'}}},[_c('v-icon',[_vm._v(\"mdi-brush\")])],1)],1):_vm._e(),(_vm.editing.element != null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'mover' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'mover'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-edit\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'eraser' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'eraser'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-minus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'creator' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'creator'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-plus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1)],1):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"toolbox navigation-toolbox\"},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"thumb-label\":\"\",\"dense\":\"\",\"max\":40,\"min\":\"0.5\",\"step\":\"0\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n        \"+_vm._s(value.toFixed(2))+\"\\n      \")]}}]),model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}}),_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 1}}},[_vm._v(\"1x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 2}}},[_vm._v(\"2x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 10}}},[_vm._v(\"10x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 20}}},[_vm._v(\"20x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 40}}},[_vm._v(\"40x\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import OpenSeadragon from \"openseadragon\";\r\n\r\n\r\nconst freeDrawingDefaultKeyboardBehavior = function (func, e) {\r\n    const drawer = this.instance\r\n    switch (func) {\r\n        case \"keyDown\":\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = true\r\n                // console.log(\"drawer_panning\", this.drawer_panning)\r\n                drawer.set_canvas_pan(true)\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing._enabled = false\r\n            }\r\n            break\r\n        case \"keyUp\":\r\n            if (e.keyCode === 13) {\r\n                // User pressed ENTER, we will save the drawing\r\n                drawer.set_canvas_pan(true)\r\n                // Before saving, we remove the redundant points for this shape\r\n                drawer.currently_drawing.points = optimizePath(drawer.currently_drawing.points)\r\n                // Call the onFinishNewDrawing callback, which handles what happens to the shape\r\n                drawer.callback.onFinishNewDrawing(drawer.currently_drawing)\r\n                // Complete the drawing preview by resetting it\r\n                drawer.currently_drawing = null\r\n                drawer.stateRestorer.cancel()\r\n            }\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = false\r\n                // user released space, we will disable dragging\r\n                drawer.set_canvas_pan(false)\r\n            }\r\n            if (e.keyCode === 27) {\r\n                // User pressed ESC, we will reset the drawing\r\n                optimizePath(drawer.currently_drawing.points) // todo remove\r\n                drawer.currently_drawing = null\r\n                drawer.stateRestorer.cancel()\r\n                drawer.set_canvas_pan(true)\r\n            }\r\n            break\r\n    }\r\n}\r\n\r\nconst lineFunction = function (point1, point2, point3) {\r\n    const line1_slope = (point2.y - point1.y) / (point2.x - point1.x)\r\n    const line2_slope = (point3.y - point2.y) / (point3.x - point2.x)\r\n    const line1_b = point1.x * line1_slope - point1.y\r\n    const line2_b = point3.x * line2_slope - point3.y\r\n    return [\r\n        {slope: line1_slope, b: line1_b},\r\n        {slope: line2_slope, b: line2_b},\r\n    ]\r\n}\r\n\r\n/**\r\n * A simple algorithm to detect and remove redundant points made in free draw. It returns an array of points\r\n * without the points that don't contribute to the shape.\r\n *\r\n * @param points the array of points\r\n * @returns {*}\r\n */\r\nconst optimizePath = function (points) {\r\n    let toRemove = []\r\n    do {\r\n        console.log(\"New iteration\")\r\n        toRemove = []\r\n        for (let i = 1; i < points.length - 1; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const point3 = points[i + 1]\r\n            const lineFunc = lineFunction(point1, point2, point3)\r\n            if (lineFunc[0].slope === lineFunc[1].slope && lineFunc[0].b === lineFunc[1].b) {\r\n                // we could introduce a margin\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const distance1 = Math.hypot(point1.x - point2.x, point1.y - point2.y)\r\n            if (distance1 < 3) {\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n        console.log(\"Size (before): \", points.length)\r\n        points = points.filter((item, idx) => !toRemove.includes(idx))\r\n        console.log(\"Size (after): \", points.length)\r\n\r\n    } while (toRemove.length !== 0)\r\n    // console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n    // console.log(\"Size (before): \", points.length)\r\n    // // for (let i = 0; i < toRemove.length; i++) {\r\n    // //     points.splice(toRemove[i], 1)\r\n    // // }\r\n    // console.log(\"Size (after): \", points.length)\r\n    return points\r\n}\r\n\r\nconst polygonTool = {\r\n    name: \"polygon\",\r\n    instance: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                // On double click, we will create a new drawing if there none in the moment\r\n                if (drawer.currently_drawing == null) {\r\n                    drawer.currently_drawing = {\r\n                        type: \"polygon\",\r\n                        points: [imagePosition, imagePosition],\r\n                        is_hover: false,\r\n                        path: null,\r\n                        color: drawer.drawing_color\r\n                    }\r\n\r\n                    drawer.stateRestorer = StateRestorer.init(drawer, drawer.currently_drawing)\r\n                } else {\r\n                    // On double click we will continue the drawing by adding the new\r\n                    drawer.currently_drawing.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    // On mouse move we will update the preview if we currently drawing\r\n                    drawer.currently_drawing.points[drawer.currently_drawing.points.length - 1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        // We are only interested in this events if we are drawing\r\n        if (drawer.currently_drawing != null)\r\n            switch (func) {\r\n                case \"keyUp\":\r\n                    if (e.keyCode === 13) {\r\n                        // User pressed enter, we will complete the drawing\r\n                        drawer.currently_drawing.points.pop()\r\n                        drawer.callback.onFinishNewDrawing(drawer.currently_drawing)\r\n                        drawer.currently_drawing = null\r\n                        drawer.stateRestorer.cancel()\r\n                    }\r\n                    if (e.keyCode === 27) {\r\n                        // User pressed ESC, undo the drawing\r\n                        if (drawer.currently_drawing.points.length > 3)\r\n                            // Undo the last point added\r\n                            drawer.currently_drawing.points.splice(drawer.currently_drawing.points.length - 2, 1)\r\n                        else {\r\n                            // Cancel the drawing\r\n                            drawer.currently_drawing = null\r\n                            drawer.stateRestorer.cancel()\r\n                        }\r\n                        drawer.update()\r\n                    }\r\n                    break\r\n            }\r\n    },\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst rectTool = {\r\n    name: \"rect\",\r\n    instance: null,\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                if (drawer.currently_drawing == null) {\r\n                    // We will start the drawing\r\n                    drawer.currently_drawing = {\r\n                        type: this.name,\r\n                        points: [imagePosition, imagePosition],\r\n                        is_hover: false,\r\n                        color: drawer.drawing_color\r\n                    }\r\n                } else {\r\n                    // We will stop the drawing.\r\n                    // We will assure point1 < point2\r\n                    ['x', 'y'].map(dim => {\r\n                        if (drawer.currently_drawing.points[0][dim] > drawer.currently_drawing.points[1][dim]) {\r\n                            const temp = drawer.currently_drawing.points[0][dim]\r\n                            drawer.currently_drawing.points[0][dim] = drawer.currently_drawing.points[1][dim]\r\n                            drawer.currently_drawing.points[1][dim] = temp\r\n                        }\r\n                    })\r\n                    // report the drawing is over\r\n                    drawer.callback.onFinishNewDrawing(drawer.currently_drawing)\r\n                    drawer.currently_drawing = null\r\n                    drawer.stateRestorer.cancel()\r\n                }\r\n                drawer.update()\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    drawer.currently_drawing.points[1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        switch (func) {\r\n            case 'keyUp':\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC, we will cancel the drawing\r\n                    drawer.currently_drawing = null\r\n                    drawer.stateRestorer.cancel()\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n    init(instance) {\r\n        this.instance = instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst freeTool = {\r\n    name: \"free\",\r\n    instance: null,\r\n    drawer_panning: false,\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                drawer.set_canvas_pan(false)\r\n                if (!this.drawer_panning)\r\n                    if (drawer.currently_drawing == null) {\r\n                        drawer.currently_drawing = {\r\n                            type: \"polygon\",\r\n                            points: [imagePosition],\r\n                            is_hover: false,\r\n                            path: null,\r\n                            color: drawer.drawing_color,\r\n                            _enabled: true\r\n                        }\r\n\r\n                        drawer.stateRestorer = StateRestorer.init(drawer, drawer.currently_drawing)\r\n                    } else drawer.currently_drawing._enabled = true\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing._enabled) {\r\n                    drawer.currently_drawing.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                }\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing._enabled = false\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        return this\r\n    }\r\n}\r\n\r\n\r\nconst brushTool = {\r\n    name: \"brush\",\r\n    instance: null,\r\n    size: 500,\r\n    drawer_panning: false,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.drawer_panning) return\r\n                drawer.set_canvas_pan(false)\r\n\r\n                if (drawer.currently_drawing == null) {\r\n                    drawer.currently_drawing = {\r\n                        type: \"brush\",\r\n                        size: this.size,\r\n                        is_hover: false,\r\n                        points: [imagePosition],\r\n                        color: drawer.drawing_color,\r\n                        _enabled: true\r\n                    }\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing._enabled)\r\n                    drawer.currently_drawing.points.push(imagePosition)\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing._enabled = false\r\n                drawer.set_canvas_pan(true)\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEraser = {\r\n    editor: null,\r\n    active: false,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n\r\n        switch (func) {\r\n            case \"press\":\r\n                this.active = true\r\n                drawer.set_canvas_pan(false)\r\n                break\r\n            case \"release\":\r\n                this.active = false\r\n                drawer.set_canvas_pan(true)\r\n                break\r\n            case \"move\":\r\n                if (this.active === true) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    // On the eraser mode, we will check if for intersection and remove those elements\r\n                    editor.controls.some(control => {\r\n                        if (editor.intersectsControl(mousePosition, control.point)) {\r\n                            // We will remove this line\r\n                            const index = editor.element.points.indexOf(control.point)\r\n                            editor.element.points.splice(index, 1)\r\n                            editor.controls.splice(index, 1)\r\n                            editor.addRestorePoint(\"erased\")\r\n                            return true // stop iterating\r\n                        }\r\n                    })\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshMover = {\r\n    editor: null,\r\n    control: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        switch (func) {\r\n            case \"press\":\r\n                const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                // On the dragging mode, the node is dragged to the\r\n                editor.controls.forEach(control => {\r\n                    const position = control.point\r\n                    const intersects = editor.intersectsControl(mousePosition, position)\r\n                    if (intersects) {\r\n                        // User is dragging with this element\r\n                        this.control = control\r\n                        drawer.set_canvas_pan(false)\r\n                    }\r\n                })\r\n\r\n                break\r\n            case \"release\":\r\n                this.control = null\r\n                drawer.set_canvas_pan(true)\r\n                editor.addRestorePoint(\"moved\")\r\n                break\r\n            case \"move\":\r\n                if (this.control != null) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    this.control.point.x = mousePosition.x\r\n                    this.control.point.y = mousePosition.y\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshCreator = {\r\n    editor: null,\r\n    cursor: null,\r\n    instance: null,\r\n\r\n    checkPathCreation(position) {\r\n        const points = this.editor.element.points\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const left = Math.min(point1.x, point2.x) - 10\r\n            const right = Math.max(point1.x, point2.x) + 10\r\n            const top = Math.min(point1.y, point2.y) - 10\r\n            const bottom = Math.max(point1.y, point2.y) + 10\r\n\r\n            if (left < position.x && position.x < right &&\r\n                top < position.y && position.y < bottom) {\r\n                return i\r\n            }\r\n        }\r\n        return null\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        const position = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"move\":\r\n                if (drawer.ctx.isPointInPath(editor.element.path, e.position.x, e.position.y)) {\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    // console.log(\"check\", newIndex)\r\n                    if (newIndex != null) {\r\n                        this.cursor = {position: position, index: newIndex}\r\n                    } else {\r\n                        this.cursor = null\r\n                    }\r\n                    drawer.update()\r\n                } else {\r\n                    if (this.cursor != null) {\r\n                        this.cursor = null\r\n                        drawer.update()\r\n                    }\r\n                }\r\n                break\r\n            case \"click\":\r\n                if (drawer.ctx.isPointInPath(editor.element.path, e.position.x, e.position.y)) {\r\n                    const points = editor.element.points\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    if (newIndex != null) {\r\n                        editor.addRestorePoint(\"created\")\r\n                        points.splice(newIndex, 0, position)\r\n                    }\r\n                    console.log(\"Ended\")\r\n                    editor.create_controls()\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    draw(ctx) {\r\n        const instance = this.instance\r\n        // Drawing the reference cursor where the new point will appear\r\n        ctx.beginPath()\r\n        if (this.cursor != null) {\r\n            const points = this.editor.element.points\r\n            const position = instance._imagePointToCanvasPoint(this.cursor.position.x, this.cursor.position.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n            const prevPoint = instance._imagePointToCanvasPoint(points[this.cursor.index - 1].x, points[this.cursor.index - 1].y)\r\n            const nextPoint = instance._imagePointToCanvasPoint(points[this.cursor.index].x, points[this.cursor.index].y)\r\n            ctx.moveTo(prevPoint.x, prevPoint.y)\r\n            ctx.lineTo(position.x, position.y)\r\n            ctx.lineTo(nextPoint.x, nextPoint.y)\r\n            ctx.fill()\r\n            ctx.stroke()\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.instance = editor.instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshFreeEditor = {\r\n    currently_drawing: null,\r\n    current_path: null,\r\n    editor: null,\r\n    editing: false,\r\n    panning: false,\r\n    mouseEvent(func, e) {\r\n        const editor = this.editor\r\n        const element = editor.element\r\n        const instance = editor.instance\r\n        const position = editor.instance._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.currently_drawing == null) {\r\n                    if (editor.instance.ctx.isPointInPath(editor.element.path, e.position.x, e.position.y)) {\r\n                        this.currently_drawing = []\r\n                        this.editing = true\r\n                        instance.set_canvas_pan(false)\r\n                    }\r\n                } else {\r\n                    this.editing = true\r\n                    instance.set_canvas_pan(false)\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (this.panning) return\r\n                if (this.currently_drawing != null && this.editing) {\r\n                    this.currently_drawing.push(position)\r\n                    editor.instance.update()\r\n                }\r\n                break\r\n            case \"release\":\r\n                this.editing = false\r\n                instance.set_canvas_pan(true)\r\n                break\r\n        }\r\n    },\r\n\r\n    polygonOrientation(points) {\r\n        let sum = 0\r\n        const li = points.length\r\n        for (let i = 1; i < li; i++)\r\n            sum += (points[i].x - points[i - 1].x) * (points[i].y + points[i - 1].y)\r\n        sum += (points[li-1].x - points[li - 2].x) * (points[li-1].y + points[li - 2].y)\r\n        return sum > 0\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.editor.instance\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(false)\r\n                    this.panning = false\r\n                } else if (e.keyCode === 27) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.currently_drawing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    drawer.set_canvas_pan(true)\r\n                    const intersects = (path, point) => {\r\n                        const canvasPoint = drawer._imagePointToCanvasPoint(point.x, point.y)\r\n                        return drawer.ctx.isPointInPath(path, canvasPoint.x, canvasPoint.y, \"nonzero\")\r\n                    }\r\n                    const originalToRemove = this.editor.element.points.map((item, index) => {\r\n                        if (intersects(this.current_path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    const additionToRemove = this.currently_drawing.map((item, index) => {\r\n                        if (intersects(this.editor.element.path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    console.log(\"Original To Remove\", originalToRemove, additionToRemove)\r\n                    const newOriginalPath = this.editor.element.points.filter((i, idx) => !originalToRemove.includes(idx))\r\n                    const newAdditionPath = this.currently_drawing.filter((i, idx) => !additionToRemove.includes(idx))\r\n                    console.log(\"newOriginalPath:\", newOriginalPath)\r\n                    console.log(\"newAdditionPath:\", newAdditionPath)\r\n\r\n                    const originalX = this.polygonOrientation(newOriginalPath)\r\n                    const additionX = this.polygonOrientation(newAdditionPath)\r\n                    console.log(\"Order:\", originalX, additionX)\r\n                    if (additionX !== originalX) {\r\n                        console.log(\"Reversing array\")\r\n                        // newAdditionPath.reverse()\r\n                    }\r\n\r\n                    let oIndex = 1, aIndex = 0\r\n                    const newPath = [newOriginalPath[0]]\r\n                    do {\r\n                        const cPoint = newPath[newPath.length - 1]\r\n                        const oPoint = newOriginalPath[oIndex]\r\n                        const aPoint = newAdditionPath[aIndex]\r\n\r\n                        const oDistance = oIndex < newOriginalPath.length ? Math.hypot(cPoint.x - oPoint.x, cPoint.y - oPoint.y) : -1\r\n                        const aDistance = aIndex < newAdditionPath.length ? Math.hypot(cPoint.x - aPoint.x, cPoint.y - aPoint.y) : -1\r\n\r\n                        console.log(\"Iteration | \", cPoint, oIndex, aIndex, \"|\", oDistance, aDistance)\r\n                        if (oDistance === -1 && aDistance === -1) {\r\n                            break\r\n                        } else if (aDistance === -1 || (oDistance !== -1 && oDistance < aDistance)) {\r\n                            newPath.push(oPoint)\r\n                            oIndex++\r\n                        } else if (oDistance === -1 || (aDistance !== -1 && oDistance > aDistance)) {\r\n                            newPath.push(aPoint)\r\n                            aIndex++\r\n                        }\r\n                    } while (oIndex < newOriginalPath.length || aIndex < newAdditionPath.length)\r\n                    this.editor.element.points = optimizePath(newPath)\r\n                    this.editor.instance.update()\r\n                    return false\r\n                    // const newToRemove =\r\n                }\r\n                break\r\n            case \"keyDown\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.panning = true\r\n                }\r\n                break\r\n        }\r\n\r\n        // We are going to handle the input\r\n        return true\r\n    },\r\n\r\n\r\n    draw(ctx) {\r\n        const points = this.currently_drawing\r\n        if (points != null) {\r\n            const path = new Path2D()\r\n            const firstPosition = this.editor.instance._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n            ctx.beginPath()\r\n            path.moveTo(firstPosition.x, firstPosition.y)\r\n\r\n            points.forEach(point => {\r\n                const position = this.editor.instance._imagePointToCanvasPoint(point.x, point.y)\r\n                path.lineTo(position.x, position.y)\r\n            })\r\n            path.closePath()\r\n            this.current_path = path\r\n            ctx.stroke(path)\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.currently_drawing = null\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEditor = {\r\n    element: null,\r\n    controls: [],\r\n    instance: null,\r\n    mode: null,\r\n    current_history_point: 0,\r\n    history: [],\r\n\r\n    addRestorePoint: function (event) {\r\n        if (this.history.length > 0 && this.current_history_point !== this.history.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            console.log(\"clearing future:\", this.history.length)\r\n            this.history.splice(this.current_history_point, this.history.length - this.current_history_point)\r\n            console.log(\"clearing future:\", this.history.length)\r\n        }\r\n        this.history.push({\r\n            type: event,\r\n            points: this.element.points.map(item => {\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_history_point = this.history.length - 1\r\n        this.instance.callback.onEditingEvent()\r\n    },\r\n\r\n    restoreState: function (value) {\r\n        console.log(\"restoreState\", value, this.history)\r\n        this.element.points = this.history[value].points\r\n        this.create_controls()\r\n        this.instance.update()\r\n        this.current_history_point = value\r\n    },\r\n\r\n    intersectsControl: function (mousePosition, position) {\r\n        return mousePosition.x > position.x - 25 && mousePosition.x < position.x + 25 &&\r\n            mousePosition.y > position.y - 25 && mousePosition.y < position.y + 25\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        this.mode.mouseEvent(func, e)\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n\r\n        if (typeof this.mode.keyboardEvent === \"function\") {\r\n            if (this.mode.keyboardEvent(func, e))\r\n                return\r\n        }\r\n\r\n        console.log(func, e)\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC. The edition is cancelled and the shape must be restored\r\n                    this.element.points = this.original_points\r\n                    this.element.color = this.original_color\r\n                    // Notify the editing has ended without changes\r\n                    drawer.callback.onFinishedEditing(false, this.element)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    // Notify the editing has ended without changes\r\n                    drawer.callback.onFinishedEditing(true, this.element)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    draw(ctx) {\r\n        const drawer = this.instance\r\n        ctx.lineWidth = 1\r\n        // We will draw the controls we have:\r\n        this.controls.forEach(control => {\r\n            ctx.beginPath()\r\n            const position = drawer._imagePointToCanvasPoint(control.point.x, control.point.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n\r\n            ctx.fillStyle = \"rgb(255,255,255)\"\r\n            ctx.fill()\r\n            ctx.strokeStyle = \"black\"\r\n            ctx.stroke()\r\n            control._canvas_pos = position\r\n        })\r\n\r\n\r\n        if (typeof this.mode.draw === \"function\")\r\n            this.mode.draw(ctx)\r\n    },\r\n\r\n    create_controls: function () {\r\n        this.controls = this.element.points.map(point => {\r\n            return {point: point}\r\n        })\r\n    },\r\n\r\n    create_mode: function (mode) {\r\n        if (mode === \"eraser\") {\r\n            this.mode = PathMeshEraser.init(this)\r\n        } else if (mode === \"mover\") {\r\n            this.mode = PathMeshMover.init(this)\r\n        } else if (mode === \"creator\") {\r\n            this.mode = PathMeshCreator.init(this)\r\n        } else if (mode === \"free\") {\r\n            this.mode = PathMeshFreeEditor.init(this)\r\n        }\r\n    },\r\n\r\n    init(instance, element, mode) {\r\n        this.instance = instance\r\n        this.original_points = element.points.map(point => {\r\n            return {x: point.x, y: point.y}\r\n        })\r\n        this.original_color = element.color.map(color => color)\r\n        this.element = element\r\n        this.create_controls()\r\n        this.create_mode(mode)\r\n        this.history = []\r\n        return this\r\n    }\r\n}\r\n\r\n\r\n/* the conversion from pixel to shape may be done with a search algorithm.\r\nThe points are the pixels which were unable to find add one of its side to the search*/\r\n\r\nconst StateRestorer = {\r\n    instance: null,\r\n    element: null,\r\n    states: [],\r\n    current_state_point: 0,\r\n\r\n    addRestorePoint(event) {\r\n        if (this.states.length > 0 && this.current_state_point !== this.states.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            this.states.splice(this.current_state_point, this.states.length - this.current_state_point)\r\n            console.log(\"clearing future:\", this.states.length)\r\n        }\r\n        this.states.push({\r\n            type: event,\r\n            points: this.element.points.map(item => { // todo not all elements have points\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_state_point = this.states.length - 1\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n        // todo report state changed\r\n    },\r\n\r\n    restoreToPoint(value) {\r\n        console.log(\"restoreToPoint\", value)\r\n        this.element.points = this.states[value].points\r\n        this.instance.update()\r\n        this.current_state_point = value\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n    },\r\n    cancel() {\r\n        this.instance.stateRestorer = null\r\n        this.states = null\r\n        this.instance.callback.onStateRestorerEvent(null)\r\n    },\r\n    init(instance, element) {\r\n        this.instance = instance\r\n        this.element = element\r\n        this.states = []\r\n        instance.callback.onStateRestorerEvent(this)\r\n        return this\r\n    }\r\n}\r\n\r\nexport default {\r\n    elements: [\r\n        // {\r\n        //     data: {\r\n        //         type: \"rect\",\r\n        //         is_hover: false,\r\n        //         path: null,\r\n        //         points: [\r\n        //             {x: 5000, y: 5000},\r\n        //             {x: 10000, y: 10000}\r\n        //         ],\r\n        //         color: [255, 0, 0]\r\n        //     },\r\n\r\n        // }\r\n    ],\r\n\r\n    /**\r\n     * Elements currently being rendering are added to this list. This list is mostly used to check\r\n     * mouse interaction with the elements.\r\n     */\r\n    elementsOnScreen: [],\r\n\r\n    stateRestorer: null,\r\n\r\n    /**\r\n     * The current drawing tool\r\n     */\r\n    set tool(name) {\r\n        this.new_tool = this.tools[name]\r\n        this.set_canvas_pan(true)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get tool() {\r\n        if (this.new_tool != null)\r\n            return this.new_tool.name\r\n        else return \"none\"\r\n    },\r\n\r\n    set editorMode(name) {\r\n        this.currently_editing.create_mode(name)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get editorMode() {\r\n        return \"\"\r\n    },\r\n\r\n    tools: {},\r\n\r\n    default_opacity: 0.3,\r\n\r\n    /**\r\n     * Elements can be filtered so it won't render.\r\n     * Label => boolean\r\n     */\r\n    filtering: {},\r\n\r\n    /**\r\n     * The element being currently edited.\r\n     * We may be able to join two paths by checking if a given point intersects the other shape. Points from\r\n     * both shapes that intersects another are added to a list for removal. Once we have a list, we remove the elements.\r\n     * The new shape is created by joining the points from the two path in the index of the first removed element.\r\n     * Arbitrary shapes (brush, rect) may be converted to path (by sampling and optimizing) before being joined.\r\n     * The shapes may be joined after the drawing.\r\n     */\r\n    currently_editing: null,\r\n\r\n    new_tool: null,\r\n\r\n    /**\r\n     * The polygon currently being draw\r\n     */\r\n    currently_drawing: null,\r\n\r\n    /**\r\n     * Currently selected color, this is the color used during the preview and automatically added to the element\r\n     */\r\n    drawing_color: [5, 173, 240],\r\n\r\n    /**\r\n     * Throttle behavior for improving performance when there are too many elements to draw\r\n     */\r\n    _lastUpdate: 0,\r\n\r\n    /**\r\n     * Keeps track of the viewport in image pixels. This is used to notify when the\r\n     * canvas is dirty and needs to be redraw.\r\n     */\r\n    _viewportLocation: {min: [], max: []},\r\n\r\n    editElement(element_data) {\r\n        this.currently_editing = PathMeshEditor.init(this, element_data, \"mover\")\r\n        this.update()\r\n        // Finally, we save the first state as a restoration point for the user\r\n        this.currently_editing.addRestorePoint(\"editing\")\r\n    },\r\n\r\n    resize: function () {\r\n        this.canvas.width = this.viewer.canvas.clientWidth\r\n        this.canvas.height = this.viewer.canvas.clientHeight\r\n    },\r\n\r\n    _mousePointToImagePoint(mouseEvent) {\r\n        const viewportPoint = this.viewer.viewport.pointFromPixel(mouseEvent)\r\n        const coordinates = this.viewer.viewport.viewportToImageCoordinates(viewportPoint.x, viewportPoint.y)\r\n        return {x: coordinates.x, y: coordinates.y}\r\n    },\r\n\r\n    _imagePointToCanvasPoint(x, y) {\r\n        const point = new OpenSeadragon.Point(x, y)\r\n        return this.viewer.viewport.imageToViewerElementCoordinates(point)\r\n    },\r\n\r\n    update: function () {\r\n        // console.log(\"update called\")\r\n        // todo change for a system in which, depending on the number of elements on the screen, the elements fade on mouse down and show again on mouse up\r\n        if (this.ctx == null) return\r\n        const ctx = this.ctx\r\n        if (this._lastUpdate > Date.now() - (this.elementsOnScreen.length / 5)) {\r\n            return\r\n        }\r\n        ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\r\n        const viewportMin = this._viewportLocation.min\r\n        const viewportMax = this._viewportLocation.max\r\n        this.elementsOnScreen = []\r\n        this.elements.forEach(element => {\r\n            if (this.filtering[element.label.name]) {\r\n                // We will only when the label of the element isn't filter out\r\n                const firstPoint = element.data.points[0]\r\n                if ((firstPoint.x > viewportMin.x && firstPoint.x < viewportMax.x)\r\n                    && (firstPoint.y > viewportMin.y && firstPoint.y < viewportMax.y)) {\r\n                    this._draw_element(element.data)\r\n                    this.elementsOnScreen.push(element)\r\n                }\r\n            }\r\n        })\r\n        if (this.currently_drawing != null)\r\n            this._draw_element(this.currently_drawing)\r\n\r\n        // We are editing a element, let's draw the controls\r\n        if (this.currently_editing != null)\r\n            this.currently_editing.draw(ctx)\r\n\r\n        this._lastUpdate = Date.now()\r\n    },\r\n\r\n    _draw_element: function (element) {\r\n        switch (element.type) {\r\n            case \"polygon\":\r\n                this._update_polygon(element)\r\n                break\r\n            case \"rect\":\r\n                this._update_rect(element)\r\n                break\r\n            case \"brush\":\r\n                this._update_brush(element)\r\n                break\r\n        }\r\n    },\r\n\r\n    _update_polygon: function (polygon_data) {\r\n        const ctx = this.ctx\r\n        const points = polygon_data.points\r\n        const color_code = `${polygon_data.color[0]}, ${polygon_data.color[1]}, ${polygon_data.color[2]}`\r\n        const path = this._update_path(points)\r\n\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.lineTo(startPoint.x, startPoint.y)\r\n        polygon_data.path = path\r\n        ctx.fillStyle = `rgba(${color_code}, ${polygon_data.is_hover ? '0.6' : this.default_opacity})`\r\n        ctx.fill(path)\r\n        // ctx.stroke()\r\n    },\r\n\r\n    _update_rect: function (rect_data) {\r\n        // console.log(rect_data)\r\n        const ctx = this.ctx\r\n        const position = this._imagePointToCanvasPoint(rect_data.points[0].x, rect_data.points[0].y)\r\n        const limits = this._imagePointToCanvasPoint(rect_data.points[1].x, rect_data.points[1].y)\r\n        const color_code = `${rect_data.color[0]}, ${rect_data.color[1]}, ${rect_data.color[2]}`\r\n        ctx.beginPath()\r\n        ctx.rect(position.x, position.y, limits.x - position.x, limits.y - position.y)\r\n        rect_data._canvas_points = [position, limits]\r\n        // console.log(\"_update_rect\", position.x, position.y, position.x - limits.x, position.y - limits.y)\r\n        ctx.fillStyle = `rgba(${color_code}, ${rect_data.is_hover ? '0.6' : this.default_opacity})`\r\n        ctx.fill()\r\n    },\r\n\r\n    _update_path: function (points) {\r\n        const path = new Path2D()\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.moveTo(startPoint.x, startPoint.y)\r\n        points.forEach(point => {\r\n            const canvasPos = this._imagePointToCanvasPoint(point.x, point.y)\r\n            path.lineTo(canvasPos.x, canvasPos.y)\r\n        })\r\n        // path.closePath()\r\n        return path\r\n    },\r\n\r\n    _update_brush: function (brush_data) {\r\n        const ctx = this.ctx\r\n        const points = brush_data.points\r\n        const color_code = `${brush_data.color[0]}, ${brush_data.color[1]}, ${brush_data.color[2]}`\r\n        // console.log(\"lineWidth\", lineWidth)\r\n        ctx.lineWidth = this._imagePointToCanvasPoint(brush_data.size, 0).x - this._imagePointToCanvasPoint(0, 0).x\r\n        ctx.lineCap = \"round\"\r\n        ctx.lineJoin = \"round\"\r\n        ctx.strokeStyle = `rgba(${color_code}, ${brush_data.is_hover ? '0.6' : this.default_opacity})`\r\n\r\n        const path = this._update_path(points)\r\n\r\n        brush_data.path = path\r\n        ctx.stroke(path)\r\n    },\r\n\r\n    _check_intersects: function (element_data, mousePosition) {\r\n        if (element_data.type === \"rect\") {\r\n            const point1 = element_data._canvas_points[0]\r\n            const point2 = element_data._canvas_points[1]\r\n            return mousePosition.x > point1.x && mousePosition.x < point2.x &&\r\n                mousePosition.y > point1.y && mousePosition.y < point2.y\r\n        } else if (element_data.type === \"polygon\" || element_data.type === \"brush\") {\r\n            return this.ctx.isPointInPath(element_data.path, mousePosition.x, mousePosition.y, \"nonzero\")\r\n        }\r\n    },\r\n\r\n    set_canvas_pan(enabled) {\r\n        this.viewer.panHorizontal = enabled\r\n        this.viewer.panVertical = enabled\r\n    },\r\n\r\n    /**\r\n     * Instantiate a SliceDrawer for the OpenSeadragon viewer.\r\n     * Object interaction events can be listened using the callback parameter by passing a object as such:\r\n     * {\r\n     *     onHover: (element) => {} // mouse over element\r\n     *     onLeave: (element) => {} // mouse left the element\r\n     *     onClick: (element) => {} // mouse click on a element\r\n     *     newElementDrawn: (element) => {} // new element was drawn\r\n     * }\r\n     *\r\n     * @param Viewer the OpenSeadragon viewer instance\r\n     * @param callback a object containing the required callbacks\r\n     */\r\n    init: function (Viewer, callback) {\r\n        // Drawing canvas creation\r\n        const canvas = document.createElement(\"canvas\")\r\n        canvas.style.position = 'absolute'\r\n        canvas.style.left = 0\r\n        canvas.style.top = 0\r\n        canvas.style.width = '100%'\r\n        canvas.style.height = '100%'\r\n        Viewer.canvas.appendChild(canvas)\r\n\r\n        // Create references:\r\n        this.viewer = Viewer\r\n        this.canvas = canvas\r\n        this.callback = callback\r\n        this.ctx = canvas.getContext(\"2d\")\r\n\r\n\r\n        this.viewer.addHandler('update-viewport', () => {\r\n            const ctx = this.ctx\r\n            const viewportMin = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(0, 0))\r\n            const viewportMax = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(ctx.canvas.width, ctx.canvas.height))\r\n\r\n            if (viewportMin.x !== this._viewportLocation.min.x ||\r\n                viewportMin.y !== this._viewportLocation.min.y ||\r\n                viewportMax.x !== this._viewportLocation.max.x ||\r\n                viewportMax.y !== this._viewportLocation.max.y) {\r\n                // The viewport was changed, a update is needed\r\n                this.update()\r\n            }\r\n\r\n            this._viewportLocation.max = viewportMax\r\n            this._viewportLocation.min = viewportMin\r\n        });\r\n        this.viewer.addHandler('resize', () => {\r\n            this.resize()\r\n        });\r\n\r\n        new OpenSeadragon.MouseTracker({\r\n            element: this.viewer.canvas,//.container\r\n            nonPrimaryReleaseHandler: (e) => {\r\n            },\r\n            releaseHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('release', e)\r\n                } else {\r\n                    this.currently_editing.mouseEvent('release', e)\r\n                }\r\n            },\r\n            pressHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('press', e)\r\n                } else {\r\n                    // During editing mode, press means drag a control\r\n                    this.currently_editing.mouseEvent('press', e)\r\n                }\r\n            },\r\n            clickHandler: (e) => {\r\n                if (this.currently_editing != null)\r\n                    this.currently_editing.mouseEvent('click', e)\r\n                else {\r\n                    this.elementsOnScreen.forEach((element) => {\r\n                        if (element.data.is_hover) {\r\n                            this.callback.onClick(element)\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            dblClickHandler: (e) => {\r\n                this.new_tool.mouseEvent('dblClick', e)\r\n            },\r\n            moveHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.mouseEvent('move', e)\r\n                else\r\n                    this.currently_editing.mouseEvent('move', e)\r\n\r\n                // When not drawing, we will check for collision with the mouse pointer for interactivity\r\n                if (this.currently_editing == null) {\r\n                    // We only check for interaction when not in editing mode.\r\n                    let updateRequired = false\r\n                    this.elementsOnScreen.forEach((element) => {\r\n                        const drawingData = element.data\r\n                        const intersects = this._check_intersects(element.data, e.position)\r\n                        const statusUpdateRequired = drawingData.is_hover !== intersects\r\n                        updateRequired = updateRequired || (intersects && statusUpdateRequired) || statusUpdateRequired\r\n\r\n                        // Handling element interaction listeners:\r\n                        if (statusUpdateRequired)\r\n                            if (intersects)\r\n                                callback.onHover(element)\r\n                            else\r\n                                callback.onLeave(element)\r\n\r\n                        drawingData.is_hover = intersects\r\n                        // console.log(\"Intersects: \", intersects, \" update required:\", updateRequired, \"mouse position:\", e.position.x, e.position.y)\r\n                    })\r\n\r\n                    if (updateRequired) {\r\n                        this.viewer.canvas.style.cursor = \"hand\"\r\n                        this.update()\r\n                    }\r\n                } else {\r\n\r\n                    // Check for interaction with the points\r\n                    // const mousePosition = this._mousePointToImagePoint(e.position)\r\n                    // this.currently_editing.controls.forEach(control => {\r\n                    //     const position = control._canvas_pos\r\n                    //     const intersects = mousePosition.x > position.x - 5 && mousePosition.x < position.x + 5 &&\r\n                    //         mousePosition.y > position.y - 5 && mousePosition.y < position.y + 5\r\n                    //     if (intersects) {\r\n                    //\r\n                    //     }\r\n                    // })\r\n                }\r\n            },\r\n            keyDownHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyDown', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyDown', e)\r\n            },\r\n            keyUpHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyUp', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyUp', e)\r\n            }\r\n        })\r\n\r\n        this.tools = {\r\n            \"polygon\": polygonTool.init(this),\r\n            \"free\": freeTool.init(this),\r\n            \"rect\": rectTool.init(this),\r\n            \"brush\": brushTool.init(this)\r\n        }\r\n        this.tool = \"polygon\"\r\n\r\n        this.resize(Viewer.canvas.width, Viewer.canvas.height)\r\n    }\r\n}","<template>\r\n  <div>\r\n    <div id=\"seadragon-viewer\"/>\r\n\r\n    <div v-if=\"state_restorer.showing\" class=\"toolbox state-toolbox\">\r\n      <v-slider step=\"1\" dense hide-details v-model=\"state_restorer.undo\" :max=\"state_restorer.max_undo\" label=\"Undo\"/>\r\n    </div>\r\n\r\n    <div v-if=\"drawer\" class=\"toolbox drawing-toolbox\">\r\n      <div class=\"zoom-shortcuts\">\r\n        <v-menu top :close-on-click=\"true\" offset-y>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn text v-bind=\"attrs\" v-on=\"on\">\r\n              <v-avatar\r\n                      class=\"mr-2\"\r\n                      :color=\"`rgb(${selected_label.color[0]},${selected_label.color[1]},${selected_label.color[2]})`\"\r\n                      size=\"26\"/>\r\n              {{selected_label.name}}\r\n            </v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item @click=\"selected_label = item\" v-for=\"(item, index) in labels\" :key=\"index\">\r\n              <v-list-item-avatar>\r\n                <v-avatar :color=\"`rgb(${item.color[0]},${item.color[1]},${item.color[2]})`\" size=\"26\"></v-avatar>\r\n              </v-list-item-avatar>\r\n              <v-list-item-content>\r\n                <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n      </div>\r\n      <v-divider></v-divider>\r\n      <div v-if=\"editing.element == null\">\r\n        <v-btn text icon @click=\"selected_tool = 'polygon'\"\r\n               :color=\"'polygon' === this.selected_tool ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-vector-polygon</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon @click=\"selected_tool = 'rect'\"\r\n               :color=\"'rect' === this.selected_tool ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-vector-rectangle</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon\r\n               @click=\"selected_tool = 'free'\"\r\n               :color=\"'free' === this.selected_tool ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-lead-pencil</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon\r\n               @click=\"selected_tool = 'brush'\"\r\n               :color=\"'brush' === this.selected_tool ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-brush</v-icon>\r\n        </v-btn>\r\n      </div>\r\n\r\n      <div v-if=\"editing.element != null\" class=\"zoom-shortcuts\">\r\n        <v-btn text icon\r\n               @click=\"editing.mode = 'mover'\"\r\n               :color=\"'mover' === editing.mode ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-vector-polyline-edit</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon\r\n               @click=\"editing.mode = 'eraser'\"\r\n               :color=\"'eraser' === editing.mode ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-vector-polyline-minus</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon\r\n               @click=\"editing.mode = 'creator'\"\r\n               :color=\"'creator' === editing.mode ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-vector-polyline-plus</v-icon>\r\n        </v-btn>\r\n        <v-btn text icon\r\n               @click=\"editing.mode = 'free'\"\r\n               :color=\"'free' === editing.mode ? 'primary' : 'grey'\">\r\n          <v-icon>mdi-lead-pencil</v-icon>\r\n        </v-btn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"toolbox navigation-toolbox\">\r\n      <v-slider hide-details thumb-label dense v-model=\"zoom\" :max=\"40\" min=\"0.5\" step=\"0\">\r\n        <template v-slot:thumb-label=\"{ value }\">\r\n          {{ value.toFixed(2) }}\r\n        </template>\r\n      </v-slider>\r\n      <div class=\"zoom-shortcuts\">\r\n        <v-btn text icon @click=\"zoom = 1\">1x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 2\">2x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 10\">10x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 20\">20x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 40\">40x</v-btn>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import OpenSeadragon from \"openseadragon\"\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n\r\n    export default {\r\n        name: \"SliceViewer\",\r\n        data: () => {\r\n            return {\r\n                selected_label: null,\r\n                labeled_regions: [],\r\n                selected_tool: \"polygon\",\r\n                editor_tool: \"\",\r\n                zoom: 0,\r\n                editing: {\r\n                    element: null,\r\n                    mode: \"mover\",\r\n                },\r\n                state_restorer: {\r\n                    showing: true,\r\n                    undo: 0,\r\n                    max_undo: 0\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.labeled_regions = new_value\r\n                    SliceDrawer.elements = new_value\r\n                    SliceDrawer.update()\r\n                }\r\n            },\r\n            labels: {\r\n                immediate: true,\r\n                handler: function (new_labels) {\r\n                    this.selected_label = new_labels[0]\r\n                }\r\n            },\r\n            labelsVisibility: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_visibility) {\r\n                    SliceDrawer.filtering = new_visibility\r\n                    SliceDrawer.update()\r\n                },\r\n            },\r\n            selected_label: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    SliceDrawer.drawing_color = new_value.color\r\n                    if (this.editing.element != null) {\r\n                        this.editing.element.data.color = new_value.color\r\n                        SliceDrawer.update()\r\n                    }\r\n                }\r\n            },\r\n            selected_tool: function (tool) {\r\n                SliceDrawer.tool = tool\r\n            },\r\n            zoom: function (new_zoom) {\r\n                const viewer = this.viewer\r\n                if (viewer != null && !this.no_model_action) {\r\n                    viewer.viewport.zoomTo(new_zoom)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            regionOpacity: function (new_opacity) {\r\n                SliceDrawer.default_opacity = new_opacity\r\n                SliceDrawer.update()\r\n            },\r\n            \"editing.mode\": function (value) {\r\n                SliceDrawer.editorMode = value\r\n            },\r\n            \"state_restorer.undo\": function (value) {\r\n                if (!this.no_model_action) {\r\n                    SliceDrawer.stateRestorer.restoreToPoint(value)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            tileSources: function (value) {\r\n                console.log(\"tileSources: \", value)\r\n                this.viewer.open(value)\r\n            }\r\n        },\r\n        methods: {\r\n            editElement(element) {\r\n                console.log(\"editElement\", element)\r\n                this.editing.element = element\r\n                this.no_model_action = true\r\n                SliceDrawer.editElement(element.data)\r\n            },\r\n\r\n        },\r\n        mounted() {\r\n            this.$nextTick(() => {\r\n                const viewer = OpenSeadragon({\r\n                    id: \"seadragon-viewer\",\r\n                    tileSources: this.tileSources,\r\n                    showNavigator: true,\r\n                    navigatorPosition: \"BOTTOM_RIGHT\",\r\n                    navigatorRight: \"16px\",\r\n                    navigatorBottom: \"16px\",\r\n                    navigatorHeight: \"120px\",\r\n                    navigatorWidth: \"145px\",\r\n                    showNavigationControl: false,\r\n                    gestureSettingsMouse: {\r\n                        clickToZoom: false,\r\n                    },\r\n                })\r\n\r\n                this.viewer = viewer\r\n                SliceDrawer.init(viewer, {\r\n                    onHover: function (element) {\r\n                        console.log(\"onHover: \", element)\r\n                    },\r\n                    onLeave: function (element) {\r\n                        console.log(\"onLeave: \", element)\r\n                    },\r\n                    onClick: (element) => {\r\n                        this.$emit(\"region-clicked\", element)\r\n                    },\r\n                    onStateRestorerEvent: (stateRestorer) => {\r\n                        // console.log(\"test: \", stateRestorer)\r\n                        this.no_model_action = true\r\n                        if (stateRestorer != null) {\r\n                            this.state_restorer.showing = true\r\n                            this.state_restorer.max_undo = stateRestorer.states.length - 1\r\n                            this.state_restorer.undo = stateRestorer.current_state_point\r\n                        } else {\r\n                            this.state_restorer.showing = false\r\n                        }\r\n                    },\r\n                    onEditingEvent: () => {\r\n                        this.no_model_action = true\r\n                        const lastStateIndex = SliceDrawer.currently_editing.history.length - 1\r\n                        this.editing.max_undo = lastStateIndex\r\n                        this.editing.undo = lastStateIndex\r\n                    },\r\n                    onFinishNewDrawing: (element) => {\r\n                        // Creating a new label object:\r\n                        this.$emit(\"new-draw\", {\r\n                            label: this.selected_label,\r\n                            data: element\r\n                        })\r\n                    },\r\n                    onFinishedEditing: (changed, element_data) => {\r\n                        if (changed) {\r\n                            console.log(\"data\", {\r\n                                ...this.editing.element,\r\n                                data: element_data\r\n                            })\r\n                            this.$emit(\"edit-draw\", {\r\n                                ...this.editing.element,\r\n                                data: element_data\r\n                            })\r\n                        }\r\n                        this.editing.element = null\r\n                    }\r\n                })\r\n                this.viewer.addHandler(\"zoom\", (e) => {\r\n                    this.no_model_action = true // don't let the zoom listener take action\r\n                    this.zoom = e.zoom\r\n                })\r\n                this.no_model_action = false\r\n            })\r\n        },\r\n        props: {\r\n            drawer: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            labels: {type: Array},\r\n            value: {type: Array},\r\n            tileSources: {type: String},\r\n            labelsVisibility: {type: Object},\r\n            regionOpacity: {type: Number}\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  #seadragon-viewer {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n  .toolbox {\r\n    position: absolute;\r\n    border-radius: 8px;\r\n    background-color: #f1f1f1;\r\n    padding: 8px;\r\n  }\r\n\r\n  .drawing-toolbox {\r\n    bottom: 16px;\r\n    left: 32px;\r\n    /*-webkit-box-shadow: 0px 0px 19px -6px #000000;*/\r\n    /*box-shadow: 0px 0px 19px -6px #000000;*/\r\n  }\r\n\r\n  .state-toolbox {\r\n    left: 32px;\r\n    width: 150px;\r\n    bottom: 120px;\r\n  }\r\n\r\n  .navigation-toolbox {\r\n    width: 200px;\r\n    bottom: 16px;\r\n    margin: 0 auto;\r\n    left: calc(50% - 100px);\r\n  }\r\n\r\n  .zoom-shortcuts {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SliceViewer.vue?vue&type=template&id=2721aaac&scoped=true&\"\nimport script from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SliceViewer.vue?vue&type=style&index=0&id=2721aaac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2721aaac\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAvatar,VBtn,VDivider,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemTitle,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view',{attrs:{\"name\":\"app_bar\"}}),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"\\n        Welcome to Vuetify\\n      \")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\"\\n        For help and collaboration with other Vuetify developers,\\n        \"),_c('br'),_vm._v(\"please join our online\\n        \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        What's next?\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(next.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Important Links\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(link.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Ecosystem\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(eco.text)+\"\\n        \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo.svg')\"\n          class=\"my-3\"\n          contain\n          height=\"200\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Welcome to Vuetify\n        </h1>\n\n        <p class=\"subheading font-weight-regular\">\n          For help and collaboration with other Vuetify developers,\n          <br>please join our online\n          <a\n            href=\"https://community.vuetifyjs.com\"\n            target=\"_blank\"\n          >Discord Community</a>\n        </p>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          What's next?\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(next, i) in whatsNext\"\n            :key=\"i\"\n            :href=\"next.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ next.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Important Links\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(link, i) in importantLinks\"\n            :key=\"i\"\n            :href=\"link.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ link.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Ecosystem\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(eco, i) in ecosystem\"\n            :key=\"i\"\n            :href=\"eco.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ eco.text }}\n          </a>\n        </v-row>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  export default {\n    name: 'HelloWorld',\n\n    data: () => ({\n      ecosystem: [\n        {\n          text: 'vuetify-loader',\n          href: 'https://github.com/vuetifyjs/vuetify-loader',\n        },\n        {\n          text: 'github',\n          href: 'https://github.com/vuetifyjs/vuetify',\n        },\n        {\n          text: 'awesome-vuetify',\n          href: 'https://github.com/vuetifyjs/awesome-vuetify',\n        },\n      ],\n      importantLinks: [\n        {\n          text: 'Documentation',\n          href: 'https://vuetifyjs.com',\n        },\n        {\n          text: 'Chat',\n          href: 'https://community.vuetifyjs.com',\n        },\n        {\n          text: 'Made with Vuetify',\n          href: 'https://madewithvuejs.com/vuetify',\n        },\n        {\n          text: 'Twitter',\n          href: 'https://twitter.com/vuetifyjs',\n        },\n        {\n          text: 'Articles',\n          href: 'https://medium.com/vuetify',\n        },\n      ],\n      whatsNext: [\n        {\n          text: 'Explore components',\n          href: 'https://vuetifyjs.com/components/api-explorer',\n        },\n        {\n          text: 'Select a layout',\n          href: 'https://vuetifyjs.com/getting-started/pre-made-layouts',\n        },\n        {\n          text: 'Frequently Asked Questions',\n          href: 'https://vuetifyjs.com/getting-started/frequently-asked-questions',\n        },\n      ],\n    }),\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=023580a6&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","<template>\n    <v-app>\n        <router-view name=\"app_bar\"></router-view>\n        <v-main>\n            <router-view></router-view>\n        </v-main>\n    </v-app>\n</template>\n\n<script>\n    import HelloWorld from './components/HelloWorld';\n\n    export default {\n        name: 'App',\n\n        components: {\n            HelloWorld,\n        },\n\n        data: () => ({\n            //\n        }),\n    };\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=58529bc6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        session: null,\n        user: null,\n        token: null,\n    },\n    mutations: {\n        set_session(state, session) {\n            state.session = session\n        },\n\n        login(state, login_data) {\n            state.token = login_data.token\n            state.user = login_data.user\n        }\n    },\n    actions: {}\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('HelloWorld',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport HelloWorld from '@/components/HelloWorld.vue'\n\nexport default {\n  name: 'home',\n  components: {\n    HelloWorld\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=59ba5f92&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.tasks),function(task,idx){return _c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',{staticClass:\"ma-2\"},[_c('v-card-text',[_c('div',[_vm._v(_vm._s(task.project.name))]),_c('p',{staticClass:\"text-h5 text--primary\"},[_vm._v(\"\\n            \"+_vm._s(task.name)+\"\\n          \")]),_c('div',[_c('v-chip-group',_vm._l((task.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"}},[_vm._v(_vm._s(slide.id))])}),1)],1)]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"block\":\"\",\"color\":\"primary accent-3\"},on:{\"click\":function($event){return _vm.start_task(task)}}},[_vm._v(\"\\n            Continue\\n          \")])],1)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-layout row wrap>\r\n      <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(task, idx) in tasks\">\r\n        <v-card class=\"ma-2\">\r\n          <v-card-text>\r\n            <div>{{task.project.name}}</div>\r\n            <p class=\"text-h5 text--primary\">\r\n              {{task.name}}\r\n            </p>\r\n            <div>\r\n              <v-chip-group>\r\n                <v-chip  style=\"pointer-events: none;\" v-for=\"slide in task.slides\">{{slide.id}}</v-chip>\r\n              </v-chip-group>\r\n            </div>\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text block color=\"primary accent-3\" @click=\"start_task(task)\">\r\n              Continue\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Tasks\",\r\n        data: () => {\r\n            return {\r\n                tasks: []\r\n            }\r\n        },\r\n        methods: {\r\n            start_task(task) {\r\n                this.$post(\"session/create\", task)\r\n                    .then(resp => {\r\n                        this.$store.commit(\"set_session\", resp)\r\n                        this.$router.push(\"/session/\" + resp.id)\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            loadTasks() {\r\n                this.$get(\"task/list\")\r\n                    .then(resp => this.tasks = resp)\r\n                    .catch(err => alert(err))\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadTasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=6439c457&scoped=true&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6439c457\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VChip,VChipGroup,VContainer,VDivider,VFlex,VLayout,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"overflow\":\"hidden\"}},[_c('slice-viewer',{ref:\"slice_viewer\",attrs:{\"tile-sources\":_vm.tile_sources,\"labels\":_vm.project_labels,\"labels-visibility\":_vm.labels_visible,\"region-opacity\":_vm.region_opacity},on:{\"region-clicked\":_vm.regionClicked,\"new-draw\":_vm.onNewRegionDraw,\"edit-draw\":_vm.onEditRegionDraw},model:{value:(_vm.labelled[_vm.current_slide]),callback:function ($$v) {_vm.$set(_vm.labelled, _vm.current_slide, $$v)},expression:\"labelled[current_slide]\"}}),_c('side-window',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"color\":\"grey lighten-4\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab',[_vm._v(\"View\")]),_c('v-tab',[_vm._v(\"Regions\")])],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(\"Labelling task\")])],1),_c('v-tabs-items',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Region visibility by label\")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},_vm._l((_vm.project_labels),function(label){return _c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":label.name,\"color\":_vm.genColor(label.color)},model:{value:(_vm.labels_visible[label.name]),callback:function ($$v) {_vm.$set(_vm.labels_visible, label.name, $$v)},expression:\"labels_visible[label.name]\"}})}),1),_c('v-divider'),_c('v-slider',{staticClass:\"pl-2 pr-2\",attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-circle-opacity\",\"step\":\"0\",\"thumb-label\":\"\",\"min\":\"0.1\",\"max\":\"1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                    \"+_vm._s(value.toFixed(2))+\"\\n                  \")]}}]),model:{value:(_vm.region_opacity),callback:function ($$v) {_vm.region_opacity=$$v},expression:\"region_opacity\"}})],1)],1),_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"ma-0\"},[_vm._v(\"Task slides\")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-radio-group',{attrs:{\"hide-details\":\"\"},model:{value:(_vm.current_slide),callback:function ($$v) {_vm.current_slide=$$v},expression:\"current_slide\"}},_vm._l((_vm.slides),function(slide){return _c('v-radio',{attrs:{\"value\":slide.id,\"label\":slide.id}})}),1)],1)],1)],1)],1)],1)],1),_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.labelled[_vm.current_slide]),function(region,idx){return _c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',{attrs:{\"id\":(\"region-\" + (region.id)),\"min-width\":\"200\",\"outlined\":\"\"}},[_c('v-card-title',[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"16\",\"color\":_vm.genColor(region.label.color)}}),_vm._v(\"\\n                  \"+_vm._s(region.label.name)+\"\\n                \")],1),_c('v-card-text',[_vm._v(\"\\n                  \"+_vm._s(region.data.type)+\".\\n                \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.editRegion(region)}}},[_vm._v(\"Edit\")])],1)],1)],1)}),1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{ref:\"side_window\",attrs:{\"app\":\"\",\"right\":\"\",\"width\":_vm.width},model:{value:(_vm.shown),callback:function ($$v) {_vm.shown=$$v},expression:\"shown\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-navigation-drawer ref=\"side_window\" app right :width=\"width\" v-model=\"shown\">\r\n    <slot></slot>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SideWindow\",\r\n        data: () => {\r\n            return {\r\n                width: 300,\r\n                shown: true,\r\n                borderSize: 3\r\n            }\r\n        },\r\n        methods: {\r\n            setBorderWidth() {\r\n                let i = this.$refs.side_window.$el.querySelector(\r\n                    \".v-navigation-drawer__border\"\r\n                );\r\n                i.style.width = this.borderSize + \"px\";\r\n                i.style.cursor = \"ew-resize\";\r\n            },\r\n            setEvents() {\r\n                const minSize = this.borderSize + 300\r\n                const el = this.$refs.side_window.$el\r\n                const drawerBorder = el.querySelector(\".v-navigation-drawer__border\")\r\n                const vm = this;\r\n                const direction = el.classList.contains(\"v-navigation-drawer--right\")\r\n                    ? \"right\"\r\n                    : \"left\";\r\n\r\n                function resize(e) {\r\n                    document.body.style.cursor = \"ew-resize\"\r\n                    let f = direction === \"right\"\r\n                        ? document.body.scrollWidth - e.clientX\r\n                        : e.clientX\r\n                    el.style.width = f + \"px\"\r\n                }\r\n\r\n                drawerBorder.addEventListener(\r\n                    \"mousedown\",\r\n                    function (e) {\r\n                        if (e.offsetX < minSize) {\r\n                            // m_pos = e.x;\r\n                            el.style.transition = 'initial';\r\n                            document.addEventListener(\"mousemove\", resize, false);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n\r\n                document.addEventListener(\r\n                    \"mouseup\",\r\n                    function () {\r\n                        el.style.transition = '';\r\n                        vm.width = el.style.width;\r\n                        document.body.style.cursor = \"\";\r\n                        document.removeEventListener(\"mousemove\", resize, false);\r\n                    },\r\n                    false\r\n                );\r\n            }\r\n        },\r\n        mounted() {\r\n            this.setBorderWidth()\r\n            this.setEvents()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .custom-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    float: left;\r\n\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideWindow.vue?vue&type=template&id=a324ad62&scoped=true&\"\nimport script from \"./SideWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./SideWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a324ad62\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VNavigationDrawer})\n","<template>\r\n  <v-container style=\"overflow: hidden\">\r\n    <slice-viewer\r\n            ref=\"slice_viewer\"\r\n            :tile-sources=\"tile_sources\"\r\n            :labels=\"project_labels\"\r\n            :labels-visibility=\"labels_visible\"\r\n            :region-opacity=\"region_opacity\"\r\n            v-model=\"labelled[current_slide]\"\r\n            v-on:region-clicked=\"regionClicked\"\r\n            v-on:new-draw=\"onNewRegionDraw\"\r\n            v-on:edit-draw=\"onEditRegionDraw\"/>\r\n    <side-window>\r\n      <v-toolbar dense color=\"grey lighten-4\">\r\n        <v-toolbar-title>Labelling task</v-toolbar-title>\r\n        <template v-slot:extension>\r\n          <v-tabs v-model=\"selected_tab\">\r\n            <v-tab>View</v-tab>\r\n            <v-tab>Regions</v-tab>\r\n          </v-tabs>\r\n        </template>\r\n      </v-toolbar>\r\n\r\n      <v-tabs-items v-model=\"selected_tab\">\r\n        <v-tab-item>\r\n          <!-- Controls tab -->\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <v-card-title>Region visibility by label</v-card-title>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch\r\n                            class=\"mt-0\"\r\n                            hide-details dense\r\n                            v-for=\"label in project_labels\"\r\n                            v-model=\"labels_visible[label.name]\"\r\n                            :label=\"label.name\"\r\n                            :color=\"genColor(label.color)\"/>\r\n                  </div>\r\n                  <v-divider></v-divider>\r\n                  <v-slider hide-details class=\"pl-2 pr-2\"\r\n                            prepend-icon=\"mdi-circle-opacity\"\r\n                            v-model=\"region_opacity\"\r\n                            step=\"0\"\r\n                            thumb-label\r\n                            min=\"0.1\" max=\"1\">\r\n                    <template v-slot:thumb-label=\"{ value }\">\r\n                      {{ value.toFixed(2) }}\r\n                    </template>\r\n                  </v-slider>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <v-card-title class=\"ma-0\">Task slides</v-card-title>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-radio-group hide-details v-model=\"current_slide\">\r\n                      <v-radio v-for=\"slide in slides\" :value=\"slide.id\" :label=\"slide.id\"/>\r\n                    </v-radio-group>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(region, idx) in labelled[current_slide]\">\r\n                <v-card :id=\"`region-${region.id}`\" min-width=\"200\" outlined>\r\n                  <v-card-title>\r\n                    <v-avatar size=\"16\" class=\"mr-2\"\r\n                              :color=\"genColor(region.label.color)\"/>\r\n                    {{region.label.name}}\r\n                  </v-card-title>\r\n                  <v-card-text>\r\n                    {{region.data.type}}.\r\n                  </v-card-text>\r\n                  <v-card-actions>\r\n                    <v-spacer/>\r\n                    <v-btn text @click=\"editRegion(region)\">Edit</v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n            <!--            <v-btn fab @click=\"stressTest\"></v-btn>-->\r\n          </v-container>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n\r\n    </side-window>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n    import SliceViewer from \"../components/SliceViewer\";\r\n    import SideWindow from \"../components/SideWindow\";\r\n\r\n    export default {\r\n        name: \"Session\",\r\n        computed: {\r\n            session_id: function () {\r\n                return this.$route.params.session_id\r\n            },\r\n            tile_sources: function () {\r\n                return \"http://localhost:2000/api/session/\" + this.session_id + \"/\" + this.current_slide + \".dzi\"\r\n            },\r\n            project_labels: function () {\r\n                return this.$store.state.session.task.project.labels\r\n            },\r\n            session: function () {\r\n                return this.$store.state.session\r\n            },\r\n            slides: function () {\r\n                return this.$store.state.session.task.slides\r\n            }\r\n        },\r\n        watch: {\r\n            session: {\r\n                immediate: true,\r\n                handler: function (session) {\r\n                    this.labelled = session.labelled\r\n                    this.current_slide = session.task.slides[0].id\r\n                }\r\n            },\r\n            project_labels: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_labels) {\r\n                    console.log(\"project_labels watcher\", new_labels)\r\n                    for (let i = 0; i < new_labels.length; i++) {\r\n                        this.$set(this.labels_visible, new_labels[i].name, true)\r\n                        // this.labels_visible[new_labels[i].name] = true\r\n                    }\r\n                }\r\n            },\r\n            labels_visible: {\r\n                deep: true,\r\n                handler: function (value) {\r\n                    console.log(\"labels_visible watcher:\", value)\r\n                }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                current_slide: null,\r\n                labelled: {},\r\n                selected_tab: 0,\r\n                labels_visible: {},\r\n                region_opacity: 0.3\r\n            }\r\n        },\r\n        methods: {\r\n            genColor(color) {\r\n                return `rgb(${color[0]},${color[1]},${color[2]})`\r\n            },\r\n\r\n            onNewRegionDraw(labeledRegion) {\r\n                labeledRegion.slide_id = this.current_slide\r\n                this.$post(\"session/\" + this.session_id + \"/add_region\", labeledRegion)\r\n                    .then(resp => {\r\n                        // Add the new region to the list\r\n                        this.labelled[this.current_slide].push(resp)\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Error while saving region: \" + err)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * A region was updated. We will submit the data to the server.\r\n             *\r\n             * @param element Region data\r\n             */\r\n            onEditRegionDraw(element) {\r\n                this.$post(\"session/\" + this.session_id + \"/edit_region\", element)\r\n                    .then(resp => {\r\n                        // Add the new region to the list\r\n                        console.log(resp)\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Error while saving region: \" + err)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * User clicked on a region. We will highlighted it in the list\r\n             *\r\n             * @param region\r\n             */\r\n            regionClicked(region) {\r\n                console.log(\"regionClicked\", region)\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                this.selected_tab = 1\r\n                element.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    block: \"center\"\r\n                })\r\n                element.classList.add(\"highlighted\")\r\n                setTimeout(() => {\r\n                    element.classList.remove(\"highlighted\")\r\n                }, 3000)\r\n            },\r\n            /**\r\n             *\r\n             * @param region\r\n             */\r\n            editRegion(region) {\r\n                this.$refs.slice_viewer.editElement(region)\r\n            },\r\n            randomNumber(max) {\r\n                return Math.floor(Math.random() * max);\r\n            },\r\n            stressTest() {\r\n                const items = []\r\n                console.time(\"creating mock data\")\r\n                for (let i = 0; i < 3000; i++) {\r\n                    const points = [\r\n                        {x: 1, y: 1,},\r\n                        {x: 1, y: 50,},\r\n                        {x: 50, y: 1,},\r\n                    ]\r\n                    for (let y = 0; y < 3; y++) {\r\n                        points[y].x += i * 50\r\n                        points[y].y += i * 25\r\n                    }\r\n                    items.push({\r\n                        label: {id: 0, name: \"Stresstest\", color: [160, 160, 160]},\r\n                        data: {\r\n                            type: \"polygon\",\r\n                            points: points,\r\n                            color: [255, 165, 0]\r\n                        }\r\n                    })\r\n                }\r\n                console.timeEnd(\"creating mock data\")\r\n                console.time(\"updating data\")\r\n                this.labelled.push(...items)\r\n                console.timeEnd(\"updating data\")\r\n            }\r\n        },\r\n        components: {SideWindow, SliceViewer}\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  @keyframes highlight {\r\n\r\n    0% {\r\n      background-color: white;\r\n    }\r\n    50% {\r\n      background-color: darkgrey;\r\n    }\r\n    100% {\r\n      background-color: white;\r\n    }\r\n  }\r\n\r\n  .highlighted {\r\n    animation-name: highlight;\r\n    animation-duration: 1s;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: reverse;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=70ba9f59&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=70ba9f59&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70ba9f59\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDivider,VFlex,VLayout,VRadio,VRadioGroup,VSlider,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Tasks\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.task_headers,\"items\":_vm.tasks,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',_vm._l((item.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                    \"+_vm._s(slide.id)+\"\\n                  \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(user.name)+\"\\n                  \")])}),1)]}}])}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_task}},[_vm._v(\"New task\")])],1)],1)],1)],1),_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Users\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.user_headers,\"items\":_vm.users,\"items-per-page\":5}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_user}},[_vm._v(\"New user\")])],1)],1)],1)],1),_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Projects\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.project_header,\"items\":_vm.projects,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.labels\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',_vm._l((item.labels),function(label){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"color\":(\"rgb(\" + (label.color[0]) + \", \" + (label.color[1]) + \",\" + (label.color[2]) + \")\"),\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(label.name)+\"\\n                  \")])}),1)]}}])}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_project}},[_vm._v(\"New project\")])],1)],1)],1)],1)],1)],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"temporary\":\"\",\"right\":\"\",\"width\":\"500px\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"Information editor\")])],1),_c('v-container',[(_vm.mode === 'user')?_c('user-editor',{model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'project')?_c('project-editor',{model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'task')?_c('task-editor',{model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}),_c('v-text-field',{attrs:{\"label\":\"Username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('v-checkbox',{attrs:{\"label\":\"Is user admin?\"},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}}),_c('v-btn',{staticStyle:{\"position\":\"absolute\",\"right\":\"16px\"},attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n<!--  <v-form v-if=\"user != null\">-->\r\n    <v-text-field label=\"Name\" v-model=\"user.name\"></v-text-field>\r\n    <v-text-field label=\"Username\" v-model=\"user.username\"></v-text-field>\r\n    <v-text-field label=\"Password\" v-model=\"user.password\"></v-text-field>\r\n    <v-checkbox v-model=\"user.is_admin\" label=\"Is user admin?\"></v-checkbox>\r\n    <v-btn @click=\"save\" outlined style=\"position: absolute; right:16px\">Save</v-btn>\r\n<!--  </v-form>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"UserEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.user = new_value\r\n                }\r\n            },\r\n            user: {\r\n                deep: true,\r\n                handler: function (new_value) {\r\n                    this.$emit(\"input\", new_value)\r\n                }\r\n            },\r\n        },\r\n        data: () => {\r\n            return {user: null}\r\n        },\r\n        methods: {\r\n            save() {\r\n                if (this.user.id != null) {\r\n                    // update user profile information\r\n                    this.$post(\"user/update\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                } else {\r\n                    // create new user profile\r\n                    this.$post(\"user/new\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        props: [\"value\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditor.vue?vue&type=template&id=d969ed48&scoped=true&\"\nimport script from \"./UserEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d969ed48\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCheckbox,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Project name\"},model:{value:(_vm.project.name),callback:function ($$v) {_vm.$set(_vm.project, \"name\", $$v)},expression:\"project.name\"}}),_c('v-textarea',{attrs:{\"label\":\"Project description\"},model:{value:(_vm.project.description),callback:function ($$v) {_vm.$set(_vm.project, \"description\", $$v)},expression:\"project.description\"}}),_c('v-text-field',{attrs:{\"label\":\"Files location\"},model:{value:(_vm.project.folder),callback:function ($$v) {_vm.$set(_vm.project, \"folder\", $$v)},expression:\"project.folder\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.header,\"items\":_vm.project.labels,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"color-box\",style:(_vm.gen_color(item)),on:{\"click\":function($event){return _vm.change_color(item)}}},'div',attrs,false),on))]}}],null,true)},[_c('v-color-picker',{model:{value:(_vm.color_picked),callback:function ($$v) {_vm.color_picked=$$v},expression:\"color_picked\"}})],1)]}}])}),_c('v-text-field',{attrs:{\"filled\":\"\",\"label\":\"New label\",\"append-outer-icon\":\"add\"},on:{\"click:append-outer\":_vm.add_label},model:{value:(_vm.new_label),callback:function ($$v) {_vm.new_label=$$v},expression:\"new_label\"}}),_c('v-btn',{staticStyle:{\"position\":\"absolute\",\"right\":\"16px\"},attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"project != null\">-->\r\n    <v-text-field label=\"Project name\" v-model=\"project.name\"/>\r\n    <v-textarea label=\"Project description\" v-model=\"project.description\"/>\r\n    <v-text-field label=\"Files location\" v-model=\"project.folder\"/>\r\n    <v-data-table :headers=\"header\" :items=\"project.labels\" :items-per-page=\"5\">\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-menu offset-y>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <div class=\"color-box\"\r\n                 @click=\"change_color(item)\"\r\n                 :style=\"gen_color(item)\"\r\n                 v-bind=\"attrs\"\r\n                 v-on=\"on\"></div>\r\n          </template>\r\n          <v-color-picker v-model=\"color_picked\"></v-color-picker>\r\n        </v-menu>\r\n      </template>\r\n    </v-data-table>\r\n    <v-text-field\r\n            filled\r\n            label=\"New label\"\r\n            v-model=\"new_label\"\r\n            append-outer-icon=\"add\"\r\n            @click:append-outer=\"add_label\"\r\n    />\r\n    <v-btn @click=\"save\" outlined style=\"position: absolute; right:16px\">Save</v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ProjectEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.project = new_value\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                project: null,\r\n                color_picked: null,\r\n                header: [\r\n                    {text: 'Label', value: 'name'},\r\n                    {text: 'Config', value: 'actions', sortable: false},\r\n                ],\r\n                editing_label: null,\r\n                new_label: null\r\n            }\r\n        },\r\n        methods: {\r\n            // load_users() {\r\n            //     this.$get(\"user/list\")\r\n            //         .then(resp => this.users = resp)\r\n            //         .catch(err => alert(err))\r\n            // }\r\n            add_label() {\r\n                if (this.project == null)\r\n                    this.project = {labels: []}\r\n                if (this.project.labels == null)\r\n                    this.project.labels = []\r\n                this.project.labels.push({\r\n                    \"name\": this.new_label,\r\n                    \"color\": [255, 255, 255]\r\n                })\r\n                this.new_label = \"\"\r\n            },\r\n\r\n            change_color(item) {\r\n                this.editing_label = item\r\n            },\r\n\r\n            gen_color(item) {\r\n                const colors = item.color\r\n                return `background-color: rgba(${colors[0]},${colors[1]},${colors[2]}, 1)`\r\n            },\r\n            save() {\r\n                if (this.project.id == null) {\r\n                    this.$post(\"/project/new\", this.project)\r\n                        .then(resp => {\r\n                            this.project = resp\r\n                            this.$emit(\"input\", this.project)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            // this.load_users()\r\n        },\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectEditor.vue?vue&type=template&id=25c0ccec&scoped=true&\"\nimport script from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectEditor.vue?vue&type=style&index=0&id=25c0ccec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25c0ccec\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VColorPicker } from 'vuetify/lib/components/VColorPicker';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VColorPicker,VDataTable,VMenu,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),_c('v-select',{attrs:{\"label\":(\"File to analyze \" + (_vm.current_folder != null ? (\"(from \" + _vm.current_folder + \")\") : '')),\"items\":_vm.files,\"readonly\":_vm.task.project_id == null,\"item-text\":\"id\",\"multiple\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"return-object\":\"\"},model:{value:(_vm.task.slides),callback:function ($$v) {_vm.$set(_vm.task, \"slides\", $$v)},expression:\"task.slides\"}}),_c('v-select',{attrs:{\"label\":\"Users assigned\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('v-btn',{staticStyle:{\"position\":\"absolute\",\"right\":\"16px\"},attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Create task\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\" item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <v-select :label=\"`File to analyze ${current_folder != null ? `(from ${current_folder})` : '' }`\"\r\n              v-model=\"task.slides\"\r\n              :items=\"files\" :readonly=\"task.project_id == null\"\r\n              item-text=\"id\"\r\n              multiple\r\n              chips\r\n              deletable-chips\r\n              return-object/>\r\n    <v-select label=\"Users assigned\" chips multiple :items=\"users\" item-text=\"username\" v-model=\"task.assigned\"\r\n              return-object/>\r\n    <v-btn  @click=\"save\" outlined style=\"position: absolute; right:16px\">Create task</v-btn>\r\n    <!--    -->\r\n    <!--  </v-form>-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"TaskEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.task = new_value\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            },\r\n            \"task.project_id\": function (new_value) {\r\n                if (new_value != null)\r\n                    this.load_files(new_value)\r\n            }\r\n        },\r\n        computed: {\r\n            current_folder: function () {\r\n                if (this.task != null && this.task.project_id != null) {\r\n                    const project_id = this.task.project_id\r\n                    return this.projects.filter(item => item.id === project_id)[0].folder\r\n                }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                task: null,\r\n                editing_label: null,\r\n                new_label: null,\r\n                users: [],\r\n                projects: [],\r\n                files: []\r\n            }\r\n        },\r\n        methods: {\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => this.users = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => this.projects = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            save() {\r\n                if (this.task.id == null) {\r\n                    this.$post(\"task/new\", this.task)\r\n                        .then(resp => {\r\n                            this.task = resp\r\n                            this.$emit(\"input\", this.task)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            },\r\n            load_files(project_id) {\r\n                this.$get(\"task/files?project_id=\" + project_id)\r\n                    .then(resp => {\r\n                        this.files = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.load_users()\r\n            this.load_projects()\r\n        },\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskEditor.vue?vue&type=template&id=44d9458e&scoped=true&\"\nimport script from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskEditor.vue?vue&type=style&index=0&id=44d9458e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44d9458e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VSelect,VTextField})\n","<template>\r\n  <v-container>\r\n    <v-expansion-panels multiple>\r\n      <v-row>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Tasks</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.task_headers\"\r\n                      :items=\"tasks\"\r\n                      :items-per-page=\"5\">\r\n                 <template v-slot:item.slides=\"{ item }\">\r\n                  <v-chip-group >\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined :readonly=\"true\"\r\n                            v-for=\"slide in item.slides\">\r\n                      {{ slide.id }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.assigned=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\">\r\n                    <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark>\r\n                      {{ user.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_task\">New task</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Users</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.user_headers\"\r\n                      :items=\"users\"\r\n                      :items-per-page=\"5\"/>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_user\">New user</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Projects</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.project_header\"\r\n                      :items=\"projects\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.labels=\"{ item }\">\r\n                  <v-chip-group>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined\r\n                            :color=\"`rgb(${label.color[0]}, ${label.color[1]},${label.color[2]})`\" :readonly=\"true\"\r\n                            v-for=\"label in item.labels\" dark>\r\n                      {{ label.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n              </v-data-table>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_project\">New project</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n      </v-row>\r\n    </v-expansion-panels>\r\n    <v-navigation-drawer v-model=\"drawer\" app temporary right width=\"500px\">\r\n      <v-toolbar>\r\n        <v-toolbar-title>Information editor</v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-container>\r\n        <user-editor v-if=\"mode === 'user'\" v-model=\"editing\"/>\r\n        <project-editor v-else-if=\"mode === 'project'\" v-model=\"editing\"/>\r\n        <task-editor v-else-if=\"mode === 'task'\" v-model=\"editing\"/>\r\n      </v-container>\r\n    </v-navigation-drawer>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\n    import UserEditor from \"../components/UserEditor\";\r\n    import ProjectEditor from \"../components/ProjectEditor\";\r\n    import TaskEditor from \"../components/TaskEditor\";\r\n\r\n    export default {\r\n        name: \"Admin\",\r\n        components: {TaskEditor, ProjectEditor, UserEditor},\r\n        watch: {\r\n            editing: function (new_value, old_value) {\r\n                if (old_value != null && old_value.id == null) {\r\n                    if (new_value != null && new_value.id != null) {\r\n                        if (this.mode === \"user\")\r\n                            this.users.push(new_value)\r\n                        else if (this.mode === \"project\")\r\n                            this.projects.push(new_value)\r\n                        else if (this.mode === \"task\")\r\n                            this.tasks.push(new_value)\r\n                        this.drawer = false\r\n                    }\r\n                    // this.drawer = false\r\n                }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                drawer: false,\r\n                mode: 'user',\r\n                editing: {},\r\n                users: [],\r\n                projects: [],\r\n                tasks: [],\r\n                config: {\r\n                    task_headers: [\r\n                        {\r\n                            text: 'id',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'id',\r\n                        },\r\n                        {text: 'Slides', value: 'slides'},\r\n                        {text: 'Project', value: 'project.name'},\r\n                        {text: 'Users', value: 'assigned'}\r\n                    ],\r\n                    user_headers: [\r\n                        {\r\n                            text: 'id',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'id',\r\n                        },\r\n                        {text: 'Name', value: 'name'},\r\n                        {text: 'Username (login)', value: 'username'},\r\n                        {text: 'Is admin?', value: 'is_admin'},\r\n                    ],\r\n                    project_header: [\r\n                        {\r\n                            text: 'Project name',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'name',\r\n                        },\r\n                        {text: 'Description', value: 'description'},\r\n                        {text: \"Labels\", value: 'labels'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            new_user() {\r\n                this.editing = {\r\n                    username: \"\",\r\n                    is_admin: false,\r\n                }\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_user(id) {\r\n                this.editing = this.users[id]\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_project() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    folder: \"\",\r\n                    labels: []\r\n                }\r\n                this.mode = \"project\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_task() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    slides: [],\r\n                    assigned: []\r\n                }\r\n                this.mode = \"task\"\r\n                this.drawer = true\r\n            },\r\n\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.users = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                    })\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.projects = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                    })\r\n            },\r\n\r\n            load_tasks() {\r\n                this.$get(\"task/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.tasks = resp\r\n                    })\r\n                    .catch(err => alert(err))\r\n            }\r\n        },\r\n        mounted() {\r\n            // todo improve this to only load if the panel is opened\r\n            this.load_users()\r\n            this.load_projects()\r\n            this.load_tasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=36ac9917&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36ac9917\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCardActions,VChip,VChipGroup,VCol,VContainer,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VNavigationDrawer,VRow,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"shrink-on-scroll\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"med-img-label\")])],1),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark shrink-on-scroll>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img alt=\"Vuetify Logo\"\r\n             class=\"shrink mr-2\"\r\n             contain\r\n             src=\"\"\r\n             transition=\"scale-transition\"\r\n             width=\"40\"\r\n      />\r\n\r\n      <v-toolbar-title>med-img-label</v-toolbar-title>\r\n    </div>\r\n\r\n    <v-spacer></v-spacer>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\"\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminAppBar.vue?vue&type=template&id=7223d993&scoped=true&\"\nimport script from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7223d993\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VImg,VSpacer,VToolbarTitle})\n","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '@/store'\nimport Home from './views/Home.vue'\nimport Tasks from './views/Tasks.vue'\nimport Session from './views/Session.vue'\nimport Admin from './views/Admin.vue'\nimport AppBar from \"./components/AppBar.vue\"\nimport AdminAppBar from \"./components/AdminAppBar.vue\"\n\nVue.use(Router)\n\nconst new_router = new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: '/tasks',\n            name: 'tasks',\n            components: {\n                default: Tasks,\n                app_bar: AppBar\n            },\n            meta: {\n                auth: true\n            }\n        },\n        {\n            path: '/session/:session_id',\n            name: 'session',\n            components: {\n                default: Session,\n                app_bar: AppBar\n            },\n            meta: {\n                auth: true,\n            }\n        },\n        {\n            path: '/admin',\n            name: 'admin',\n            components: {\n                default: Admin,\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true,\n                is_admin: true\n            }\n        },\n        {\n            path: '/login',\n            name: 'login',\n            // route level code-splitting\n            // this generates a separate chunk (about.[hash].js) for this route\n            // which is lazy-loaded when the route is visited.\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: '/about',\n            name: 'about',\n            component: () => import(\"./views/About.vue\")\n        }\n    ],\n})\nnew_router.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.auth)) {\n        if (store.state.token == null) {\n            next({\n                path: '/login',\n                params: {nextUrl: to.fullPath}\n            })\n        } else {\n            if (to.matched.some(record => record.meta.is_admin)) {\n                if (store.state.user.is_admin) {\n                    next()\n                } else {\n                    next({name: 'login'})\n                }\n            } else {\n                next()\n            }\n        }\n    } else {\n        next()\n    }\n})\nexport default new_router","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\nimport colors from 'vuetify/lib/util/colors'\nimport '@mdi/font/css/materialdesignicons.css'\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        icons: {\n            iconfont: 'mdi',\n        },\n        themes: {\n            light: {\n                primary: colors.blueGrey.darken3,\n                secondary: colors.grey.darken1,\n                accent: colors.shades.black,\n                error: colors.red.accent3,\n            },\n            dark: {\n                primary: colors.blue.lighten3,\n            },\n        },\n    }\n});\n","import Vue from 'vue'\r\nimport VueAxios from 'vue-plugin-axios'\r\nimport axios from 'axios'\r\nimport store from '@/store'\r\n\r\nVue.use(VueAxios, {\r\n    axios,\r\n    config: {\r\n        baseURL: '/api',\r\n        // baseURL: 'http://192.168.0.2:2000/api',\r\n    },\r\n    interceptors: {\r\n        beforeRequest(config, axiosInstance) {\r\n            // Adding the jwt token, if we have one\r\n            if (store.state.token != null) {\r\n                const token = store.state.token\r\n\r\n                if (token)\r\n                    config.headers.Authorization = `Bearer ${token}`\r\n            }\r\n\r\n            return config\r\n        },\r\n        beforeResponse(config, axiosInstance) {\r\n            // console.log(\"beforeResponse: \", config)\r\n        },\r\n\r\n        beforeResponseError(config, axiosInstance){\r\n            if (config.statusCode === 401){\r\n            }\r\n        }\r\n    }\r\n})\r\nexport default axios","import VueSplit from 'vue-split-panel'\r\nimport Vue from 'vue'\r\nVue.use(VueSplit)\r\n\r\nexport default VueSplit","import \"vuetify/dist/vuetify.min.css\"\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport vuetify from './plugins/vuetify'\r\nimport axios from './plugins/axios'\r\nimport split from './plugins/split'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  axios,\r\n  split,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.63a7d78d.svg\";","module.exports = __webpack_public_path__ + \"static/img/logo.82b9c7a5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[(_vm.$route.name==='session')?_c('v-btn',{staticClass:\"hidden-xs-only\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1):_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"med-img-label\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Export\")]),_c('v-icon',[_vm._v(\"mdi-open-in-new\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark dense>\r\n    <v-btn v-if=\"$route.name==='session'\" @click=\"$router.go(-1)\" icon class=\"hidden-xs-only\">\r\n      <v-icon>mdi-arrow-left</v-icon>\r\n    </v-btn>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img\r\n              alt=\"Vuetify Logo\"\r\n              class=\"shrink mr-2\"\r\n              contain\r\n              src=\"\"\r\n              transition=\"scale-transition\"\r\n              width=\"40\"\r\n      />\r\n\r\n      <v-toolbar-title>med-img-label</v-toolbar-title>\r\n    </div>\r\n\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-btn text>\r\n      <span class=\"mr-2\">Export</span>\r\n      <v-icon>mdi-open-in-new</v-icon>\r\n    </v-btn>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\"\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=2116e655&scoped=true&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2116e655\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VImg,VSpacer,VToolbarTitle})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=style&index=0&id=44d9458e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=style&index=0&id=25c0ccec&scoped=true&lang=css&\""],"sourceRoot":""}