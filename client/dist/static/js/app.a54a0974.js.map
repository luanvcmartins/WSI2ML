{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/SliceDrawer.js","webpack:///./src/components/SliceViewer.vue?2e86","webpack:///src/components/SliceViewer.vue","webpack:///./src/components/SliceViewer.vue?548e","webpack:///./src/components/SliceViewer.vue?35e9","webpack:///./src/App.vue?77b0","webpack:///./src/components/HelloWorld.vue?6c00","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?4efa","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/views/Home.vue?b80d","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Tasks.vue?f204","webpack:///src/views/Tasks.vue","webpack:///./src/views/Tasks.vue?2e29","webpack:///./src/views/Tasks.vue","webpack:///./src/views/Session.vue?0309","webpack:///./src/components/SideWindow.vue?6035","webpack:///src/components/SideWindow.vue","webpack:///./src/components/SideWindow.vue?386d","webpack:///./src/components/SideWindow.vue?deb7","webpack:///./src/components/AnnotationCard.vue?650a","webpack:///src/components/AnnotationCard.vue","webpack:///./src/components/AnnotationCard.vue?215f","webpack:///./src/components/AnnotationCard.vue?1de9","webpack:///src/views/Session.vue","webpack:///./src/views/Session.vue?3c37","webpack:///./src/views/Session.vue?8469","webpack:///./src/views/Admin.vue?0a3c","webpack:///./src/components/UserEditor.vue?58ca","webpack:///src/components/UserEditor.vue","webpack:///./src/components/UserEditor.vue?1274","webpack:///./src/components/UserEditor.vue","webpack:///./src/components/ProjectEditor.vue?63fe","webpack:///src/components/ProjectEditor.vue","webpack:///./src/components/ProjectEditor.vue?a701","webpack:///./src/components/ProjectEditor.vue?7929","webpack:///./src/components/TaskEditor.vue?1c32","webpack:///src/components/TaskEditor.vue","webpack:///./src/components/TaskEditor.vue?838f","webpack:///./src/components/TaskEditor.vue?a914","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue","webpack:///./src/components/AdminAppBar.vue?ce39","webpack:///src/components/AdminAppBar.vue","webpack:///./src/components/AdminAppBar.vue?9ddc","webpack:///./src/components/AdminAppBar.vue","webpack:///./src/router.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/axios.js","webpack:///./src/plugins/split.js","webpack:///./src/main.js","webpack:///./src/components/AnnotationCard.vue?f547","webpack:///./src/components/SideWindow.vue?15a6","webpack:///./src/components/SliceViewer.vue?99ff","webpack:///./src/assets/logo.svg","webpack:///./src/views/Session.vue?e316","webpack:///./src/components/TaskEditor.vue?cc60","webpack:///./src/assets/logo.png","webpack:///./src/components/AppBar.vue?194c","webpack:///src/components/AppBar.vue","webpack:///./src/components/AppBar.vue?f6e4","webpack:///./src/components/AppBar.vue","webpack:///./src/components/ProjectEditor.vue?76a4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","freeDrawingDefaultKeyboardBehavior","func","drawer","this","instance","keyCode","drawer_panning","set_canvas_pan","currently_drawing","meta","_enabled","geometry","points","optimizePath","callback","onFinishNewDrawing","stateRestorer","cancel","lineFunction","point1","point2","point3","line1_slope","y","x","line2_slope","line1_b","line2_b","slope","b","toRemove","log","lineFunc","distance1","Math","hypot","filter","item","idx","includes","nullTool","mouseEvent","keyboardEvent","init","polygonTool","info","help","onInfoUpdate","imagePosition","_mousePointToImagePoint","position","label","current_label","StateRestorer","addRestorePoint","update","pop","rectTool","map","dim","temp","freeTool","brushTool","size","PathMeshEraser","editor","active","mousePosition","controls","some","control","intersectsControl","point","index","indexOf","PathMeshMover","forEach","intersects","PathMeshCreator","cursor","checkPathCreation","left","min","right","max","top","bottom","ctx","isPointInPath","annotation","path","newIndex","create_controls","draw","beginPath","_imagePointToCanvasPoint","ellipse","PI","prevPoint","nextPoint","moveTo","lineTo","fill","stroke","PathMeshFreeEditor","current_path","editing","panning","polygonOrientation","sum","li","canvasPoint","originalToRemove","additionToRemove","newOriginalPath","newAdditionPath","originalX","additionX","oIndex","aIndex","newPath","cPoint","oPoint","aPoint","oDistance","aDistance","Path2D","firstPosition","closePath","PathMeshEditor","current_history_point","history","onEditingEvent","restoreState","areaRadius","_viewportLocation","canvas","clientWidth","original_points","color","original_color","onFinishedEditing","currently_editing","lineWidth","fillStyle","strokeStyle","_canvas_pos","create_mode","states","current_state_point","onStateRestorerEvent","restoreToPoint","annotations","enabled","elementsOnScreen","new_tool","tools","viewer","focus","default_opacity","filtering","drawing_color","_lastUpdate","editElement","concludeEdit","cancelEdit","resize","width","height","clientHeight","viewportPoint","viewport","pointFromPixel","coordinates","viewportToImageCoordinates","OpenSeadragon","Point","imageToViewerElementCoordinates","Date","now","clearRect","viewportMin","viewportMax","firstPoint","_draw_annotation","_update_polygon","_update_rect","_update_brush","_gen_color","rgb","color_code","_update_path","startPoint","is_hover","limits","rect","_canvas_points","canvasPos","lineCap","lineJoin","_check_intersects","panHorizontal","panVertical","peep","xmin","xmax","ymin","ymax","coord","panTo","imageToViewportCoordinates","tiledImage","world","getItemAt","yZoom","source","dimensions","xZoom","zoom","zoomTo","Viewer","style","getContext","addHandler","windowToImageCoordinates","MouseTracker","element","nonPrimaryReleaseHandler","releaseHandler","pressHandler","clickHandler","onClick","dblClickHandler","moveHandler","updateRequired","statusUpdateRequired","onHover","onLeave","keyDownHandler","keyUpHandler","tool","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","task_type","scopedSlots","_u","fn","ref","on","_g","_b","selected_label","_v","_s","_l","$event","_e","selected_tool","state_restorer","max_undo","model","$$v","$set","expression","instruction","toFixed","staticRenderFns","component","VAvatar","VBtn","VDivider","VIcon","VList","VListItem","VListItemAvatar","VListItemContent","VListItemTitle","VMenu","VSlider","next","text","link","eco","ecosystem","importantLinks","whatsNext","VCol","VContainer","VImg","VRow","VApp","VMain","Vue","use","Vuex","Store","state","session","user","token","mutations","set_session","login","login_data","actions","components","HelloWorld","tasks","task","project","task_types","slide","staticStyle","start_task","id","VCard","VCardActions","VCardText","VChip","VChipGroup","VFlex","VLayout","VSpacer","completed","tile_sources","project_labels","labels_visible","region_opacity","draw_events","regionClicked","onNewRegionDraw","onEditRegionDraw","labelled","current_slide","selected_tab","proxy","genColor","slides","revision_enabled","importAnnotations","region","saveEdition","editRegion","annotationFeedback","dismissAnnotation","feedback_dialog","feedback","relabelScreenContinue","shown","_t","VNavigationDrawer","importing","updateRender","label_id","undoing_feedback","swapDrawings","drawing_swapped","preventDefault","arguments","importAnnotation","saveRegion","feedbackCorrect","undo","VCardTitle","VDialog","VRadio","VRadioGroup","VSwitch","VTab","VTabItem","VTabs","VTabsItems","VToolbar","VToolbarTitle","config","task_headers","user_task","edit_task","remove_task","new_task","user_headers","users","edit_user","new_user","project_header","projects","edit_project","new_project","done","save","VCheckbox","VTextField","path_errors","check_path","header","labels","gen_color","change_color","color_menu","color_picked","closeColorPicker","remove_label","add_label","new_label","VColorPicker","VDataTable","VTextarea","selection","files","project_id","review_task_list","review_task","task_id","user_tasks","VScrollXTransition","VSelect","VSimpleCheckbox","VTreeview","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VTooltip","VAppBar","Router","new_router","routes","default","Tasks","app_bar","AppBar","auth","Session","Admin","AdminAppBar","is_admin","beforeEach","to","from","matched","record","store","params","nextUrl","fullPath","Vuetify","theme","icons","iconfont","themes","light","primary","colors","blueGrey","darken3","secondary","grey","darken1","accent","shades","black","red","accent3","dark","blue","lighten3","process","VueAxios","axios","baseURL","interceptors","beforeRequest","axiosInstance","headers","Authorization","beforeResponse","beforeResponseError","statusCode","VueSplit","productionTip","router","vuetify","split","h","App","$mount","$route","$router","go"],"mappings":"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","file":"static/js/app.a54a0974.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d22d746\":\"f59bb143\",\"chunk-928ee46e\":\"d539adf4\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-928ee46e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"static/css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d22d746\":\"31d6cfe0\",\"chunk-928ee46e\":\"d1417cf6\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import OpenSeadragon from \"openseadragon\";\r\nimport _ from \"lodash\"\r\n\r\nconst freeDrawingDefaultKeyboardBehavior = function (func, e) {\r\n    const drawer = this.instance\r\n    switch (func) {\r\n        case \"keyDown\":\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = true\r\n                // console.log(\"drawer_panning\", this.drawer_panning)\r\n                drawer.set_canvas_pan(true)\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n            }\r\n            break\r\n        case \"keyUp\":\r\n            if (e.keyCode === 13) {\r\n                // User pressed ENTER, we will save the drawing\r\n                drawer.set_canvas_pan(true)\r\n                // Before saving, we remove the redundant points for this shape\r\n                drawer.currently_drawing.geometry.points = optimizePath(drawer.currently_drawing.geometry.points)\r\n                // Call the onFinishNewDrawing callback, which handles what happens to the shape\r\n                drawer.callback.onFinishNewDrawing(drawer.currently_drawing.geometry)\r\n                // Complete the drawing preview by resetting it\r\n                drawer.currently_drawing = null\r\n                if (drawer.stateRestorer != null) drawer.stateRestorer.cancel()\r\n            }\r\n            if (e.keyCode === 32) {\r\n                this.drawer_panning = false\r\n                // user released space, we will disable dragging\r\n                drawer.set_canvas_pan(false)\r\n            }\r\n            if (e.keyCode === 27) {\r\n                // User pressed ESC, we will reset the drawing\r\n                drawer.currently_drawing = null\r\n                if (drawer.stateRestorer != null) drawer.stateRestorer.cancel()\r\n                drawer.set_canvas_pan(true)\r\n            }\r\n            break\r\n    }\r\n}\r\n\r\nconst lineFunction = function (point1, point2, point3) {\r\n    const line1_slope = (point2.y - point1.y) / (point2.x - point1.x)\r\n    const line2_slope = (point3.y - point2.y) / (point3.x - point2.x)\r\n    const line1_b = point1.x * line1_slope - point1.y\r\n    const line2_b = point3.x * line2_slope - point3.y\r\n    return [\r\n        {slope: line1_slope, b: line1_b},\r\n        {slope: line2_slope, b: line2_b},\r\n    ]\r\n}\r\n\r\n/**\r\n * A simple algorithm to detect and remove redundant points made in free draw. It returns an array of points\r\n * without the points that don't contribute to the shape.\r\n *\r\n * @param points the array of points\r\n * @returns {*}\r\n */\r\nconst optimizePath = function (points) {\r\n    let toRemove = []\r\n    do {\r\n        console.log(\"New iteration\")\r\n        toRemove = []\r\n        for (let i = 1; i < points.length - 1; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const point3 = points[i + 1]\r\n            const lineFunc = lineFunction(point1, point2, point3)\r\n            if (lineFunc[0].slope === lineFunc[1].slope && lineFunc[0].b === lineFunc[1].b) {\r\n                // we could introduce a margin\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const distance1 = Math.hypot(point1.x - point2.x, point1.y - point2.y)\r\n            if (distance1 < 3) {\r\n                toRemove.push(i)\r\n            }\r\n        }\r\n\r\n        console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n        console.log(\"Size (before): \", points.length)\r\n        points = points.filter((item, idx) => !toRemove.includes(idx))\r\n        console.log(\"Size (after): \", points.length)\r\n\r\n    } while (toRemove.length !== 0)\r\n    // console.log(toRemove.length, \"points removed from\", points.length, \"(\" + ((toRemove.length / points.length) * 100) + \"%)\")\r\n    // console.log(\"Size (before): \", points.length)\r\n    // // for (let i = 0; i < toRemove.length; i++) {\r\n    // //     points.splice(toRemove[i], 1)\r\n    // // }\r\n    // console.log(\"Size (after): \", points.length)\r\n    return points\r\n}\r\n\r\nconst nullTool = {\r\n    name: \"None\",\r\n    mouseEvent: function (func, e) {\r\n    },\r\n    keyboardEvent: function (func, e) {\r\n    },\r\n    init(instance) {\r\n        return this\r\n    }\r\n}\r\n\r\nconst polygonTool = {\r\n    name: \"polygon\",\r\n    instance: null,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[db-Click] To put the first point\")\r\n        if (help.includes(\"start-2\"))\r\n            info.push(\"[db-Click] To put the second point\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[Enter] To save annotation\")\r\n        if (help.includes(\"undo\"))\r\n            info.push(\"[Esc] To undo\")\r\n        if (help.includes(\"continue\"))\r\n            info.push(\"[Click] To continue dragging\")\r\n        if (help.includes(\"point\"))\r\n            info.push(\"[db-Click] To add a point\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                // On double click, we will create a new drawing if there none in the moment\r\n                if (drawer.currently_drawing == null) {\r\n                    this.geometry = {\r\n                        type: \"polygon\",\r\n                        points: [imagePosition, imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {}\r\n                    }\r\n\r\n                    drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                    this.info(\"start-2\", \"cancel\")\r\n                } else {\r\n                    // On double click we will continue the drawing by adding the new\r\n                    this.geometry.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                    this.info(\"save\", \"undo\", \"point\")\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    // On mouse move we will update the preview if we currently drawing\r\n                    this.geometry.points[this.geometry.points.length - 1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        // We are only interested in this events if we are drawing\r\n        if (drawer.currently_drawing != null)\r\n            switch (func) {\r\n                case \"keyUp\":\r\n                    if (e.keyCode === 13) {\r\n                        // User pressed enter, we will complete the drawing\r\n                        this.geometry.points.pop()\r\n                        drawer.callback.onFinishNewDrawing(this.geometry)\r\n                        drawer.currently_drawing = null\r\n                        drawer.stateRestorer.cancel()\r\n                        this.info(\"\")\r\n                    }\r\n                    if (e.keyCode === 27) {\r\n                        // User pressed ESC, undo the drawing\r\n                        if (drawer.currently_drawing.geometry.points.length > 3) {\r\n                            // Undo the last point added\r\n                            this.geometry.points.splice(this.geometry.points.length - 2, 1)\r\n\r\n                            this.info(\"save\", \"point\", this.geometry.points.length > 3 ? \"undo\" : \"cancel\")\r\n                        } else {\r\n                            // Cancel the drawing\r\n                            drawer.currently_drawing = null\r\n                            drawer.stateRestorer.cancel()\r\n                            this.info(\"\")\r\n                        }\r\n                        drawer.update()\r\n                    }\r\n                    break\r\n            }\r\n    },\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        this.info(\"start\")\r\n        return this\r\n    }\r\n}\r\n\r\nconst rectTool = {\r\n    name: \"rect\",\r\n    instance: null,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[db-Click] To start rect\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[db-Click] To finish and save\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"dblClick\":\r\n                if (drawer.currently_drawing == null) {\r\n                    // We will start the drawing\r\n                    this.geometry = {\r\n                        type: this.name,\r\n                        points: [imagePosition, imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {}\r\n                    }\r\n                    this.info(\"save\", \"cancel\")\r\n                } else {\r\n                    // We will stop the drawing.\r\n                    // We will assure point1 < point2\r\n                    ['x', 'y'].map(dim => {\r\n                        if (this.geometry.points[0][dim] > this.geometry.points[1][dim]) {\r\n                            const temp = this.geometry.points[0][dim]\r\n                            this.geometry.points[0][dim] = this.geometry.points[1][dim]\r\n                            this.geometry.points[1][dim] = temp\r\n                        }\r\n                    })\r\n                    // report the drawing is over\r\n                    drawer.callback.onFinishNewDrawing(this.geometry)\r\n                    drawer.currently_drawing = null\r\n                    drawer.stateRestorer.cancel()\r\n                    this.info(\"start\")\r\n                }\r\n                drawer.update()\r\n                break\r\n            case \"move\":\r\n                if (drawer.currently_drawing != null) {\r\n                    drawer.currently_drawing.geometry.points[1] = imagePosition\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        switch (func) {\r\n            case 'keyUp':\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC, we will cancel the drawing\r\n                    drawer.currently_drawing = null\r\n                    // drawer.stateRestorer.cancel()\r\n                    drawer.update()\r\n                    this.info(\"start\")\r\n                }\r\n                break\r\n        }\r\n    },\r\n    init(instance) {\r\n        this.instance = instance\r\n        this.info(\"start\")\r\n        return this\r\n    }\r\n}\r\n\r\nconst freeTool = {\r\n    name: \"free\",\r\n    instance: null,\r\n    drawer_panning: false,\r\n    geometry: null,\r\n\r\n    info(...help) {\r\n        let info = []\r\n        if (help.includes(\"pan\"))\r\n            info.push(\"[Space] To drag the image\")\r\n        if (help.includes(\"start\"))\r\n            info.push(\"[Click] To start drawing\")\r\n        if (help.includes(\"save\"))\r\n            info.push(\"[Enter] To save annotation\")\r\n        if (help.includes(\"continue\"))\r\n            info.push(\"[Click] To continue drawing\")\r\n        if (help.includes(\"cancel\"))\r\n            info.push(\"[Esc] To cancel\")\r\n        this.instance.callback.onInfoUpdate(info)\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                drawer.set_canvas_pan(false)\r\n                if (!this.drawer_panning) {\r\n                    if (drawer.currently_drawing == null) {\r\n                        this.geometry = {\r\n                            type: \"polygon\",\r\n                            points: [imagePosition],\r\n                        }\r\n                        drawer.currently_drawing = {\r\n                            label: drawer.current_label,\r\n                            geometry: this.geometry,\r\n                            meta: {_enabled: true}\r\n                        }\r\n\r\n                        drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                    } else\r\n                        drawer.currently_drawing.meta._enabled = true\r\n\r\n                    this.info(\"pan\")\r\n                }\r\n                // return true\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled) {\r\n                    this.geometry.points.push(imagePosition)\r\n                    drawer.stateRestorer.addRestorePoint(\"point\")\r\n                    // this.info(\"start\", \"pan\")\r\n                    // return true\r\n                }\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n                this.info(\"continue\", \"pan\", \"save\", \"cancel\")\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        this.info(\"start\", \"pan\")\r\n        return this\r\n    }\r\n}\r\n\r\n\r\nconst brushTool = {\r\n    name: \"brush\",\r\n    instance: null,\r\n    size: 500,\r\n    drawer_panning: false,\r\n    geometry: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const drawer = this.instance\r\n        const imagePosition = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.drawer_panning) return\r\n                drawer.set_canvas_pan(false)\r\n\r\n                if (drawer.currently_drawing == null) {\r\n                    this.geometry = {\r\n                        type: \"brush\",\r\n                        size: this.size,\r\n                        points: [imagePosition]\r\n                    }\r\n                    drawer.currently_drawing = {\r\n                        label: drawer.current_label,\r\n                        geometry: this.geometry,\r\n                        meta: {_enabled: true}\r\n                    }\r\n                    // drawer.stateRestorer = StateRestorer.init(drawer, this.geometry)\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (!this.drawer_panning && drawer.currently_drawing != null && drawer.currently_drawing.meta._enabled)\r\n                    this.geometry.points.push(imagePosition)\r\n                break\r\n            case \"release\":\r\n                if (drawer.currently_drawing != null)\r\n                    drawer.currently_drawing.meta._enabled = false\r\n                drawer.set_canvas_pan(true)\r\n\r\n                break\r\n        }\r\n        drawer.update()\r\n    },\r\n\r\n    keyboardEvent: freeDrawingDefaultKeyboardBehavior,\r\n\r\n\r\n    init(instance) {\r\n        this.instance = instance\r\n        instance.set_canvas_pan(false)\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEraser = {\r\n    editor: null,\r\n    active: false,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n\r\n        switch (func) {\r\n            case \"press\":\r\n                this.active = true\r\n                drawer.set_canvas_pan(false)\r\n                break\r\n            case \"release\":\r\n                this.active = false\r\n                drawer.set_canvas_pan(true)\r\n                break\r\n            case \"move\":\r\n                if (this.active === true) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    // On the eraser mode, we will check if for intersection and remove those elements\r\n                    editor.controls.some(control => {\r\n                        if (editor.intersectsControl(mousePosition, control.point)) {\r\n                            // We will remove this line\r\n                            const index = editor.geometry.points.indexOf(control.point)\r\n                            editor.geometry.points.splice(index, 1)\r\n                            editor.controls.splice(index, 1)\r\n                            editor.addRestorePoint(\"erased\")\r\n                            return true // stop iterating\r\n                        }\r\n                    })\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshMover = {\r\n    editor: null,\r\n    control: null,\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        switch (func) {\r\n            case \"press\":\r\n                const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                // On the dragging mode, the node is dragged to the\r\n                editor.controls.forEach(control => {\r\n                    const position = control.point\r\n                    const intersects = editor.intersectsControl(mousePosition, position)\r\n                    if (intersects) {\r\n                        // User is dragging with this element\r\n                        this.control = control\r\n                        drawer.set_canvas_pan(false)\r\n                    }\r\n                })\r\n\r\n                break\r\n            case \"release\":\r\n                this.control = null\r\n                drawer.set_canvas_pan(true)\r\n                editor.addRestorePoint(\"moved\")\r\n                break\r\n            case \"move\":\r\n                if (this.control != null) {\r\n                    const mousePosition = drawer._mousePointToImagePoint(e.position)\r\n                    this.control.point.x = mousePosition.x\r\n                    this.control.point.y = mousePosition.y\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshCreator = {\r\n    editor: null,\r\n    cursor: null,\r\n    instance: null,\r\n\r\n    checkPathCreation(position) {\r\n        const points = this.editor.geometry.points\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point1 = points[i - 1]\r\n            const point2 = points[i]\r\n            const left = Math.min(point1.x, point2.x) - 10\r\n            const right = Math.max(point1.x, point2.x) + 10\r\n            const top = Math.min(point1.y, point2.y) - 10\r\n            const bottom = Math.max(point1.y, point2.y) + 10\r\n\r\n            if (left < position.x && position.x < right &&\r\n                top < position.y && position.y < bottom) {\r\n                return i\r\n            }\r\n        }\r\n        return null\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        const editor = this.editor\r\n        const drawer = editor.instance\r\n        const position = drawer._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"move\":\r\n                if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    // console.log(\"check\", newIndex)\r\n                    if (newIndex != null) {\r\n                        this.cursor = {position: position, index: newIndex}\r\n                    } else {\r\n                        this.cursor = null\r\n                    }\r\n                    drawer.update()\r\n                } else {\r\n                    if (this.cursor != null) {\r\n                        this.cursor = null\r\n                        drawer.update()\r\n                    }\r\n                }\r\n                break\r\n            case \"click\":\r\n                if (drawer.ctx.isPointInPath(editor.annotation.meta.path, e.position.x, e.position.y)) {\r\n                    const points = editor.geometry.points\r\n                    const newIndex = this.checkPathCreation(position)\r\n                    if (newIndex != null) {\r\n                        editor.addRestorePoint(\"created\")\r\n                        points.splice(newIndex, 0, position)\r\n                    }\r\n                    console.log(\"Ended\")\r\n                    editor.create_controls()\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    draw(ctx) {\r\n        const instance = this.instance\r\n        // Drawing the reference cursor where the new point will appear\r\n        ctx.beginPath()\r\n        if (this.cursor != null) {\r\n            const points = this.editor.geometry.points\r\n            const position = instance._imagePointToCanvasPoint(this.cursor.position.x, this.cursor.position.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n            const prevPoint = instance._imagePointToCanvasPoint(points[this.cursor.index - 1].x, points[this.cursor.index - 1].y)\r\n            const nextPoint = instance._imagePointToCanvasPoint(points[this.cursor.index].x, points[this.cursor.index].y)\r\n            ctx.moveTo(prevPoint.x, prevPoint.y)\r\n            ctx.lineTo(position.x, position.y)\r\n            ctx.lineTo(nextPoint.x, nextPoint.y)\r\n            ctx.fill()\r\n            ctx.stroke()\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.instance = editor.instance\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshFreeEditor = {\r\n    currently_drawing: null,\r\n    current_path: null,\r\n    editor: null,\r\n    editing: false,\r\n    panning: false,\r\n    mouseEvent(func, e) {\r\n        const editor = this.editor\r\n        const annotation = editor.annotation\r\n        const instance = editor.instance\r\n        const position = editor.instance._mousePointToImagePoint(e.position)\r\n        switch (func) {\r\n            case \"press\":\r\n                if (this.currently_drawing == null) {\r\n                    if (editor.instance.ctx.isPointInPath(annotation.meta.path, e.position.x, e.position.y)) {\r\n                        this.currently_drawing = []\r\n                        this.editing = true\r\n                        instance.set_canvas_pan(false)\r\n                    }\r\n                } else {\r\n                    this.editing = true\r\n                    instance.set_canvas_pan(false)\r\n                }\r\n                break\r\n            case \"move\":\r\n                if (this.panning) return\r\n                if (this.currently_drawing != null && this.editing) {\r\n                    this.currently_drawing.push(position)\r\n                    editor.instance.update()\r\n                }\r\n                break\r\n            case \"release\":\r\n                this.editing = false\r\n                instance.set_canvas_pan(true)\r\n                break\r\n        }\r\n    },\r\n\r\n    polygonOrientation(points) {\r\n        let sum = 0\r\n        const li = points.length\r\n        for (let i = 1; i < li; i++)\r\n            sum += (points[i].x - points[i - 1].x) * (points[i].y + points[i - 1].y)\r\n        sum += (points[li - 1].x - points[li - 2].x) * (points[li - 1].y + points[li - 2].y)\r\n        return sum > 0\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.editor.instance\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(false)\r\n                    this.panning = false\r\n                } else if (e.keyCode === 27) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.currently_drawing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    drawer.set_canvas_pan(true)\r\n                    const intersects = (path, point) => {\r\n                        const canvasPoint = drawer._imagePointToCanvasPoint(point.x, point.y)\r\n                        return drawer.ctx.isPointInPath(path, canvasPoint.x, canvasPoint.y, \"nonzero\")\r\n                    }\r\n                    const originalToRemove = this.editor.geometry.points.map((item, index) => {\r\n                        if (intersects(this.current_path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    const additionToRemove = this.currently_drawing.map((item, index) => {\r\n                        if (intersects(this.editor.geometry.path, item)) return index\r\n                    }).filter(item => item != null)\r\n                    console.log(\"Original To Remove\", originalToRemove, additionToRemove)\r\n                    const newOriginalPath = this.editor.geometry.points.filter((i, idx) => !originalToRemove.includes(idx))\r\n                    const newAdditionPath = this.currently_drawing.filter((i, idx) => !additionToRemove.includes(idx))\r\n                    console.log(\"newOriginalPath:\", newOriginalPath)\r\n                    console.log(\"newAdditionPath:\", newAdditionPath)\r\n\r\n                    const originalX = this.polygonOrientation(newOriginalPath)\r\n                    const additionX = this.polygonOrientation(newAdditionPath)\r\n                    console.log(\"Order:\", originalX, additionX)\r\n                    if (additionX !== originalX) {\r\n                        console.log(\"Reversing array\")\r\n                        // newAdditionPath.reverse()\r\n                    }\r\n\r\n                    let oIndex = 1, aIndex = 0\r\n                    const newPath = [newOriginalPath[0]]\r\n                    do {\r\n                        const cPoint = newPath[newPath.length - 1]\r\n                        const oPoint = newOriginalPath[oIndex]\r\n                        const aPoint = newAdditionPath[aIndex]\r\n\r\n                        const oDistance = oIndex < newOriginalPath.length ? Math.hypot(cPoint.x - oPoint.x, cPoint.y - oPoint.y) : -1\r\n                        const aDistance = aIndex < newAdditionPath.length ? Math.hypot(cPoint.x - aPoint.x, cPoint.y - aPoint.y) : -1\r\n\r\n                        console.log(\"Iteration | \", cPoint, oIndex, aIndex, \"|\", oDistance, aDistance)\r\n                        if (oDistance === -1 && aDistance === -1) {\r\n                            break\r\n                        } else if (aDistance === -1 || (oDistance !== -1 && oDistance < aDistance)) {\r\n                            newPath.push(oPoint)\r\n                            oIndex++\r\n                        } else if (oDistance === -1 || (aDistance !== -1 && oDistance > aDistance)) {\r\n                            newPath.push(aPoint)\r\n                            aIndex++\r\n                        }\r\n                    } while (oIndex < newOriginalPath.length || aIndex < newAdditionPath.length)\r\n                    this.editor.geometry.points = optimizePath(newPath)\r\n                    this.editor.instance.update()\r\n                    return false\r\n                    // const newToRemove =\r\n                }\r\n                break\r\n            case \"keyDown\":\r\n                if (e.keyCode === 32) {\r\n                    drawer.set_canvas_pan(true)\r\n                    this.panning = true\r\n                }\r\n                break\r\n        }\r\n\r\n        // We are going to handle the input\r\n        return true\r\n    },\r\n\r\n\r\n    draw(ctx) {\r\n        const points = this.currently_drawing\r\n        if (points != null) {\r\n            const path = new Path2D()\r\n            const firstPosition = this.editor.instance._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n            ctx.beginPath()\r\n            path.moveTo(firstPosition.x, firstPosition.y)\r\n\r\n            points.forEach(point => {\r\n                const position = this.editor.instance._imagePointToCanvasPoint(point.x, point.y)\r\n                path.lineTo(position.x, position.y)\r\n            })\r\n            path.closePath()\r\n            this.current_path = path\r\n            ctx.stroke(path)\r\n        }\r\n    },\r\n\r\n    init(editor) {\r\n        this.editor = editor\r\n        this.currently_drawing = null\r\n        return this\r\n    }\r\n}\r\n\r\nconst PathMeshEditor = {\r\n    annotation: null,\r\n    geometry: null,\r\n    controls: [],\r\n    instance: null,\r\n    mode: null,\r\n    current_history_point: 0,\r\n    history: [],\r\n\r\n    addRestorePoint: function (event) {\r\n        if (this.history.length > 0 && this.current_history_point !== this.history.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            console.log(\"clearing future:\", this.history.length)\r\n            this.history.splice(this.current_history_point, this.history.length - this.current_history_point)\r\n            console.log(\"clearing future:\", this.history.length)\r\n        }\r\n        this.history.push({\r\n            type: event,\r\n            points: this.geometry.points.map(item => {\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_history_point = this.history.length - 1\r\n        this.instance.callback.onEditingEvent()\r\n    },\r\n\r\n    restoreState: function (value) {\r\n        console.log(\"restoreState\", value, this.history)\r\n        this.geometry.points = this.history[value].points\r\n        this.create_controls()\r\n        this.instance.update()\r\n        this.current_history_point = value\r\n    },\r\n\r\n    intersectsControl: function (mousePosition, position) {\r\n        const drawer = this.instance\r\n        const areaRadius = (drawer._viewportLocation.max.y - drawer._viewportLocation.min.y) / drawer.canvas.clientWidth * 25\r\n        // console.log(\"intersects radius:\", areaRadius, drawer._viewportLocation)\r\n        return mousePosition.x > position.x - areaRadius && mousePosition.x < position.x + areaRadius &&\r\n            mousePosition.y > position.y - areaRadius && mousePosition.y < position.y + areaRadius\r\n    },\r\n\r\n    mouseEvent: function (func, e) {\r\n        this.mode.mouseEvent(func, e)\r\n    },\r\n\r\n    keyboardEvent: function (func, e) {\r\n        const drawer = this.instance\r\n\r\n        if (typeof this.mode.keyboardEvent === \"function\") {\r\n            if (this.mode.keyboardEvent(func, e))\r\n                return\r\n        }\r\n\r\n        console.log(func, e)\r\n        switch (func) {\r\n            case \"keyUp\":\r\n                if (e.keyCode === 27) {\r\n                    // User pressed ESC. The edition is cancelled and the shape must be restored\r\n                    this.geometry.points = this.original_points\r\n                    this.geometry.color = this.original_color\r\n                    // Notify the editing has ended without changes\r\n                    drawer.callback.onFinishedEditing(false, this.geometry)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                } else if (e.keyCode === 13) {\r\n                    // Notify the editing has ended with changes\r\n                    drawer.callback.onFinishedEditing(true, this.geometry)\r\n                    // Disable the editing tool and update view\r\n                    drawer.currently_editing = null\r\n                    drawer.update()\r\n                }\r\n                break\r\n        }\r\n    },\r\n\r\n    cancel() {\r\n        const drawer = this.instance\r\n        this.geometry.points = this.original_points\r\n        this.geometry.color = this.original_color\r\n        // Notify the editing has ended without changes\r\n        drawer.callback.onFinishedEditing(false, this.geometry)\r\n        // Disable the editing tool and update view\r\n        drawer.currently_editing = null\r\n        drawer.update()\r\n    },\r\n\r\n    draw(ctx) {\r\n        const drawer = this.instance\r\n        ctx.lineWidth = 1\r\n        // We will draw the controls we have:\r\n        this.controls.forEach(control => {\r\n            ctx.beginPath()\r\n            const position = drawer._imagePointToCanvasPoint(control.point.x, control.point.y)\r\n            ctx.ellipse(position.x, position.y, 5, 5, 0, 2 * Math.PI, 0, false)\r\n\r\n            ctx.fillStyle = \"rgb(255,255,255)\"\r\n            ctx.fill()\r\n            ctx.strokeStyle = \"black\"\r\n            ctx.stroke()\r\n            control._canvas_pos = position\r\n        })\r\n\r\n\r\n        if (typeof this.mode.draw === \"function\")\r\n            this.mode.draw(ctx)\r\n    },\r\n\r\n    create_controls: function () {\r\n        this.controls = this.geometry.points.map(point => {\r\n            return {point: point}\r\n        })\r\n    },\r\n\r\n    create_mode: function (mode) {\r\n        if (mode === \"eraser\") {\r\n            this.mode = PathMeshEraser.init(this)\r\n        } else if (mode === \"mover\") {\r\n            this.mode = PathMeshMover.init(this)\r\n        } else if (mode === \"creator\") {\r\n            this.mode = PathMeshCreator.init(this)\r\n        } else if (mode === \"free\") {\r\n            this.mode = PathMeshFreeEditor.init(this)\r\n        }\r\n    },\r\n\r\n\r\n    init(instance, annotation, mode) {\r\n        this.instance = instance\r\n        this.annotation = annotation\r\n        const geometry = annotation.geometry\r\n        this.geometry = geometry\r\n        this.original_points = geometry.points.map(point => {\r\n            return {x: point.x, y: point.y}\r\n        })\r\n        this.original_color = geometry.color != null ? geometry.color.map(color => color) : [0, 0, 0]\r\n        this.geometry = geometry\r\n        this.create_controls()\r\n        this.create_mode(mode)\r\n        this.history = []\r\n        return this\r\n    }\r\n}\r\n\r\n\r\n/* the conversion from pixel to shape may be done with a search algorithm.\r\nThe points are the pixels which were unable to find add one of its side to the search*/\r\n\r\nconst StateRestorer = {\r\n    instance: null,\r\n    geometry: null,\r\n    states: [],\r\n    current_state_point: 0,\r\n\r\n    addRestorePoint(event) {\r\n        if (this.states.length > 0 && this.current_state_point !== this.states.length - 1) {\r\n            // We are overriding the past, we will clear the states\r\n            this.states.splice(this.current_state_point, this.states.length - this.current_state_point)\r\n            console.log(\"clearing future:\", this.states.length)\r\n        }\r\n        this.states.push({\r\n            type: event,\r\n            points: this.geometry.points.map(item => { // todo not all elements have points\r\n                return {x: item.x, y: item.y}\r\n            })\r\n        })\r\n        this.current_state_point = this.states.length - 1\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n        // todo report state changed\r\n    },\r\n\r\n    restoreToPoint(value) {\r\n        console.log(\"restoreToPoint\", value)\r\n        this.geometry.points = this.states[value].points\r\n        this.instance.update()\r\n        this.current_state_point = value\r\n        this.instance.callback.onStateRestorerEvent(this)\r\n    },\r\n    cancel() {\r\n        this.instance.stateRestorer = null\r\n        this.states = null\r\n        this.instance.callback.onStateRestorerEvent(null)\r\n    },\r\n    init(instance, geometry) {\r\n        this.instance = instance\r\n        this.geometry = geometry\r\n        this.states = []\r\n        instance.callback.onStateRestorerEvent(this)\r\n        return this\r\n    }\r\n}\r\n\r\nexport default {\r\n    annotations: [],\r\n\r\n    current_label: null,\r\n\r\n    /**\r\n     * When false, SliceDrawer doesn't allow any drawing\r\n     */\r\n    enabled: true,\r\n\r\n    /**\r\n     * Elements currently being rendering are added to this list. This list is mostly used to check\r\n     * mouse interaction with the elements.\r\n     */\r\n    elementsOnScreen: [],\r\n\r\n    stateRestorer: null,\r\n\r\n    /**\r\n     * The current drawing tool\r\n     */\r\n    set tool(name) {\r\n        this.new_tool = this.tools[name]()\r\n        console.log(\"tool: \", name, this.new_tool, this.tools)\r\n        this.set_canvas_pan(true)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get tool() {\r\n        if (this.new_tool != null)\r\n            return this.new_tool.name\r\n        else return \"none\"\r\n    },\r\n\r\n    set editorMode(name) {\r\n        this.currently_editing.create_mode(name)\r\n        this.viewer.canvas.focus()\r\n    },\r\n    get editorMode() {\r\n        return \"\"\r\n    },\r\n\r\n    tools: {},\r\n\r\n    default_opacity: 0.3,\r\n\r\n    /**\r\n     * Elements can be filtered so it won't render.\r\n     * Label => boolean\r\n     */\r\n    filtering: {},\r\n\r\n    /**\r\n     * The element being currently edited.\r\n     * We may be able to join two paths by checking if a given point intersects the other shape. Points from\r\n     * both shapes that intersects another are added to a list for removal. Once we have a list, we remove the elements.\r\n     * The new shape is created by joining the points from the two path in the index of the first removed element.\r\n     * Arbitrary shapes (brush, rect) may be converted to path (by sampling and optimizing) before being joined.\r\n     * The shapes may be joined after the drawing.\r\n     */\r\n    currently_editing: null,\r\n\r\n    new_tool: null,\r\n\r\n    /**\r\n     * The polygon currently being draw\r\n     */\r\n    currently_drawing: null,\r\n\r\n    /**\r\n     * Currently selected color, this is the color used during the preview and automatically added to the element\r\n     */\r\n    drawing_color: [5, 173, 240],\r\n\r\n    /**\r\n     * Throttle behavior for improving performance when there are too many elements to draw\r\n     */\r\n    _lastUpdate: 0,\r\n\r\n    /**\r\n     * Keeps track of the viewport in image pixels. This is used to notify when the\r\n     * canvas is dirty and needs to be redraw.\r\n     */\r\n    _viewportLocation: {min: [], max: []},\r\n\r\n    editElement(annotation) {\r\n        this.currently_editing = PathMeshEditor.init(this, annotation, \"mover\")\r\n        this.update()\r\n        // Finally, we save the first state as a restoration point for the user\r\n        this.currently_editing.addRestorePoint(\"editing\")\r\n    },\r\n\r\n    concludeEdit() {\r\n        // Disable the editing tool and update view\r\n        console.log(\"concludeEdit:\", this.currently_editing.geometry)\r\n        this.callback.onFinishedEditing(true, this.currently_editing.geometry)\r\n        this.currently_editing = null\r\n        this.update()\r\n    },\r\n\r\n    cancelEdit() {\r\n        this.currently_editing.cancel()\r\n        this.currently_editing = null\r\n        this.update()\r\n    },\r\n\r\n    resize: function () {\r\n        this.canvas.width = this.viewer.canvas.clientWidth\r\n        this.canvas.height = this.viewer.canvas.clientHeight\r\n    },\r\n\r\n    _mousePointToImagePoint(mouseEvent) {\r\n        const viewportPoint = this.viewer.viewport.pointFromPixel(mouseEvent)\r\n        const coordinates = this.viewer.viewport.viewportToImageCoordinates(viewportPoint.x, viewportPoint.y)\r\n        return {x: coordinates.x, y: coordinates.y}\r\n    },\r\n\r\n    _imagePointToCanvasPoint(x, y) {\r\n        const point = new OpenSeadragon.Point(x, y)\r\n        return this.viewer.viewport.imageToViewerElementCoordinates(point)\r\n    },\r\n\r\n    update: function () {\r\n        // console.log(\"update called\", this.annotations)\r\n        // todo change for a system in which, depending on the number of elements on the screen, the elements fade on mouse down and show again on mouse up\r\n        if (this.ctx == null) return\r\n\r\n        const ctx = this.ctx\r\n        if (this._lastUpdate > Date.now() - (this.elementsOnScreen.length / 5)) {\r\n            return\r\n        }\r\n        ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\r\n        if (this.annotations == null) {\r\n            return\r\n        }\r\n\r\n        const viewportMin = this._viewportLocation.min\r\n        const viewportMax = this._viewportLocation.max\r\n        this.elementsOnScreen = []\r\n        this.annotations.forEach(annotation => {\r\n            if (this.filtering[annotation.label.name] && annotation.geometry != null) {\r\n                // We will only draw when the label of the element isn't filter out\r\n                const firstPoint = annotation.geometry.points[0]\r\n                if ((firstPoint.x > viewportMin.x && firstPoint.x < viewportMax.x)\r\n                    && (firstPoint.y > viewportMin.y && firstPoint.y < viewportMax.y)) {\r\n                    this._draw_annotation(annotation)\r\n                    this.elementsOnScreen.push(annotation)\r\n                }\r\n            }\r\n        })\r\n        if (this.currently_drawing != null)\r\n            this._draw_annotation(this.currently_drawing)\r\n\r\n        // We are editing a element, let's draw the controls\r\n        if (this.currently_editing != null)\r\n            this.currently_editing.draw(ctx)\r\n\r\n        this._lastUpdate = Date.now()\r\n    },\r\n\r\n    _draw_annotation: function (annotation) {\r\n        switch (annotation.geometry.type) {\r\n            case \"polygon\":\r\n                this._update_polygon(annotation)\r\n                break\r\n            case \"rect\":\r\n                this._update_rect(annotation)\r\n                break\r\n            case \"brush\":\r\n                this._update_brush(annotation)\r\n                break\r\n        }\r\n    },\r\n\r\n    _gen_color(rgb) {\r\n        return `${rgb[0]}, ${rgb[1]}, ${rgb[2]}`\r\n    },\r\n\r\n    _update_polygon: function (annotation, color) {\r\n        const ctx = this.ctx\r\n        const points = annotation.geometry.points\r\n        const color_code = this._gen_color(color == null ? annotation.label.color : color)\r\n        const path = this._update_path(points)\r\n\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.lineTo(startPoint.x, startPoint.y)\r\n        annotation.meta.path = path\r\n        ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.default_opacity})`\r\n        ctx.strokeStyle = `rgb(${color_code})`\r\n        ctx.lineWidth = 1\r\n        ctx.fill(path)\r\n        ctx.stroke(path)\r\n    },\r\n\r\n    _update_rect: function (annotation, color) {\r\n        // console.log(rect_data)\r\n        const ctx = this.ctx\r\n        const position = this._imagePointToCanvasPoint(annotation.geometry.points[0].x, annotation.geometry.points[0].y)\r\n        const limits = this._imagePointToCanvasPoint(annotation.geometry.points[1].x, annotation.geometry.points[1].y)\r\n        const color_code = this._gen_color(color == null ? annotation.label.color : color)\r\n        ctx.beginPath()\r\n        ctx.rect(position.x, position.y, limits.x - position.x, limits.y - position.y)\r\n        annotation.meta._canvas_points = [position, limits]\r\n        // console.log(\"_update_rect\", position.x, position.y, position.x - limits.x, position.y - limits.y)\r\n        ctx.fillStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.default_opacity})`\r\n        ctx.strokeStyle = `rgb(${color_code})`\r\n        ctx.lineWidth = 1\r\n        ctx.fill()\r\n        ctx.stroke()\r\n    },\r\n\r\n    _update_path: function (points) {\r\n        const path = new Path2D()\r\n        const startPoint = this._imagePointToCanvasPoint(points[0].x, points[0].y)\r\n        path.moveTo(startPoint.x, startPoint.y)\r\n        points.forEach(point => {\r\n            const canvasPos = this._imagePointToCanvasPoint(point.x, point.y)\r\n            path.lineTo(canvasPos.x, canvasPos.y)\r\n        })\r\n        // path.closePath()\r\n        return path\r\n    },\r\n\r\n    _update_brush: function (annotation) {\r\n        const ctx = this.ctx\r\n        const points = annotation.geometry.points\r\n        const color_code = this._gen_color(annotation.label.color)\r\n        // console.log(\"lineWidth\", lineWidth)\r\n        ctx.lineWidth = this._imagePointToCanvasPoint(annotation.geometry.size, 0).x - this._imagePointToCanvasPoint(0, 0).x\r\n        ctx.lineCap = \"round\"\r\n        ctx.lineJoin = \"round\"\r\n        ctx.strokeStyle = `rgba(${color_code}, ${annotation.meta.is_hover ? '0.6' : this.default_opacity})`\r\n\r\n        const path = this._update_path(points)\r\n\r\n        annotation.meta.path = path\r\n        ctx.stroke(path)\r\n    },\r\n\r\n    _check_intersects: function (annotation, mousePosition) {\r\n        if (annotation.geometry.type === \"rect\") {\r\n            const point1 = annotation.meta._canvas_points[0]\r\n            const point2 = annotation.meta._canvas_points[1]\r\n            return mousePosition.x > point1.x && mousePosition.x < point2.x &&\r\n                mousePosition.y > point1.y && mousePosition.y < point2.y\r\n        } else if (annotation.geometry.type === \"polygon\" || annotation.geometry.type === \"brush\") {\r\n            return this.ctx.isPointInPath(annotation.meta.path, mousePosition.x, mousePosition.y, \"nonzero\")\r\n        }\r\n    },\r\n\r\n    set_canvas_pan(enabled) {\r\n        this.viewer.panHorizontal = enabled\r\n        this.viewer.panVertical = enabled\r\n    },\r\n\r\n    peep(annotation) {\r\n        const viewer = this.viewer\r\n        let xmin = 10000000, xmax = -1, ymin = 10000000, ymax = -1\r\n        annotation.geometry.points.forEach(coord => {\r\n            if (coord.x < xmin) xmin = coord.x\r\n            if (coord.x > xmax) xmax = coord.x\r\n            if (coord.y < ymin) ymin = coord.y\r\n            if (coord.y > ymax) ymax = coord.y\r\n        })\r\n        const panTo = viewer.viewport.imageToViewportCoordinates((xmax + xmin) / 2, (ymax + ymin) / 2)\r\n        console.log(\"panTo:\", panTo, \" | \", xmin, xmax, ymin, ymax)\r\n        viewer.viewport.panTo(panTo, false)\r\n        const tiledImage = viewer.world.getItemAt(0)\r\n        const yZoom = tiledImage.source.dimensions.y / (ymax - ymin)\r\n        // const xZoom = viewer.viewport.getContainerSize().x / (xmax - xmin)\r\n        const xZoom = tiledImage.source.dimensions.x / (xmax - xmin)\r\n        const zoom = (yZoom < xZoom ? yZoom : xZoom)\r\n        viewer.viewport.zoomTo(zoom - (zoom * 0.5), false)\r\n        // console.log(\"targetZoom:\", targetZoom, tiledImage.source.dimensions.x, \"|\", viewer.viewport.getContainerSize().x)\r\n    },\r\n\r\n    /**\r\n     * Instantiate a SliceDrawer for the OpenSeadragon viewer.\r\n     * Object interaction events can be listened using the callback parameter by passing a object as such:\r\n     * {\r\n     *     onHover: (element) => {} // mouse over element\r\n     *     onLeave: (element) => {} // mouse left the element\r\n     *     onClick: (element) => {} // mouse click on a element\r\n     *     newElementDrawn: (element) => {} // new element was drawn\r\n     * }\r\n     *\r\n     * @param Viewer the OpenSeadragon viewer instance\r\n     * @param callback a object containing the required callbacks\r\n     */\r\n    init: function (Viewer, callback) {\r\n        // Drawing canvas creation\r\n        const canvas = document.createElement(\"canvas\")\r\n        canvas.style.position = 'absolute'\r\n        canvas.style.left = 0\r\n        canvas.style.top = 0\r\n        canvas.style.width = '100%'\r\n        canvas.style.height = '100%'\r\n        Viewer.canvas.appendChild(canvas)\r\n\r\n        // Create references:\r\n        this.viewer = Viewer\r\n        this.canvas = canvas\r\n        this.callback = callback\r\n        this.ctx = canvas.getContext(\"2d\")\r\n\r\n\r\n        this.viewer.addHandler('update-viewport', () => {\r\n            const ctx = this.ctx\r\n            const viewportMin = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(0, 0))\r\n            const viewportMax = this.viewer.viewport.windowToImageCoordinates(new OpenSeadragon.Point(ctx.canvas.width, ctx.canvas.height))\r\n\r\n            if (viewportMin.x !== this._viewportLocation.min.x ||\r\n                viewportMin.y !== this._viewportLocation.min.y ||\r\n                viewportMax.x !== this._viewportLocation.max.x ||\r\n                viewportMax.y !== this._viewportLocation.max.y) {\r\n                // The viewport was changed, a update is needed\r\n                this.update()\r\n            }\r\n\r\n            this._viewportLocation.max = viewportMax\r\n            this._viewportLocation.min = viewportMin\r\n        });\r\n        this.viewer.addHandler('resize', () => {\r\n            this.resize()\r\n        });\r\n\r\n        new OpenSeadragon.MouseTracker({\r\n            element: this.viewer.canvas,//.container\r\n            nonPrimaryReleaseHandler: (e) => {\r\n            },\r\n            releaseHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('release', e)\r\n                } else {\r\n                    this.currently_editing.mouseEvent('release', e)\r\n                }\r\n            },\r\n            pressHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    this.new_tool.mouseEvent('press', e)\r\n                } else {\r\n                    // During editing mode, press means drag a control\r\n                    this.currently_editing.mouseEvent('press', e)\r\n                }\r\n            },\r\n            clickHandler: (e) => {\r\n                if (this.currently_editing != null)\r\n                    this.currently_editing.mouseEvent('click', e)\r\n                else {\r\n                    this.elementsOnScreen.forEach((element) => {\r\n                        if (element.meta.is_hover) {\r\n                            this.callback.onClick(element)\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            dblClickHandler: (e) => {\r\n                this.new_tool.mouseEvent('dblClick', e)\r\n            },\r\n            moveHandler: (e) => {\r\n                if (this.currently_editing == null) {\r\n                    if (this.new_tool.mouseEvent('move', e)) return\r\n                } else {\r\n                    if (this.currently_editing.mouseEvent('move', e)) return\r\n                }\r\n\r\n                // When not drawing, we will check for collision with the mouse pointer for interactivity\r\n                if (this.currently_editing == null) {\r\n                    // We only check for interaction when not in editing mode.\r\n                    let updateRequired = false\r\n                    this.elementsOnScreen.forEach((annotation) => {\r\n                        const intersects = this._check_intersects(annotation, e.position)\r\n                        const statusUpdateRequired = annotation.meta.is_hover !== intersects\r\n                        updateRequired = updateRequired || (intersects && statusUpdateRequired) || statusUpdateRequired\r\n\r\n                        // Handling element interaction listeners:\r\n                        if (statusUpdateRequired)\r\n                            if (intersects)\r\n                                callback.onHover(annotation)\r\n                            else\r\n                                callback.onLeave(annotation)\r\n\r\n                        annotation.meta.is_hover = intersects\r\n                    })\r\n\r\n                    if (updateRequired) {\r\n                        this.viewer.canvas.style.cursor = \"hand\"\r\n                        this.update()\r\n                    }\r\n                }\r\n            },\r\n            keyDownHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyDown', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyDown', e)\r\n            },\r\n            keyUpHandler: (e) => {\r\n                if (this.currently_editing == null)\r\n                    this.new_tool.keyboardEvent('keyUp', e)\r\n                else\r\n                    this.currently_editing.keyboardEvent('keyUp', e)\r\n            }\r\n        })\r\n\r\n        this.tools = {\r\n            \"polygon\": () => polygonTool.init(this),\r\n            \"free\": () => freeTool.init(this),\r\n            \"rect\": () => rectTool.init(this),\r\n            \"brush\": () => brushTool.init(this),\r\n            \"none\": () => nullTool.init(this)\r\n        }\r\n        this.tool = this.enabled ? \"polygon\" : \"none\"\r\n\r\n        this.resize(Viewer.canvas.width, Viewer.canvas.height)\r\n    }\r\n}\r\nexport {optimizePath}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"seadragon-viewer\"}}),(_vm.drawer)?_c('div',{staticClass:\"drawing-tool-container\"},[_c('div',{staticClass:\"tool-item\"},[(_vm.task_type === 0)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-menu',{attrs:{\"top\":\"\",\"close-on-click\":true,\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"color\":(\"rgb(\" + (_vm.selected_label.color[0]) + \",\" + (_vm.selected_label.color[1]) + \",\" + (_vm.selected_label.color[2]) + \")\"),\"size\":\"26\"}}),_vm._v(\"\\n              \"+_vm._s(_vm.selected_label.name)+\"\\n            \")],1)]}}],null,false,3417091346)},[_c('v-list',_vm._l((_vm.labels),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.selected_label = item}}},[_c('v-list-item-avatar',[_c('v-avatar',{attrs:{\"color\":(\"rgb(\" + (item.color[0]) + \",\" + (item.color[1]) + \",\" + (item.color[2]) + \")\"),\"size\":\"26\"}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1)],1)}),1)],1)],1):_vm._e(),_c('v-divider'),(_vm.task_type === 0 && _vm.editing.element == null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'polygon' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'polygon'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polygon\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'rect' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'rect'}}},[_c('v-icon',[_vm._v(\"mdi-vector-rectangle\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'brush' === this.selected_tool ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.selected_tool = 'brush'}}},[_c('v-icon',[_vm._v(\"mdi-brush\")])],1)],1):_vm._e(),(_vm.editing.element != null)?_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'mover' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'mover'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-edit\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'eraser' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'eraser'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-minus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'creator' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'creator'}}},[_c('v-icon',[_vm._v(\"mdi-vector-polyline-plus\")])],1),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":'free' === _vm.editing.mode ? 'primary' : 'grey'},on:{\"click\":function($event){_vm.editing.mode = 'free'}}},[_c('v-icon',[_vm._v(\"mdi-lead-pencil\")])],1)],1):_vm._e()],1),(_vm.state_restorer.showing)?_c('div',{staticClass:\"tool-item\"},[_c('v-slider',{attrs:{\"step\":\"1\",\"dense\":\"\",\"hide-details\":\"\",\"max\":_vm.state_restorer.max_undo,\"label\":\"Undo\"},model:{value:(_vm.state_restorer.undo),callback:function ($$v) {_vm.$set(_vm.state_restorer, \"undo\", $$v)},expression:\"state_restorer.undo\"}})],1):_vm._e(),(_vm.info.length > 0)?_c('div',{staticClass:\"tool-item\"},_vm._l((_vm.info),function(instruction){return _c('p',{staticClass:\"instruction-item\"},[_vm._v(_vm._s(instruction))])}),0):_vm._e()]):_vm._e(),_c('div',{staticClass:\"toolbox navigation-toolbox\"},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"thumb-label\":\"\",\"dense\":\"\",\"max\":40,\"min\":\"0.5\",\"step\":\"0\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n        \"+_vm._s(value.toFixed(2))+\"\\n      \")]}}]),model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}}),_c('div',{staticClass:\"zoom-shortcuts\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 1}}},[_vm._v(\"1x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 2}}},[_vm._v(\"2x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 10}}},[_vm._v(\"10x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 20}}},[_vm._v(\"20x\")]),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.zoom = 40}}},[_vm._v(\"40x\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div id=\"seadragon-viewer\"/>\r\n\r\n    <div v-if=\"drawer\" class=\"drawing-tool-container\">\r\n\r\n      <div class=\"tool-item\">\r\n        <div class=\"zoom-shortcuts\" v-if=\"task_type === 0\">\r\n          <v-menu top :close-on-click=\"true\" offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn text v-bind=\"attrs\" v-on=\"on\">\r\n                <v-avatar\r\n                        class=\"mr-2\"\r\n                        :color=\"`rgb(${selected_label.color[0]},${selected_label.color[1]},${selected_label.color[2]})`\"\r\n                        size=\"26\"/>\r\n                {{selected_label.name}}\r\n              </v-btn>\r\n            </template>\r\n            <v-list>\r\n              <v-list-item @click=\"selected_label = item\" v-for=\"(item, index) in labels\" :key=\"index\">\r\n                <v-list-item-avatar>\r\n                  <v-avatar :color=\"`rgb(${item.color[0]},${item.color[1]},${item.color[2]})`\" size=\"26\"></v-avatar>\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>{{ item.name }}</v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n        </div>\r\n\r\n        <v-divider></v-divider>\r\n        <div v-if=\"task_type === 0 && editing.element == null\" class=\"zoom-shortcuts\">\r\n          <v-btn text icon @click=\"selected_tool = 'polygon'\"\r\n                 :color=\"'polygon' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polygon</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon @click=\"selected_tool = 'rect'\"\r\n                 :color=\"'rect' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-rectangle</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'free'\"\r\n                 :color=\"'free' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-lead-pencil</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"selected_tool = 'brush'\"\r\n                 :color=\"'brush' === this.selected_tool ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-brush</v-icon>\r\n          </v-btn>\r\n        </div>\r\n\r\n        <div v-if=\"editing.element != null\" class=\"zoom-shortcuts\">\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'mover'\"\r\n                 :color=\"'mover' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-edit</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'eraser'\"\r\n                 :color=\"'eraser' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-minus</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'creator'\"\r\n                 :color=\"'creator' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-vector-polyline-plus</v-icon>\r\n          </v-btn>\r\n          <v-btn text icon\r\n                 @click=\"editing.mode = 'free'\"\r\n                 :color=\"'free' === editing.mode ? 'primary' : 'grey'\">\r\n            <v-icon>mdi-lead-pencil</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div v-if=\"state_restorer.showing\" class=\"tool-item\">\r\n        <v-slider step=\"1\" dense hide-details v-model=\"state_restorer.undo\" :max=\"state_restorer.max_undo\"\r\n                  label=\"Undo\"/>\r\n      </div>\r\n\r\n      <div class=\"tool-item\" v-if=\"info.length > 0\">\r\n        <p class=\"instruction-item\" v-for=\"instruction in info\">{{instruction}}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"toolbox navigation-toolbox\">\r\n      <v-slider hide-details thumb-label dense v-model=\"zoom\" :max=\"40\" min=\"0.5\" step=\"0\">\r\n        <template v-slot:thumb-label=\"{ value }\">\r\n          {{ value.toFixed(2) }}\r\n        </template>\r\n      </v-slider>\r\n      <div class=\"zoom-shortcuts\">\r\n        <v-btn text icon @click=\"zoom = 1\">1x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 2\">2x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 10\">10x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 20\">20x</v-btn>\r\n        <v-btn text icon @click=\"zoom = 40\">40x</v-btn>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import OpenSeadragon from \"openseadragon\"\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n\r\n    export default {\r\n        name: \"SliceViewer\",\r\n        computed: {\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                selected_label: null,\r\n                labeled_regions: [],\r\n                selected_tool: \"polygon\",\r\n                editor_tool: \"\",\r\n                zoom: 0,\r\n                editing: {\r\n                    element: null,\r\n                    mode: \"mover\",\r\n                },\r\n                state_restorer: {\r\n                    showing: false,\r\n                    undo: 0,\r\n                    max_undo: 0\r\n                },\r\n                info: []\r\n            }\r\n        },\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.labeled_regions = new_value\r\n                    SliceDrawer.annotations = new_value\r\n                    SliceDrawer.update()\r\n                }\r\n            },\r\n            task_type: {\r\n                immediate: true,\r\n                handler(new_value) {\r\n                    SliceDrawer.enabled = new_value === 0\r\n                }\r\n            },\r\n            labels: {\r\n                immediate: true,\r\n                handler: function (new_labels) {\r\n                    this.selected_label = new_labels[0]\r\n                }\r\n            },\r\n            labelsVisibility: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_visibility) {\r\n                    SliceDrawer.filtering = new_visibility\r\n                    SliceDrawer.update()\r\n                },\r\n            },\r\n            selected_label: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    SliceDrawer.current_label = new_value\r\n                    if (this.editing.element != null) {\r\n                        //this.editing.element.data.color = new_value.color\r\n                        SliceDrawer.update()\r\n                    }\r\n                }\r\n            },\r\n            selected_tool: function (tool) {\r\n                SliceDrawer.tool = tool\r\n            },\r\n            zoom: function (new_zoom) {\r\n                const viewer = this.viewer\r\n                if (viewer != null && !this.no_model_action) {\r\n                    viewer.viewport.zoomTo(new_zoom)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            regionOpacity: function (new_opacity) {\r\n                SliceDrawer.default_opacity = new_opacity\r\n                SliceDrawer.update()\r\n            },\r\n            \"editing.mode\": function (value) {\r\n                SliceDrawer.editorMode = value\r\n            },\r\n            \"state_restorer.undo\": function (value) {\r\n                if (!this.no_model_action) {\r\n                    SliceDrawer.stateRestorer.restoreToPoint(value)\r\n                }\r\n                this.no_model_action = false\r\n            },\r\n            tileSources: function (value) {\r\n                console.log(\"tileSources: \", value)\r\n                this.viewer.open(value)\r\n            }\r\n        },\r\n        methods: {\r\n            editElement(element) {\r\n                console.log(\"editElement\", element)\r\n                this.editing.element = element\r\n                this.no_model_action = true\r\n                SliceDrawer.editElement(element)\r\n            },\r\n            saveEdition(element) {\r\n                // this.editing.element = element\r\n                // this.no_model_action = true\r\n                SliceDrawer.concludeEdit()\r\n            },\r\n            cancelEdit() {\r\n                SliceDrawer.cancelEdit()\r\n            },\r\n        },\r\n        mounted() {\r\n            console.log(\"drawEvents:\", this.drawEvents)\r\n            this.$nextTick(() => {\r\n                const viewer = OpenSeadragon({\r\n                    id: \"seadragon-viewer\",\r\n                    tileSources: this.tileSources,\r\n                    showNavigator: true,\r\n                    navigatorPosition: \"BOTTOM_RIGHT\",\r\n                    navigatorRight: \"16px\",\r\n                    navigatorBottom: \"16px\",\r\n                    navigatorHeight: \"120px\",\r\n                    navigatorWidth: \"145px\",\r\n                    showNavigationControl: false,\r\n                    gestureSettingsMouse: {\r\n                        clickToZoom: false,\r\n                    },\r\n                })\r\n\r\n                const delegateCallback = (callback, ...args) => {\r\n                    if (callback != null) {\r\n                        callback(...args)\r\n                    }\r\n                }\r\n\r\n                this.viewer = viewer\r\n                SliceDrawer.init(viewer, {\r\n                    onHover: (element) => {\r\n                        delegateCallback(this.drawEvents.onHover, element)\r\n                        // if (this.drawEvents != null && this.drawEvents.onHover != null)\r\n                        //     this.drawEvents.onHover(element)\r\n                    },\r\n                    onLeave: (element) => {\r\n                        delegateCallback(this.drawEvents.onLeave, element)\r\n                    },\r\n                    onClick: (element) => {\r\n                        delegateCallback(this.drawEvents.onClick, element)\r\n                    },\r\n                    onStateRestorerEvent: (stateRestorer) => {\r\n                        this.no_model_action = true\r\n                        if (stateRestorer != null) {\r\n                            this.state_restorer.showing = true\r\n                            this.state_restorer.max_undo = stateRestorer.states.length - 1\r\n                            this.state_restorer.undo = stateRestorer.current_state_point\r\n                        } else {\r\n                            this.state_restorer.showing = false\r\n                        }\r\n                        delegateCallback(this.drawEvents.onStateRestorerEvent, stateRestorer)\r\n                    },\r\n                    onEditingEvent: () => {\r\n                        this.no_model_action = true\r\n                        const lastStateIndex = SliceDrawer.currently_editing.history.length - 1\r\n                        this.editing.max_undo = lastStateIndex\r\n                        this.editing.undo = lastStateIndex\r\n                        delegateCallback(this.drawEvents.onEditingEvent)\r\n                    },\r\n                    onFinishNewDrawing: (element) => {\r\n                        // Creating a new label object:\r\n                        this.$emit(\"new-draw\", {\r\n                            label: this.selected_label,\r\n                            geometry: element\r\n                        })\r\n                    },\r\n                    onInfoUpdate: (messages) => {\r\n                        this.info = messages\r\n                    },\r\n                    onFinishedEditing: (changed, element_data) => {\r\n                        if (changed) {\r\n                            console.log(\"data\", {\r\n                                ...this.editing.element,\r\n                                geometry: element_data\r\n                            })\r\n                            this.$emit(\"edit-draw\", {\r\n                                ...this.editing.element,\r\n                                geometry: element_data\r\n                            })\r\n                        }\r\n                        this.editing.element = null\r\n                        delegateCallback(this.drawEvents.onFinishedEditing, changed, element_data)\r\n                    }\r\n                })\r\n                this.viewer.addHandler(\"zoom\", (e) => {\r\n                    this.no_model_action = true // don't let the zoom listener take action\r\n                    this.zoom = e.zoom\r\n                })\r\n                this.no_model_action = false\r\n            })\r\n        },\r\n        props: {\r\n            drawer: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            labels: {type: Array},\r\n            value: {type: Array},\r\n            tileSources: {type: String},\r\n            labelsVisibility: {type: Object},\r\n            regionOpacity: {type: Number},\r\n            drawEvents: {}\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  #seadragon-viewer {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n  .toolbox {\r\n    position: absolute;\r\n    border-radius: 8px;\r\n    background-color: #f1f1f1;\r\n    padding: 8px;\r\n  }\r\n\r\n  .drawing-tool-container {\r\n    position: absolute;\r\n    left: 16px;\r\n    bottom: 16px;\r\n    height: 500px;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n  }\r\n\r\n  .tool-item {\r\n    flex-flow: column;\r\n    border-radius: 8px;\r\n    background-color: #f1f1f1;\r\n    padding: 8px;\r\n    margin-top: 4px;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  .instruction-item {\r\n    font-size: small;\r\n    font-weight: normal;\r\n    width: 100%;\r\n    margin: 0;\r\n  }\r\n\r\n  .drawing-toolbox {\r\n    bottom: 16px;\r\n    left: 32px;\r\n    /*-webkit-box-shadow: 0px 0px 19px -6px #000000;*/\r\n    /*box-shadow: 0px 0px 19px -6px #000000;*/\r\n  }\r\n\r\n  .state-toolbox {\r\n    left: 32px;\r\n    width: 150px;\r\n    bottom: 120px;\r\n  }\r\n\r\n  .navigation-toolbox {\r\n    width: 200px;\r\n    bottom: 16px;\r\n    margin: 0 auto;\r\n    left: calc(50% - 100px);\r\n  }\r\n\r\n  .zoom-shortcuts {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SliceViewer.vue?vue&type=template&id=33a88fa5&scoped=true&\"\nimport script from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./SliceViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SliceViewer.vue?vue&type=style&index=0&id=33a88fa5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33a88fa5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAvatar,VBtn,VDivider,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemTitle,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view',{attrs:{\"name\":\"app_bar\"}}),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"\\n        Welcome to Vuetify\\n      \")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\"\\n        For help and collaboration with other Vuetify developers,\\n        \"),_c('br'),_vm._v(\"please join our online\\n        \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        What's next?\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(next.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Important Links\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(link.text)+\"\\n        \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"\\n        Ecosystem\\n      \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\"\\n          \"+_vm._s(eco.text)+\"\\n        \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col cols=\"12\">\n        <v-img\n          :src=\"require('../assets/logo.svg')\"\n          class=\"my-3\"\n          contain\n          height=\"200\"\n        />\n      </v-col>\n\n      <v-col class=\"mb-4\">\n        <h1 class=\"display-2 font-weight-bold mb-3\">\n          Welcome to Vuetify\n        </h1>\n\n        <p class=\"subheading font-weight-regular\">\n          For help and collaboration with other Vuetify developers,\n          <br>please join our online\n          <a\n            href=\"https://community.vuetifyjs.com\"\n            target=\"_blank\"\n          >Discord Community</a>\n        </p>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          What's next?\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(next, i) in whatsNext\"\n            :key=\"i\"\n            :href=\"next.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ next.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Important Links\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(link, i) in importantLinks\"\n            :key=\"i\"\n            :href=\"link.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ link.text }}\n          </a>\n        </v-row>\n      </v-col>\n\n      <v-col\n        class=\"mb-5\"\n        cols=\"12\"\n      >\n        <h2 class=\"headline font-weight-bold mb-3\">\n          Ecosystem\n        </h2>\n\n        <v-row justify=\"center\">\n          <a\n            v-for=\"(eco, i) in ecosystem\"\n            :key=\"i\"\n            :href=\"eco.href\"\n            class=\"subheading mx-3\"\n            target=\"_blank\"\n          >\n            {{ eco.text }}\n          </a>\n        </v-row>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  export default {\n    name: 'HelloWorld',\n\n    data: () => ({\n      ecosystem: [\n        {\n          text: 'vuetify-loader',\n          href: 'https://github.com/vuetifyjs/vuetify-loader',\n        },\n        {\n          text: 'github',\n          href: 'https://github.com/vuetifyjs/vuetify',\n        },\n        {\n          text: 'awesome-vuetify',\n          href: 'https://github.com/vuetifyjs/awesome-vuetify',\n        },\n      ],\n      importantLinks: [\n        {\n          text: 'Documentation',\n          href: 'https://vuetifyjs.com',\n        },\n        {\n          text: 'Chat',\n          href: 'https://community.vuetifyjs.com',\n        },\n        {\n          text: 'Made with Vuetify',\n          href: 'https://madewithvuejs.com/vuetify',\n        },\n        {\n          text: 'Twitter',\n          href: 'https://twitter.com/vuetifyjs',\n        },\n        {\n          text: 'Articles',\n          href: 'https://medium.com/vuetify',\n        },\n      ],\n      whatsNext: [\n        {\n          text: 'Explore components',\n          href: 'https://vuetifyjs.com/components/api-explorer',\n        },\n        {\n          text: 'Select a layout',\n          href: 'https://vuetifyjs.com/getting-started/pre-made-layouts',\n        },\n        {\n          text: 'Frequently Asked Questions',\n          href: 'https://vuetifyjs.com/getting-started/frequently-asked-questions',\n        },\n      ],\n    }),\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=023580a6&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","<template>\n    <v-app>\n        <router-view name=\"app_bar\"></router-view>\n        <v-main>\n            <router-view></router-view>\n        </v-main>\n    </v-app>\n</template>\n\n<script>\n    import HelloWorld from './components/HelloWorld';\n\n    export default {\n        name: 'App',\n\n        components: {\n            HelloWorld,\n        },\n\n        data: () => ({\n            //\n        }),\n    };\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=58529bc6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        session: null,\n        user: null,\n        token: null,\n    },\n    mutations: {\n        set_session(state, session) {\n            state.session = session\n        },\n\n        login(state, login_data) {\n            state.token = login_data.token\n            state.user = login_data.user\n        }\n    },\n    actions: {}\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/logo.png\")}}),_c('HelloWorld',{attrs:{\"msg\":\"Welcome to Your Vue.js App\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport HelloWorld from '@/components/HelloWorld.vue'\n\nexport default {\n  name: 'home',\n  components: {\n    HelloWorld\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=59ba5f92&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h4',[_vm._v(\"Annotations\")]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.tasks.annotations),function(task,idx){return _c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',{staticClass:\"ma-2\"},[_c('v-card-text',[_c('div',[_vm._v(_vm._s(task.project.name))]),(task.name != null && task.name !== '')?_c('div',[_c('p',{staticClass:\"text-h5 text--primary ma-0\"},[(task.completed)?_c('v-icon',[_vm._v(\"mdi-check\")]):_vm._e(),_vm._v(\"\\n              \"+_vm._s(task.name)+\"\\n            \")],1),_c('p',[_vm._v(_vm._s(_vm.task_types[task.type]))])]):_c('div',[_c('p',{staticClass:\"text-h5 text--primary\"},[(task.completed)?_c('v-icon',[_vm._v(\"mdi-check\")]):_vm._e(),_vm._v(\"\\n              \"+_vm._s(_vm.task_types[task.type])+\"\\n            \")],1)]),_c('div',[_c('v-chip-group',_vm._l((task.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"}},[_vm._v(_vm._s(slide.name))])}),1)],1)]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"block\":\"\",\"color\":\"primary accent-3\"},on:{\"click\":function($event){return _vm.start_task(task)}}},[_vm._v(\"\\n            Continue\\n          \")])],1)],1)],1)}),1),_c('h4',[_vm._v(\"Revisions\")]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.tasks.review),function(task,idx){return _c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',{staticClass:\"ma-2\"},[_c('v-card-text',[_c('div',[_vm._v(_vm._s(task.project.name))]),(task.name != null && task.name !== '')?_c('div',[_c('p',{staticClass:\"text-h5 text--primary ma-0\"},[(task.completed)?_c('v-icon',[_vm._v(\"mdi-check\")]):_vm._e(),_vm._v(\"\\n              \"+_vm._s(task.name)+\"\\n            \")],1),_c('p',[_vm._v(_vm._s(_vm.task_types[task.type]))])]):_c('div',[_c('p',{staticClass:\"text-h5 text--primary\"},[(task.completed)?_c('v-icon',[_vm._v(\"mdi-check\")]):_vm._e(),_vm._v(\"\\n              \"+_vm._s(_vm.task_types[task.type])+\"\\n            \")],1)]),_c('div',[_c('v-chip-group',_vm._l((task.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"}},[_vm._v(_vm._s(slide.id))])}),1)],1)]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"block\":\"\",\"color\":\"primary accent-3\"},on:{\"click\":function($event){return _vm.start_task(task)}}},[_vm._v(\"\\n            Continue\\n          \")])],1)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <h4>Annotations</h4>\r\n    <v-layout row wrap>\r\n      <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(task, idx) in tasks.annotations\">\r\n        <v-card class=\"ma-2\">\r\n          <v-card-text>\r\n            <div>{{task.project.name}}</div>\r\n            <div v-if=\"task.name != null && task.name !== ''\">\r\n              <p class=\"text-h5 text--primary ma-0\">\r\n                <v-icon v-if=\"task.completed\">mdi-check</v-icon>\r\n                {{task.name}}\r\n              </p>\r\n              <p>{{task_types[task.type]}}</p>\r\n            </div>\r\n            <div v-else>\r\n              <p class=\"text-h5 text--primary\">\r\n                <v-icon v-if=\"task.completed\">mdi-check</v-icon>\r\n                {{task_types[task.type]}}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <v-chip-group>\r\n                <v-chip style=\"pointer-events: none;\" v-for=\"slide in task.slides\">{{slide.name}}</v-chip>\r\n              </v-chip-group>\r\n            </div>\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text block color=\"primary accent-3\" @click=\"start_task(task)\">\r\n              Continue\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n    <h4>Revisions</h4>\r\n    <v-layout row wrap>\r\n      <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(task, idx) in tasks.review\">\r\n        <v-card class=\"ma-2\">\r\n          <v-card-text>\r\n            <div>{{task.project.name}}</div>\r\n            <div v-if=\"task.name != null && task.name !== ''\">\r\n              <p class=\"text-h5 text--primary ma-0\">\r\n                <v-icon v-if=\"task.completed\">mdi-check</v-icon>\r\n                {{task.name}}\r\n              </p>\r\n              <p>{{task_types[task.type]}}</p>\r\n            </div>\r\n            <div v-else>\r\n              <p class=\"text-h5 text--primary\">\r\n                <v-icon v-if=\"task.completed\">mdi-check</v-icon>\r\n                {{task_types[task.type]}}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <v-chip-group>\r\n                <v-chip style=\"pointer-events: none;\" v-for=\"slide in task.slides\">{{slide.id}}</v-chip>\r\n              </v-chip-group>\r\n            </div>\r\n          </v-card-text>\r\n          <v-divider></v-divider>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text block color=\"primary accent-3\" @click=\"start_task(task)\">\r\n              Continue\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Tasks\",\r\n        data: () => {\r\n            return {\r\n                tasks: {},\r\n                task_types: [\r\n                    \"Annotate images\",\r\n                    \"Review annotations\"\r\n                ]\r\n            }\r\n        },\r\n        methods: {\r\n            start_task(task) {\r\n                this.$post(\"session/create\", task)\r\n                    .then(resp => {\r\n                        this.$store.commit(\"set_session\", resp)\r\n                        this.$router.push(\"/session/\" + resp.id)\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            loadTasks() {\r\n                this.$get(\"task/list\")\r\n                    .then(resp => this.tasks = resp)\r\n                    .catch(err => alert(err))\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadTasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=8b7358fe&scoped=true&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b7358fe\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VChip,VChipGroup,VContainer,VDivider,VFlex,VIcon,VLayout,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"overflow\":\"hidden\"}},[_c('slice-viewer',{ref:\"slice_viewer\",attrs:{\"drawer\":!_vm.session.completed,\"tile-sources\":_vm.tile_sources,\"labels\":_vm.project_labels,\"labels-visibility\":_vm.labels_visible,\"region-opacity\":_vm.region_opacity,\"draw-events\":_vm.draw_events},on:{\"region-clicked\":_vm.regionClicked,\"new-draw\":_vm.onNewRegionDraw,\"edit-draw\":_vm.onEditRegionDraw},model:{value:(_vm.labelled[_vm.current_slide]),callback:function ($$v) {_vm.$set(_vm.labelled, _vm.current_slide, $$v)},expression:\"labelled[current_slide]\"}}),_c('side-window',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"fixed\":\"\",\"color\":\"grey lighten-4\"},scopedSlots:_vm._u([{key:\"extension\",fn:function(){return [_c('v-tabs',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab',[_vm._v(\"View\")]),_c('v-tab',[_vm._v(\"Annotations (\"+_vm._s(_vm.labelled[_vm.current_slide].length)+\")\")])],1)]},proxy:true}])},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.task_type === 0 ? \"Labelling task\" : \"Review task\"))])],1),_c('v-tabs-items',{model:{value:(_vm.selected_tab),callback:function ($$v) {_vm.selected_tab=$$v},expression:\"selected_tab\"}},[_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Region visibility by label\")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\",staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.project_labels),function(label){return _c('v-switch',{key:label.id,staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"dense\":\"\",\"label\":label.name,\"color\":_vm.genColor(label.color)},model:{value:(_vm.labels_visible[label.name]),callback:function ($$v) {_vm.$set(_vm.labels_visible, label.name, $$v)},expression:\"labels_visible[label.name]\"}})}),1),_c('v-divider'),_c('v-slider',{staticClass:\"pl-2 pr-2\",attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-circle-opacity\",\"step\":\"0\",\"thumb-label\":\"\",\"min\":\"0.0\",\"max\":\"1\"},scopedSlots:_vm._u([{key:\"thumb-label\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\"\\n                    \"+_vm._s(value.toFixed(2))+\"\\n                  \")]}}]),model:{value:(_vm.region_opacity),callback:function ($$v) {_vm.region_opacity=$$v},expression:\"region_opacity\"}})],1)],1),(_vm.slides.length > 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task slides\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"There is more than one slide\\n                  associated with this task. Select the slide you want to work with below.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-radio-group',{attrs:{\"hide-details\":\"\"},model:{value:(_vm.current_slide),callback:function ($$v) {_vm.current_slide=$$v},expression:\"current_slide\"}},_vm._l((_vm.slides),function(slide){return _c('v-radio',{attrs:{\"value\":slide.id,\"label\":slide.name}})}),1)],1)])],1):_vm._e(),_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Task status\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Once you feel you are done with\\n                  task you may mark it as completed.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('v-switch',{attrs:{\"label\":\"Task completed\"},model:{value:(_vm.session.completed),callback:function ($$v) {_vm.$set(_vm.session, \"completed\", $$v)},expression:\"session.completed\"}})],1)])],1),(_vm.task_type === 1)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Annotations to review\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"List of user's annotations for\\n                  this task that must be reviewed. Select the user's annotations you want to review at this time.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},_vm._l((_vm.revisions),function(item){return _c('v-switch',{attrs:{\"label\":item.user},model:{value:(_vm.revision_enabled[item.id]),callback:function ($$v) {_vm.$set(_vm.revision_enabled, item.id, $$v)},expression:\"revision_enabled[item.id]\"}})}),1)])],1):_vm._e(),(_vm.task_type === 0)?_c('v-flex',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('div',{staticClass:\"pa-3 pb-0 text-h6 text--primary\"},[_vm._v(\"Import annotations\")]),_c('div',{staticClass:\"pl-3 pr-3 text-center font-weight-thin card-description\"},[_vm._v(\"Select a geojson file to import\\n                  its annotations to the currently selected slide.\\n                \")]),_c('div',{staticClass:\"pl-3 pr-3 pb-3\"},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"file-importer-input\",\"type\":\"file\"}}),_c('v-btn',{attrs:{\"block\":\"\",\"text\":\"\"},on:{\"click\":_vm.importAnnotations}},[_vm._v(\"Select file\")])],1)])],1):_vm._e()],1)],1)],1),_c('v-tab-item',[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.labelled[_vm.current_slide]),function(region,idx){return _c('v-flex',{key:region.id,attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"6\"}},[_c('annotation-card',{key:idx,attrs:{\"editing\":_vm.editing},on:{\"save-region\":_vm.saveEdition,\"edit-region\":_vm.editRegion,\"cancel-edit\":_vm.cancelEdit,\"annotation-feedback\":_vm.annotationFeedback,\"import-annotation\":_vm.onNewRegionDraw,\"dismiss-annotation\":_vm.dismissAnnotation},model:{value:(_vm.labelled[_vm.current_slide][idx]),callback:function ($$v) {_vm.$set(_vm.labelled[_vm.current_slide], idx, $$v)},expression:\"labelled[current_slide][idx]\"}})],1)}),1)],1)],1)],1)],1),(_vm.feedback_dialog)?_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.feedback_dialog),callback:function ($$v) {_vm.feedback_dialog=$$v},expression:\"feedback_dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 grey lighten-2\"},[_vm._v(\"\\n        Annotation label feedback\\n      \")]),_c('v-card-text',[_c('div',{staticClass:\"text-center font-weight-light\"},[_vm._v(\"What is the correct label?\")]),_c('v-chip-group',{attrs:{\"mandatory\":\"\"},model:{value:(_vm.editing.feedback.label_id),callback:function ($$v) {_vm.$set(_vm.editing.feedback, \"label_id\", $$v)},expression:\"editing.feedback.label_id\"}},_vm._l((_vm.project_labels),function(label){return _c('v-chip',{attrs:{\"filter\":\"\",\"value\":label.id}},[_vm._v(_vm._s(label.name))])}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.relabelScreenContinue}},[_vm._v(\"Continue\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{ref:\"side_window\",attrs:{\"app\":\"\",\"right\":\"\",\"width\":_vm.width},model:{value:(_vm.shown),callback:function ($$v) {_vm.shown=$$v},expression:\"shown\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-navigation-drawer ref=\"side_window\" app right :width=\"width\" v-model=\"shown\">\r\n    <slot></slot>\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SideWindow\",\r\n        data: () => {\r\n            return {\r\n                width: 300,\r\n                shown: true,\r\n                borderSize: 3\r\n            }\r\n        },\r\n        methods: {\r\n            setBorderWidth() {\r\n                let i = this.$refs.side_window.$el.querySelector(\r\n                    \".v-navigation-drawer__border\"\r\n                );\r\n                i.style.width = this.borderSize + \"px\";\r\n                i.style.cursor = \"ew-resize\";\r\n            },\r\n            setEvents() {\r\n                const minSize = this.borderSize + 300\r\n                const el = this.$refs.side_window.$el\r\n                const drawerBorder = el.querySelector(\".v-navigation-drawer__border\")\r\n                const vm = this;\r\n                const direction = el.classList.contains(\"v-navigation-drawer--right\")\r\n                    ? \"right\"\r\n                    : \"left\";\r\n\r\n                function resize(e) {\r\n                    document.body.style.cursor = \"ew-resize\"\r\n                    let f = direction === \"right\"\r\n                        ? document.body.scrollWidth - e.clientX\r\n                        : e.clientX\r\n                    el.style.width = f + \"px\"\r\n                }\r\n\r\n                drawerBorder.addEventListener(\r\n                    \"mousedown\",\r\n                    function (e) {\r\n                        if (e.offsetX < minSize) {\r\n                            // m_pos = e.x;\r\n                            el.style.transition = 'initial';\r\n                            document.addEventListener(\"mousemove\", resize, false);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n\r\n                document.addEventListener(\r\n                    \"mouseup\",\r\n                    function () {\r\n                        el.style.transition = '';\r\n                        vm.width = el.style.width;\r\n                        document.body.style.cursor = \"\";\r\n                        document.removeEventListener(\"mousemove\", resize, false);\r\n                    },\r\n                    false\r\n                );\r\n            }\r\n        },\r\n        mounted() {\r\n            this.setBorderWidth()\r\n            this.setEvents()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .custom-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    float: left;\r\n\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideWindow.vue?vue&type=template&id=a324ad62&scoped=true&\"\nimport script from \"./SideWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./SideWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a324ad62\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"id\":(\"region-\" + (_vm.value.id)),\"min-width\":\"200\",\"outlined\":\"\"},on:{\"click\":_vm.peep}},[_c('v-card-title',[_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"16\",\"color\":_vm.genColor(_vm.value.label.color)},on:{\"click\":_vm.peep}}),_vm._v(\"\\n    \"+_vm._s(_vm.value.label.name)+\"\\n  \")],1),(_vm.updating_label)?_c('v-card-text',[(_vm.value.meta.importing != null)?_c('span',{staticClass:\"importing-pending-warning\"},[_vm._v(\"Pending import\")]):_vm._e(),_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"column\":\"\"},on:{\"change\":_vm.updateRender},model:{value:(_vm.value.label),callback:function ($$v) {_vm.$set(_vm.value, \"label\", $$v)},expression:\"value.label\"}},_vm._l((_vm.project_labels),function(label){return _c('v-chip',{attrs:{\"filter\":\"\",\"value\":label}},[_vm._v(\"\\n        \"+_vm._s(label.name)+\"\\n      \")])}),1)],1):_vm._e(),(_vm.task_type === 1 && _vm.value.feedback.id != null)?_c('v-card-text',[(_vm.value.feedback.feedback === 0)?_c('div',[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\"\\n      Correct annotation\\n    \")],1):_c('div',[_c('p',{staticClass:\"ma-0\"},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\"\\n        \"+_vm._s(_vm.feedback[_vm.value.feedback.feedback])+\"\\n      \")],1),_c('p',{staticClass:\"ma-0\"},[_vm._v(\"Correct label:\\n        \"),_c('v-avatar',{staticClass:\"mr-2\",attrs:{\"size\":\"16\",\"color\":_vm.genColor(_vm.project_labels[_vm.value.feedback.label_id].color)}}),_vm._v(\"\\n        \"+_vm._s(_vm.project_labels[_vm.value.feedback.label_id].name)+\"\\n      \")],1),(_vm.value.feedback.geometry != null && !_vm.undoing_feedback)?_c('p',{staticClass:\"ma-0\"},[_c('a',{on:{\"click\":_vm.swapDrawings}},[_vm._v(\"Checkout\\n        \"+_vm._s(_vm.drawing_swapped ? 'original' : 'expected')+\" region\")])]):_vm._e()])]):_vm._e(),_c('v-divider'),(_vm.task_type === 0)?_c('v-card-actions',[_c('v-spacer'),(_vm.value.meta.importing != null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dismissAnnotation.apply(null, arguments)}}},[_vm._v(\"Dismiss\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.importAnnotation.apply(null, arguments)}}},[_vm._v(\"Import\")])],1):(_vm.editing !== _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.dismissAnnotation}},[_vm._v(\"Remove\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.editRegion(_vm.value)}}},[_vm._v(\"Edit\")])],1):(_vm.editing === _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.saveRegion(_vm.value)}}},[_vm._v(\"Save\")])],1):_vm._e()],1):(_vm.task_type === 1)?_c('v-card-actions',[_c('v-spacer'),((_vm.value.feedback.id == null && _vm.editing !== _vm.value) || _vm.undoing_feedback)?_c('div',[_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Incorrect\")])]}}],null,false,4214225949)},[_c('v-list',_vm._l((_vm.incorrect_options),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":item.func}},[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)}),1)],1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.feedbackCorrect}},[_vm._v(\"Correct\")])],1):(_vm.editing === _vm.value)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.saveRegion(_vm.value)}}},[_vm._v(\"Save\")])],1):(_vm.value.feedback.id != null)?_c('div',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.undo}},[_vm._v(\"Undo\")])],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card @click=\"peep\" :id=\"`region-${value.id}`\" min-width=\"200\" outlined>\r\n    <v-card-title>\r\n      <v-avatar size=\"16\" class=\"mr-2\"\r\n                :color=\"genColor(value.label.color)\" @click=\"peep\"/>\r\n      {{value.label.name}}\r\n    </v-card-title>\r\n\r\n    <v-card-text v-if=\"updating_label\">\r\n      <span v-if=\"value.meta.importing != null\" class=\"importing-pending-warning\">Pending import</span>\r\n      <v-chip-group v-model=\"value.label\" mandatory column @change=\"updateRender\">\r\n        <v-chip v-for=\"label in project_labels\" filter :value=\"label\">\r\n          {{label.name}}\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-text>\r\n    <v-card-text v-if=\"task_type === 1 && value.feedback.id != null\">\r\n      <div v-if=\"value.feedback.feedback === 0\">\r\n        <v-icon>mdi-check</v-icon>\r\n        Correct annotation\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"ma-0\">\r\n          <v-icon>mdi-check</v-icon>\r\n          {{feedback[value.feedback.feedback]}}\r\n        </p>\r\n        <p class=\"ma-0\">Correct label:\r\n          <v-avatar size=\"16\" class=\"mr-2\" :color=\"genColor(project_labels[value.feedback.label_id].color)\"/>\r\n          {{project_labels[value.feedback.label_id].name}}\r\n        </p>\r\n        <p class=\"ma-0\" v-if=\"value.feedback.geometry != null && !undoing_feedback\"><a @click=\"swapDrawings\">Checkout\r\n          {{drawing_swapped ? 'original' : 'expected'}} region</a></p>\r\n      </div>\r\n    </v-card-text>\r\n    <v-divider/>\r\n    <v-card-actions v-if=\"task_type === 0\">\r\n      <v-spacer/>\r\n      <div v-if=\"value.meta.importing != null\">\r\n        <v-btn text @click.prevent=\"dismissAnnotation\">Dismiss</v-btn>\r\n        <v-btn text @click.prevent=\"importAnnotation\">Import</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing !== value\">\r\n        <v-btn text @click=\"dismissAnnotation\">Remove</v-btn>\r\n        <v-btn text @click=\"editRegion(value)\">Edit</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing === value\">\r\n        <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n        <v-btn text @click=\"saveRegion(value)\">Save</v-btn>\r\n      </div>\r\n    </v-card-actions>\r\n    <v-card-actions v-else-if=\"task_type === 1\">\r\n      <v-spacer/>\r\n      <div v-if=\"(value.feedback.id == null && editing !== value) || undoing_feedback\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn text v-bind=\"attrs\" v-on=\"on\">Incorrect</v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item v-for=\"(item, index) in incorrect_options\" :key=\"index\" @click=\"item.func\">\r\n              <v-list-item-title>{{ item.text }}</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n        <v-btn text @click=\"feedbackCorrect\">Correct</v-btn>\r\n      </div>\r\n      <div v-else-if=\"editing === value\">\r\n        <v-btn text @click=\"cancelEdit\">Cancel</v-btn>\r\n        <v-btn text @click=\"saveRegion(value)\">Save</v-btn>\r\n      </div>\r\n      <div v-else-if=\"value.feedback.id != null\">\r\n        <v-btn text @click=\"undo\">Undo</v-btn>\r\n      </div>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n\r\n    export default {\r\n        name: \"AnnotationCard\",\r\n        computed: {\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            },\r\n            project_labels: function () {\r\n                const labels = {}\r\n                const data = this.$store.state.session.task.project.labels\r\n                for (let i = 0; i < data.length; i++) {\r\n                    labels[data[i].id] = data[i]\r\n                }\r\n                return labels\r\n            }\r\n        },\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler(new_value) {\r\n                    this.original_label = _.cloneDeep(new_value.label)\r\n                    if (new_value.meta.importing != null) {\r\n                        // If this annotation is imported, we immediately allow to update its label\r\n                        this.updating_label = true\r\n                    }\r\n                }\r\n            },\r\n            editing: {\r\n                handler(new_value) {\r\n                    // if the editing value is null, then we know we can disable the label update\r\n                    if (new_value == null && this.value.meta.importing == null)\r\n                        this.updating_label = false\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                drawing_swapped: false,\r\n                originalRegion: null,\r\n                undoing_feedback: false,\r\n                updating_label: false,\r\n                incorrect_options: [\r\n                    {text: \"Wrong label\", func: this.feedbackWrongLabel},\r\n                    {text: \"Wrong region\", func: this.feedbackWrongRegion},\r\n                ],\r\n                feedback: [\r\n                    \"Correct\",\r\n                    \"Wrong label\",\r\n                    \"Wrong region\"\r\n                ]\r\n            }\r\n        },\r\n        methods: {\r\n            updateRender() {\r\n                SliceDrawer.update()\r\n            },\r\n            peep() {\r\n                SliceDrawer.peep(this.value)\r\n            },\r\n            undo() {\r\n                if (this.drawing_swapped) {\r\n                    this.swapDrawings()\r\n                }\r\n                this.undoing_feedback = true\r\n            },\r\n            swapDrawings() {\r\n                console.log(\"swaping\")\r\n                if (!this.drawing_swapped) {\r\n                    this.originalRegion = this.value.geometry\r\n                    this.value.geometry = this.value.feedback.geometry\r\n                } else {\r\n                    this.value.geometry = this.originalRegion\r\n                }\r\n                this.drawing_swapped = !this.drawing_swapped\r\n                SliceDrawer.update()\r\n            },\r\n            genColor(color) {\r\n                return `rgb(${color[0]},${color[1]},${color[2]})`\r\n            },\r\n\r\n            feedbackWrongLabel() {\r\n                console.log(\"The label is wrong\")\r\n                this.undoing_feedback = false\r\n                this.$emit(\"annotation-feedback\", \"wrong-label\", this.value)\r\n            },\r\n            feedbackWrongRegion() {\r\n                if (this.drawing_swapped) {\r\n                    // If the drawing was swapped, we swap them back\r\n                    this.value.geometry = this.originalRegion\r\n                    this.drawing_swapped = false\r\n                }\r\n                this.$emit(\"annotation-feedback\", \"wrong-region\", this.value)\r\n                this.undoing_feedback = false\r\n            },\r\n            feedbackCorrect() {\r\n                this.$emit(\"annotation-feedback\", \"correct\", this.value)\r\n                this.undoing_feedback = false\r\n            },\r\n\r\n            editRegion(region) {\r\n                this.updating_label = true\r\n                this.$emit(\"edit-region\", region)\r\n            },\r\n            saveRegion(region) {\r\n                this.updating_label = false\r\n                this.$emit(\"save-region\", region)\r\n            },\r\n            cancelEdit() {\r\n                this.updating_label = false\r\n                this.$emit(\"cancel-edit\")\r\n            },\r\n            importAnnotation() {\r\n                this.updating_label = false\r\n                this.$emit(\"import-annotation\", this.value)\r\n            },\r\n            dismissAnnotation() {\r\n                this.updating_label = false\r\n                this.$emit(\"dismiss-annotation\", this.value)\r\n            }\r\n        },\r\n        props: [\"editing\", \"value\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .importing-pending-warning {\r\n    background-color: #ff6f00;\r\n    padding: 0 10px;\r\n    border-radius: 10px;\r\n    font-size: 12px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationCard.vue?vue&type=template&id=3000dac8&scoped=true&\"\nimport script from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationCard.vue?vue&type=style&index=0&id=3000dac8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3000dac8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VDivider,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer})\n","<template>\r\n  <v-container style=\"overflow: hidden\">\r\n    <slice-viewer\r\n            ref=\"slice_viewer\"\r\n            :drawer=\"!session.completed\"\r\n            :tile-sources=\"tile_sources\"\r\n            :labels=\"project_labels\"\r\n            :labels-visibility=\"labels_visible\"\r\n            :region-opacity=\"region_opacity\"\r\n            :draw-events=\"draw_events\"\r\n            v-model=\"labelled[current_slide]\"\r\n            v-on:region-clicked=\"regionClicked\"\r\n            v-on:new-draw=\"onNewRegionDraw\"\r\n            v-on:edit-draw=\"onEditRegionDraw\"/>\r\n    <side-window>\r\n      <v-toolbar dense fixed color=\"grey lighten-4\">\r\n        <v-toolbar-title>{{task_type === 0 ? \"Labelling task\" : \"Review task\"}}</v-toolbar-title>\r\n        <template v-slot:extension>\r\n          <v-tabs v-model=\"selected_tab\">\r\n            <v-tab>View</v-tab>\r\n            <v-tab>Annotations ({{labelled[current_slide].length}})</v-tab>\r\n          </v-tabs>\r\n        </template>\r\n      </v-toolbar>\r\n\r\n      <v-tabs-items v-model=\"selected_tab\">\r\n        <v-tab-item>\r\n          <!-- Controls tab -->\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <v-card-title>Region visibility by label</v-card-title>\r\n                  <div class=\"pl-3 pr-3 pb-3\" style=\"max-height: 200px; overflow-y: auto\">\r\n                    <v-switch\r\n                            class=\"mt-0\"\r\n                            hide-details dense\r\n                            v-for=\"label in project_labels\"\r\n                            :key=\"label.id\"\r\n                            v-model=\"labels_visible[label.name]\"\r\n                            :label=\"label.name\"\r\n                            :color=\"genColor(label.color)\"/>\r\n                  </div>\r\n                  <v-divider></v-divider>\r\n                  <v-slider hide-details class=\"pl-2 pr-2\"\r\n                            prepend-icon=\"mdi-circle-opacity\"\r\n                            v-model=\"region_opacity\"\r\n                            step=\"0\"\r\n                            thumb-label\r\n                            min=\"0.0\" max=\"1\">\r\n                    <template v-slot:thumb-label=\"{ value }\">\r\n                      {{ value.toFixed(2) }}\r\n                    </template>\r\n                  </v-slider>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"slides.length > 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task slides</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">There is more than one slide\r\n                    associated with this task. Select the slide you want to work with below.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-radio-group hide-details v-model=\"current_slide\">\r\n                      <v-radio v-for=\"slide in slides\" :value=\"slide.id\" :label=\"slide.name\"/>\r\n                    </v-radio-group>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Task status</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Once you feel you are done with\r\n                    task you may mark it as completed.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch v-model=\"session.completed\" label=\"Task completed\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"task_type === 1\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Annotations to review</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">List of user's annotations for\r\n                    this task that must be reviewed. Select the user's annotations you want to review at this time.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <v-switch v-for=\"item in revisions\" :label=\"item.user\" v-model=\"revision_enabled[item.id]\"/>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-if=\"task_type === 0\">\r\n                <v-card>\r\n                  <div class=\"pa-3 pb-0 text-h6 text--primary\">Import annotations</div>\r\n                  <div class=\"pl-3 pr-3 text-center font-weight-thin card-description\">Select a geojson file to import\r\n                    its annotations to the currently selected slide.\r\n                  </div>\r\n                  <div class=\"pl-3 pr-3 pb-3\">\r\n                    <input id=\"file-importer-input\" type=\"file\" style=\"display: none\">\r\n                    <v-btn @click=\"importAnnotations\" block text>Select file</v-btn>\r\n                  </div>\r\n                </v-card>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-container fluid grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex cols=\"12\" sm=\"12\" md=\"6\" v-for=\"(region, idx) in labelled[current_slide]\" :key=\"region.id\">\r\n                <annotation-card\r\n                        v-model=\"labelled[current_slide][idx]\" :key=\"idx\"\r\n                        :editing=\"editing\"\r\n                        v-on:save-region=\"saveEdition\"\r\n                        v-on:edit-region=\"editRegion\"\r\n                        v-on:cancel-edit=\"cancelEdit\"\r\n                        v-on:annotation-feedback=\"annotationFeedback\"\r\n                        v-on:import-annotation=\"onNewRegionDraw\"\r\n                        v-on:dismiss-annotation=\"dismissAnnotation\"/>\r\n              </v-flex>\r\n            </v-layout>\r\n            <!--            <v-btn fab @click=\"stressTest\"></v-btn>-->\r\n          </v-container>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n\r\n    </side-window>\r\n    <v-dialog v-if=\"feedback_dialog\" v-model=\"feedback_dialog\" width=\"500\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5 grey lighten-2\">\r\n          Annotation label feedback\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <div class=\"text-center font-weight-light\">What is the correct label?</div>\r\n          <v-chip-group v-model=\"editing.feedback.label_id\" mandatory>\r\n            <v-chip filter v-for=\"label in project_labels\" :value=\"label.id\">{{label.name}}</v-chip>\r\n          </v-chip-group>\r\n        </v-card-text>\r\n        <v-divider/>\r\n        <v-card-actions>\r\n          <v-spacer/>\r\n          <v-btn text @click=\"relabelScreenContinue\">Continue</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n    import SliceViewer from \"../components/SliceViewer\";\r\n    import SideWindow from \"../components/SideWindow\";\r\n    import AnnotationCard from \"../components/AnnotationCard\";\r\n    import SliceDrawer from \"../SliceDrawer\";\r\n    import {optimizePath} from \"../SliceDrawer\"\r\n\r\n    export default {\r\n        name: \"Session\",\r\n        computed: {\r\n            session_id: function () {\r\n                return this.$route.params.session_id\r\n            },\r\n            tile_sources: function () {\r\n                return `${process.env.VUE_APP_BASE_URL}session/${this.session_id}/${this.current_slide}.dzi`\r\n            },\r\n            project_labels: function () {\r\n                return this.$store.state.session.task.project.labels\r\n            },\r\n            session: function () {\r\n                return this.$store.state.session\r\n            },\r\n            slides: function () {\r\n                const session = this.$store.state.session\r\n                console.log(session)\r\n                return session.type === 0 ? session.task.slides : session.task.task.slides\r\n            },\r\n            revisions: function () {\r\n                const revision = []\r\n                const revisionMeta = this.$store.state.session.task.revisions\r\n                const revisionData = this.$store.state.session.revision\r\n                for (let i = 0; i < revisionMeta.length; i++) {\r\n                    revision.push({\r\n                        \"id\": revisionMeta[i].id,\r\n                        \"user\": revisionMeta[i].user.name,\r\n                        \"annotations\": revisionData[revisionMeta[i].id],\r\n                        \"selected\": false\r\n                    })\r\n                }\r\n                return revision\r\n            },\r\n            task_type: function () {\r\n                return this.$store.state.session.type\r\n            }\r\n        },\r\n        watch: {\r\n            session: {\r\n                immediate: true,\r\n                handler: function (session) {\r\n                    if (session.task.type === 0) {\r\n                        this.labelled = session.labelled\r\n                        this.current_slide = session.task.slides[0].id\r\n                    } else {\r\n                        this.labelled = []\r\n                        this.current_slide = session.task.task.slides[0].id\r\n                    }\r\n                }\r\n            },\r\n            project_labels: {\r\n                immediate: true,\r\n                deep: true,\r\n                handler: function (new_labels) {\r\n                    console.log(\"project_labels watcher\", new_labels)\r\n                    for (let i = 0; i < new_labels.length; i++) {\r\n                        this.$set(this.labels_visible, new_labels[i].name, true)\r\n                        // this.labels_visible[new_labels[i].name] = true\r\n                    }\r\n                }\r\n            },\r\n            labels_visible: {\r\n                deep: true,\r\n                handler: function (value) {\r\n                    console.log(\"labels_visible watcher:\", value)\r\n                }\r\n            },\r\n            \"session.completed\": function (new_value) {\r\n                this.$get(`task/completed?id=${this.session.id}&completed=${new_value}`)\r\n                    .catch(err => {\r\n                        this.session.completed = !this.session.completed\r\n                        alert(err)\r\n                    })\r\n            },\r\n            revision_enabled: {\r\n                deep: true,\r\n                handler(new_value) {\r\n                    const newElements = {}\r\n                    this.slides.forEach(item => newElements[item] = {})\r\n                    Object.entries(new_value).forEach(([revision_id, enabled]) => {\r\n                        if (enabled) {\r\n                            const slidesAnnotation = this.$store.state.session.revision[revision_id]\r\n                            Object.entries(slidesAnnotation).forEach(([k, v]) => newElements[k] = v)\r\n                        }\r\n                    })\r\n                    this.labelled = newElements\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            const self = this\r\n            return {\r\n                current_slide: null,\r\n                labelled: {},\r\n                selected_tab: 0,\r\n                labels_visible: {},\r\n                region_opacity: 0.3,\r\n                editing: null,\r\n                revision_enabled: {},\r\n                feedback_dialog: false,\r\n                draw_events: {\r\n                    onHover: self.onRegionHover,\r\n                    onLeave: self.onRegionLeave,\r\n                    onClick: self.regionClicked,\r\n                    onFinishedEditing: (completed, region) => {\r\n                        self.editing = null\r\n                    },\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            relabelScreenContinue() {\r\n                if (this.editing.feedback.feedback !== 2) {\r\n                    this.saveFeedback()\r\n                } else {\r\n                    this.feedback_dialog = false\r\n                    this.editRegion(this.editing)\r\n                }\r\n            },\r\n\r\n            saveFeedback() {\r\n                this.$post(`session/${this.session_id}/annotation_feedback`, this.editing)\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.editing.feedback.id = resp.feedback.id\r\n                        this.feedback_dialog = false\r\n                        this.editing = null\r\n                    })\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            onRegionHover(region) {\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                if (element == null) return\r\n\r\n                this.selected_tab = 1\r\n                element.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    block: \"center\"\r\n                })\r\n                element.classList.add(\"hovered\")\r\n            },\r\n\r\n            onRegionLeave(region) {\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                if (element == null) return\r\n                element.classList.remove(\"hovered\")\r\n            },\r\n\r\n            genColor(color) {\r\n                return `rgb(${color[0]},${color[1]},${color[2]})`\r\n            },\r\n\r\n            onNewRegionDraw(annotation) {\r\n                annotation.id = null // making sure to reset the id\r\n                annotation.slide_id = this.current_slide\r\n                this.$post(\"session/\" + this.session_id + \"/add_region\", annotation)\r\n                    .then(resp => {\r\n                        // Add the new region to the list\r\n                        this.labelled[this.current_slide] = this.labelled[this.current_slide].filter(item => annotation.id !== item.id)\r\n                        this.labelled[this.current_slide].push(resp)\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Error while saving region: \" + err)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * A region was updated. We will submit the data to the server.\r\n             *\r\n             * @param element Region data\r\n             */\r\n            onEditRegionDraw(element) {\r\n                if (this.task_type === 0) {\r\n                    this.editing = null\r\n                    this.$post(\"session/\" + this.session_id + \"/edit_region\", element)\r\n                        .then(resp => {\r\n                            // Add the new region to the list\r\n                            console.log(resp)\r\n                        })\r\n                        .catch(err => {\r\n                            alert(\"Error while saving region: \" + err)\r\n                        })\r\n                } else if (this.task_type === 1) {\r\n                    console.log(\"editing before request: \", this.editing, this.original_data)\r\n                    const editing = this.editing\r\n                    const original_data = this.original_data\r\n                    editing.feedback.data = element.data\r\n                    this.$post(`session/${this.session_id}/annotation_feedback`, this.editing)\r\n                        .then(resp => {\r\n                            console.log(\"editing\", editing, \"original_data\", original_data)\r\n                            console.log(\"resp:\", resp)\r\n                            editing.data = resp.data\r\n                            editing.feedback.id = resp.feedback.id\r\n                            this.feedback_dialog = false\r\n                            SliceDrawer.update()\r\n                            // this.editing = null\r\n                        })\r\n                        .catch(err => alert(err))\r\n                }\r\n            },\r\n\r\n            /**\r\n             * User clicked on a region. We will highlighted it in the list\r\n             *\r\n             * @param region\r\n             * @param short\r\n             */\r\n            regionClicked(region, short = false) {\r\n                console.log(\"regionClicked\", region)\r\n                const element = document.getElementById(`region-${region.id}`)\r\n                this.selected_tab = 1\r\n                element.scrollIntoView({\r\n                    behavior: \"smooth\",\r\n                    block: \"center\"\r\n                })\r\n                element.classList.add(\"highlighted\")\r\n                if (short) element.classList.add(\"short\")\r\n                setTimeout(() => {\r\n                    element.classList.remove(\"highlighted\")\r\n                    element.classList.remove(\"short\")\r\n                }, short ? 250 : 3000)\r\n            },\r\n\r\n            importAnnotations() {\r\n                const input = document.getElementById(\"file-importer-input\")\r\n                input.onchange = e => {\r\n                    const reader = new FileReader()\r\n                    reader.readAsText(e.target.files[0], 'UTF-8')\r\n                    reader.onload = readerEvent => {\r\n                        const json = JSON.parse(readerEvent.target.result)\r\n                        const annotations = json.features.map((feature, idx) => {\r\n                            const geo = feature.geometry\r\n                            return {\r\n                                id: `import-${idx}`,\r\n                                label: {color: [0, 0, 0], name: \"Imported annotation\"},\r\n                                geometry: {\r\n                                    type: \"polygon\",\r\n                                    points: optimizePath(geo.coordinates[0].map(coord => {\r\n                                        return {x: coord[0], y: coord[1]}\r\n                                    }))\r\n                                },\r\n                                meta: {\r\n                                    importing: true\r\n                                }\r\n                            }\r\n                        })\r\n                        console.log(\"Annotations: \", annotations)\r\n                        this.labelled[this.current_slide].push(...annotations)\r\n                    }\r\n                }\r\n                input.click()\r\n            },\r\n\r\n            /**\r\n             *\r\n             * @param region\r\n             */\r\n            editRegion(region) {\r\n                console.log(\"editRegion session\")\r\n                this.$refs.slice_viewer.editElement(region)\r\n                this.editing = region\r\n            },\r\n            saveEdition(region) {\r\n                this.$refs.slice_viewer.saveEdition(region)\r\n                //this.editing = null\r\n            },\r\n            cancelEdit() {\r\n                this.$refs.slice_viewer.cancelEdit()\r\n                this.editing = null\r\n            },\r\n            annotationFeedback(feedback, annotation) {\r\n                console.log(feedback, annotation)\r\n                this.editing = annotation\r\n                switch (feedback) {\r\n                    case \"correct\":\r\n                        this.editing.feedback.feedback = 0\r\n                        this.editing.feedback.data = null\r\n                        this.editing.feedback.label_id = null\r\n                        this.saveFeedback()\r\n                        break\r\n                    case \"wrong-label\":\r\n                        this.editing.feedback.feedback = 1\r\n                        this.editing.feedback.data = null\r\n                        this.feedback_dialog = true\r\n                        break\r\n                    case \"wrong-region\":\r\n                        this.editing.feedback.feedback = 2\r\n                        this.feedback_dialog = true\r\n                        this.original_data = annotation.data\r\n                        break\r\n                }\r\n            },\r\n            dismissAnnotation(annotation) {\r\n                if (annotation.meta.importing) {\r\n                    this.labelled[this.current_slide] = this.labelled[this.current_slide].filter(item => item !== annotation)\r\n                } else {\r\n                    if (confirm(\"Are you sure you want to remove this annotation?\")) {\r\n                        this.$post(`session/${this.session_id}/remove_annotation`, annotation)\r\n                            .then(resp => {\r\n                                this.labelled[this.current_slide] = this.labelled[this.current_slide].filter(item => item !== annotation)\r\n                            })\r\n                            .catch(err => alert(err))\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        components: {AnnotationCard, SideWindow, SliceViewer}\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  @keyframes highlight {\r\n\r\n    0% {\r\n      background-color: white;\r\n    }\r\n    50% {\r\n      background-color: darkgrey;\r\n    }\r\n    100% {\r\n      background-color: white;\r\n    }\r\n  }\r\n\r\n  .highlighted {\r\n    animation-name: highlight;\r\n    animation-duration: 1s;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: reverse;\r\n  }\r\n\r\n  .hovered {\r\n    background-color: darkgrey;\r\n  }\r\n\r\n  .card-description {\r\n    font-size: 12px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=3e19d4a9&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=3e19d4a9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e19d4a9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VContainer,VDialog,VDivider,VFlex,VLayout,VRadio,VRadioGroup,VSlider,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Tasks\")])],1),_c('v-expansion-panel-content',[_c('v-tabs',{model:{value:(_vm.task_type),callback:function ($$v) {_vm.task_type=$$v},expression:\"task_type\"}},[_c('v-tab',[_vm._v(\"Annotations\")]),_c('v-tab',[_vm._v(\"Revisions\")])],1),_c('v-data-table',{attrs:{\"headers\":_vm.config.task_headers[_vm.task_type],\"items\":_vm.tasks[_vm.task_type],\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.slides\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.slides),function(slide){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"readonly\":true}},[_vm._v(\"\\n                    \"+_vm._s(slide.name)+\"\\n                  \")])}),1)]}},{key:\"item.assigned\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.assigned),function(user){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(user.name)+\"\\n                  \")])}),1)]}},{key:\"item.revisions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"active-class\":\"primary--text\",\"column\":\"\",\"show-arrows\":\"\"}},_vm._l((item.revisions),function(user_task){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(user_task.user.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_task(item)}}},[_vm._v(\" mdi-pencil\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_task(item)}}},[_vm._v(\" mdi-delete\")])]}}])}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_task}},[_vm._v(\"New task\")])],1)],1)],1)],1),_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Users\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.user_headers,\"items\":_vm.users,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_user(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\"},on:{\"click\":function($event){}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"Not implemented\")])])]}}])}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_user}},[_vm._v(\"New user\")])],1)],1)],1)],1),_c('v-col',{attrs:{\"sm\":\"12\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('v-toolbar-title',{staticClass:\"title\"},[_vm._v(\"Projects\")])],1),_c('v-expansion-panel-content',[_c('v-data-table',{attrs:{\"headers\":_vm.config.project_header,\"items\":_vm.projects,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.labels\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip-group',{attrs:{\"show-arrows\":\"\",\"column\":\"\"}},_vm._l((item.labels),function(label){return _c('v-chip',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"outlined\":\"\",\"color\":(\"rgb(\" + (label.color[0]) + \", \" + (label.color[1]) + \",\" + (label.color[2]) + \")\"),\"readonly\":true,\"dark\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(label.name)+\"\\n                  \")])}),1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.edit_project(item)}}},[_vm._v(\"\\n                  mdi-pencil\\n                \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({attrs:{\"small\":\"\"},on:{\"click\":function($event){}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"Not implemented\")])])]}}])}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.new_project}},[_vm._v(\"New project\")])],1)],1)],1)],1)],1)],1),(_vm.drawer)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"temporary\":\"\",\"stateless\":\"\",\"right\":\"\",\"width\":\"500px\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"large\":\"\"},on:{\"click\":function($event){_vm.drawer = false}}},[_vm._v(\"mdi-close\")]),_vm._v(\"\\n        Information editor\\n      \")],1)],1),_c('v-container',[(_vm.mode === 'user')?_c('user-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'project')?_c('project-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):(_vm.mode === 'task')?_c('task-editor',{on:{\"done\":_vm.done},model:{value:(_vm.editing),callback:function ($$v) {_vm.editing=$$v},expression:\"editing\"}}):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Name\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}),_c('v-text-field',{attrs:{\"label\":\"Username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('v-checkbox',{attrs:{\"label\":\"Is user admin?\"},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"user != null\">-->\r\n    <v-text-field label=\"Name\" v-model=\"user.name\"></v-text-field>\r\n    <v-text-field label=\"Username\" v-model=\"user.username\"></v-text-field>\r\n    <v-text-field label=\"Password\" type=\"password\" v-model=\"user.password\"></v-text-field>\r\n    <v-checkbox v-model=\"user.is_admin\" label=\"Is user admin?\"></v-checkbox>\r\n\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n    <v-btn @click=\"save\" outlined>Save</v-btn>\r\n    </v-card-actions>\r\n    <!--  </v-form>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from \"lodash\";\r\n\r\n    export default {\r\n        name: \"UserEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.user = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n            user: {\r\n                deep: true,\r\n                handler: function (new_value) {\r\n                    this.$emit(\"input\", new_value)\r\n                }\r\n            },\r\n        },\r\n        data: () => {\r\n            return {user: null}\r\n        },\r\n        methods: {\r\n            save() {\r\n                if (this.user.id != null) {\r\n                    // update user profile information\r\n                    this.$post(\"user/edit\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                            this.$emit(\"done\", \"user\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                } else {\r\n                    // create new user profile\r\n                    this.$post(\"user/new\", this.user)\r\n                        .then(resp => {\r\n                            this.user = resp\r\n                            this.$emit(\"input\", this.user)\r\n                            this.$emit(\"done\", \"user\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            }\r\n        },\r\n        props: [\"value\"]\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditor.vue?vue&type=template&id=686cdf34&scoped=true&\"\nimport script from \"./UserEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"686cdf34\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardActions,VCheckbox,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Project name\"},model:{value:(_vm.project.name),callback:function ($$v) {_vm.$set(_vm.project, \"name\", $$v)},expression:\"project.name\"}}),_c('v-textarea',{attrs:{\"label\":\"Project description\"},model:{value:(_vm.project.description),callback:function ($$v) {_vm.$set(_vm.project, \"description\", $$v)},expression:\"project.description\"}}),_c('v-text-field',{attrs:{\"label\":\"Files location\",\"error-messages\":_vm.path_errors},on:{\"input\":_vm.check_path},model:{value:(_vm.project.folder),callback:function ($$v) {_vm.$set(_vm.project, \"folder\", $$v)},expression:\"project.folder\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.header,\"items\":_vm.project.labels,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.color\",fn:function(ref){\nvar item = ref.item;\nvar idx = ref.idx;\nreturn [_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g(_vm._b({staticClass:\"color-box\",style:(_vm.gen_color(item)),on:{\"click\":function($event){return _vm.change_color(item)}}},'div',attrs,false),on))]}}],null,true),model:{value:(_vm.color_menu[item.name]),callback:function ($$v) {_vm.$set(_vm.color_menu, item.name, $$v)},expression:\"color_menu[item.name]\"}},[_c('v-card',[_c('v-color-picker',{attrs:{\"hide-inputs\":\"\",\"swatches-max-height\":100,\"show-swatches\":\"\"},model:{value:(_vm.color_picked),callback:function ($$v) {_vm.color_picked=$$v},expression:\"color_picked\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeColorPicker(item.name)}}},[_vm._v(\"Done\")])],1)],1)],1)]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.remove_label(item)}}},[_vm._v(\"\\n        mdi-delete\\n      \")])]}}])}),_c('v-text-field',{attrs:{\"filled\":\"\",\"label\":\"New label\",\"append-outer-icon\":\"add\"},on:{\"click:append-outer\":_vm.add_label},model:{value:(_vm.new_label),callback:function ($$v) {_vm.new_label=$$v},expression:\"new_label\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form v-if=\"project != null\">-->\r\n    <v-text-field label=\"Project name\" v-model=\"project.name\"/>\r\n    <v-textarea label=\"Project description\" v-model=\"project.description\"/>\r\n    <v-text-field label=\"Files location\" v-model=\"project.folder\" :error-messages=\"path_errors\" @input=\"check_path\"/>\r\n    <v-data-table :headers=\"header\" :items=\"project.labels\" :items-per-page=\"5\">\r\n      <template v-slot:item.color=\"{ item, idx }\">\r\n        <v-menu v-model=\"color_menu[item.name]\" offset-y :close-on-content-click=\"false\">\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <div class=\"color-box\"\r\n                 @click=\"change_color(item)\"\r\n                 :style=\"gen_color(item)\"\r\n                 v-bind=\"attrs\"\r\n                 v-on=\"on\"></div>\r\n          </template>\r\n          <v-card>\r\n            <v-color-picker hide-inputs :swatches-max-height=\"100\" show-swatches\r\n                            v-model=\"color_picked\" ></v-color-picker>\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"primary\" text @click=\"closeColorPicker(item.name)\">Done</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-menu>\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-icon small @click=\"remove_label(item)\">\r\n          mdi-delete\r\n        </v-icon>\r\n      </template>\r\n    </v-data-table>\r\n    <v-text-field\r\n            filled\r\n            label=\"New label\"\r\n            v-model=\"new_label\"\r\n            append-outer-icon=\"add\"\r\n            @click:append-outer=\"add_label\"\r\n    />\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Save</v-btn>\r\n    </v-card-actions>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import _ from \"lodash\";\r\n\r\n    export default {\r\n        name: \"ProjectEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.project = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                if (this.editing_label != null)\r\n                    this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                project: null,\r\n                color_picked: null,\r\n                color_menu: [],\r\n                header: [\r\n                    {text: 'Label', value: 'name'},\r\n                    {text: 'Color', value: 'color', sortable: false},\r\n                    {text: \"Actions\", value: \"actions\"}\r\n                ],\r\n                path_errors: [],\r\n                editing_label: null,\r\n                new_label: null\r\n            }\r\n        },\r\n        methods: {\r\n            closeColorPicker(itemName) {\r\n                this.color_menu[itemName] = false\r\n                this.editing_label = null\r\n                this.color_picked = null\r\n            },\r\n            check_path(input) {\r\n                if (input === \"\") {\r\n                    this.path_errors = [\"Path required\"]\r\n                } else {\r\n                    this.$post(\"project/valid_path\", {\"path\": input})\r\n                        .then(resp => {\r\n                            if (resp.valid_path) {\r\n                                this.path_errors = []\r\n                            } else {\r\n                                this.path_errors = [\"Path not found on environment\"]\r\n                            }\r\n                        })\r\n                        .catch(err => alert(err))\r\n                }\r\n            },\r\n\r\n            add_label() {\r\n                if (this.project == null)\r\n                    this.project = {labels: []}\r\n                if (this.project.labels == null)\r\n                    this.project.labels = []\r\n                this.project.labels.push({\r\n                    \"name\": this.new_label,\r\n                    \"color\": [255, 255, 255]\r\n                })\r\n                this.new_label = \"\"\r\n            },\r\n\r\n            change_color(item) {\r\n                this.editing_label = item\r\n\r\n            },\r\n\r\n            gen_color(item) {\r\n                const colors = item.color\r\n                return `background-color: rgba(${colors[0]},${colors[1]},${colors[2]}, 1)`\r\n            },\r\n            save() {\r\n                if (this.path_errors.length > 0)\r\n                    alert(\"You need to fix the project's path before continuing.\")\r\n                else if (confirm(\"Are you sure you want to continue?\")) {\r\n                    if (this.project.id == null) {\r\n                        this.$post(\"/project/new\", this.project)\r\n                            .then(resp => {\r\n                                this.project = resp\r\n                                this.$emit(\"input\", this.project)\r\n                                this.$emit(\"done\", \"project\")\r\n                            })\r\n                            .catch(err => {\r\n                                alert(err)\r\n                            })\r\n                    } else {\r\n                        this.$post(\"/project/edit\", this.project)\r\n                            .then(resp => {\r\n                                this.project = resp\r\n                                this.$emit(\"input\", this.project)\r\n                                this.$emit(\"done\", \"project\")\r\n                            })\r\n                            .catch(err => {\r\n                                alert(err)\r\n                            })\r\n                    }\r\n                }\r\n            },\r\n            remove_label(label) {\r\n                if (label.id == null) {\r\n                    // No id, simple remove item from the list\r\n                    this.project.labels = this.project.labels.filter(item => item !== label)\r\n                } else {\r\n                    // Request removal from the the database\r\n                    this.$post(\"/project/remove_label\", label)\r\n                        .then(resp => {\r\n                                this.project.labels = this.project.labels.filter(item => item.id !== label.id)\r\n                                this.$emit(\"input\", this.project)\r\n                            }\r\n                        )\r\n                        .catch(err => alert(err))\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            // this.load_users()\r\n        }\r\n        ,\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectEditor.vue?vue&type=template&id=0395a7ec&scoped=true&\"\nimport script from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectEditor.vue?vue&type=style&index=0&id=0395a7ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0395a7ec\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VColorPicker } from 'vuetify/lib/components/VColorPicker';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VColorPicker,VDataTable,VIcon,VMenu,VSpacer,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Task name\"},model:{value:(_vm.task.name),callback:function ($$v) {_vm.$set(_vm.task, \"name\", $$v)},expression:\"task.name\"}}),_c('v-select',{attrs:{\"label\":\"Project\",\"chips\":\"\",\"items\":_vm.projects,\"item-text\":\"name\",\"item-value\":\"id\"},model:{value:(_vm.task.project_id),callback:function ($$v) {_vm.$set(_vm.task, \"project_id\", $$v)},expression:\"task.project_id\"}}),_c('v-tabs',{model:{value:(_vm.task.type),callback:function ($$v) {_vm.$set(_vm.task, \"type\", $$v)},expression:\"task.type\"}},[_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 0}}),_vm._v(\"\\n      Annotate\\n    \")],1),_c('v-tab',{attrs:{\"disabled\":_vm.task.id != null}},[_c('v-simple-checkbox',{attrs:{\"disabled\":\"\",\"value\":_vm.task.type === 1}}),_vm._v(\"\\n      Review\\n    \")],1)],1),(_vm.task.id == null)?_c('v-tabs-items',{model:{value:(_vm.task.type),callback:function ($$v) {_vm.$set(_vm.task, \"type\", $$v)},expression:\"task.type\"}},[_c('v-tab-item',[_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},[_c('v-scroll-x-transition',{attrs:{\"group\":\"\",\"hide-on-leave\":\"\"}},_vm._l((_vm.task.slides),function(selection,i){return _c('v-chip',{key:i,staticClass:\"ma-1\",attrs:{\"color\":\"grey\",\"dark\":\"\",\"small\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"\\n              mdi-file\\n            \")]),_vm._v(\"\\n            \"+_vm._s(selection.name)+\"\\n          \")],1)}),1)],1),_c('v-treeview',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"},attrs:{\"items\":_vm.files,\"selectable\":\"\",\"dense\":\"\",\"open-on-click\":\"\",\"item-text\":\"name\",\"readonly\":_vm.task.project_id == null,\"return-object\":\"\",\"shaped\":\"\",\"hoverable\":\"\",\"selection-type\":\"leaf\"},model:{value:(_vm.task.slides),callback:function ($$v) {_vm.$set(_vm.task, \"slides\", $$v)},expression:\"task.slides\"}})],1),_c('v-tab-item',[_c('v-select',{attrs:{\"label\":\"Tasks\",\"items\":_vm.review_task_list,\"item-value\":\"id\",\"item-text\":\"name\",\"return-object\":\"\"},model:{value:(_vm.review_task),callback:function ($$v) {_vm.review_task=$$v},expression:\"review_task\"}}),(_vm.task.task_id != null)?_c('v-select',{attrs:{\"label\":\"Users\",\"items\":_vm.review_task.user_tasks,\"item-value\":\"id\",\"item-text\":\"user.name\",\"multiple\":\"\"},model:{value:(_vm.task.revision),callback:function ($$v) {_vm.$set(_vm.task, \"revision\", $$v)},expression:\"task.revision\"}}):_vm._e()],1)],1):_vm._e(),_c('v-select',{attrs:{\"label\":\"Users assigned\",\"chips\":\"\",\"multiple\":\"\",\"items\":_vm.users,\"item-text\":\"username\",\"return-object\":\"\"},model:{value:(_vm.task.assigned),callback:function ($$v) {_vm.$set(_vm.task, \"assigned\", $$v)},expression:\"task.assigned\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Continue\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--  <v-form  v-if=\"task != null\">-->\r\n    <v-text-field label=\"Task name\" v-model=\"task.name\"/>\r\n    <v-select label=\"Project\" chips :items=\"projects\" item-text=\"name\" item-value=\"id\" v-model=\"task.project_id\"/>\r\n    <v-tabs v-model=\"task.type\">\r\n      <v-tab :disabled=\"task.id != null\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 0\"/>\r\n        Annotate\r\n      </v-tab>\r\n      <v-tab :disabled=\"task.id != null\">\r\n        <v-simple-checkbox disabled :value=\"task.type === 1\"/>\r\n        Review\r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-if=\"task.id == null\" v-model=\"task.type\">\r\n      <v-tab-item>\r\n        <!--        <v-select :label=\"`File to analyze ${current_folder != null ? `(from ${current_folder})` : '' }`\"-->\r\n        <!--                  v-model=\"task.slides\"-->\r\n        <!--                  :items=\"files\" :readonly=\"task.project_id == null\"-->\r\n        <!--                  item-text=\"id\"-->\r\n        <!--                  multiple-->\r\n        <!--                  chips-->\r\n        <!--                  deletable-chips-->\r\n        <!--                  return-object/>-->\r\n        <div style=\"overflow-y: auto\">\r\n          <v-scroll-x-transition group hide-on-leave>\r\n            <v-chip v-for=\"(selection, i) in task.slides\" :key=\"i\" color=\"grey\"\r\n                    dark small class=\"ma-1\">\r\n              <v-icon left small>\r\n                mdi-file\r\n              </v-icon>\r\n              {{ selection.name }}\r\n            </v-chip>\r\n          </v-scroll-x-transition>\r\n        </div>\r\n        <v-treeview\r\n                style=\"max-height: 300px; overflow-y: auto\"\r\n                :items=\"files\"\r\n                selectable\r\n                dense\r\n                open-on-click\r\n                item-text=\"name\"\r\n                :readonly=\"task.project_id == null\"\r\n                v-model=\"task.slides\"\r\n                return-object\r\n                shaped\r\n                hoverable\r\n                selection-type=\"leaf\"/>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <v-select label=\"Tasks\" v-model=\"review_task\" :items=\"review_task_list\" item-value=\"id\" item-text=\"name\"\r\n                  return-object/>\r\n        <v-select v-if=\"task.task_id != null\" label=\"Users\"\r\n                  v-model=\"task.revision\"\r\n                  :items=\"review_task.user_tasks\"\r\n                  item-value=\"id\" item-text=\"user.name\"\r\n                  multiple/>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n\r\n    <v-select label=\"Users assigned\" chips multiple :items=\"users\" item-text=\"username\" v-model=\"task.assigned\"\r\n              return-object/>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn @click=\"save\" outlined>Continue</v-btn>\r\n    </v-card-actions>\r\n    <!--    -->\r\n    <!--  </v-form>-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import _ from \"lodash\"\r\n\r\n    export default {\r\n        name: \"TaskEditor\",\r\n        watch: {\r\n            value: {\r\n                immediate: true,\r\n                handler: function (new_value) {\r\n                    this.task = _.cloneDeep(new_value)\r\n                }\r\n            },\r\n\r\n            color_picked: function (new_value) {\r\n                // this.editing_label.color = `${new_value.rgba.r};${new_value.rgba.g};${new_value.rgba.b}`\r\n                this.editing_label.color = [new_value.rgba.r, new_value.rgba.g, new_value.rgba.b]\r\n            },\r\n            \"task.project_id\": function (new_value) {\r\n                if (new_value != null)\r\n                    this.load_files(new_value)\r\n            },\r\n            \"task.type\": function (new_value) {\r\n                if (new_value === 1 && this.review_task_list == null) {\r\n                    this.load_review_tasks()\r\n                }\r\n            },\r\n            review_task: function (new_value) {\r\n                this.task.task_id = new_value.id\r\n            }\r\n        },\r\n        computed: {\r\n            current_folder: function () {\r\n                if (this.task != null) {\r\n                    if (this.task.project != null) {\r\n                        // We already have a project object read the folder\r\n                        console.log(this.task.project)\r\n                        return this.task.project.folder\r\n                    } else if (this.task.project_id != null && this.projects.length === 0) {\r\n                        // We have a assigned project id, we can search for it\r\n                        const project_id = this.task.project_id\r\n                        return this.projects.filter(item => item.id === project_id)[0].folder\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                task: null,\r\n                editing_label: null,\r\n                new_label: null,\r\n                users: [],\r\n                projects: [],\r\n                files: [],\r\n                review_task_list: null,\r\n                review_task: []\r\n            }\r\n        },\r\n        methods: {\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => this.users = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => this.projects = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            load_review_tasks() {\r\n                this.$get(\"project/tasks\")\r\n                    .then(resp => this.review_task_list = resp)\r\n                    .catch(err => alert(err))\r\n            },\r\n\r\n            save() {\r\n                if (this.task.id == null) {\r\n                    this.$post(\"task/new\", this.task)\r\n                        .then(resp => {\r\n                            this.task = resp\r\n                            this.$emit(\"input\", resp)\r\n                            this.$emit(\"done\", \"task\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                } else {\r\n                    this.$post(\"task/edit\", this.task)\r\n                        .then(resp => {\r\n                            this.task = resp\r\n                            this.$emit(\"input\", resp)\r\n                            this.$emit(\"done\", \"task\")\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n                }\r\n            },\r\n            load_files(project_id) {\r\n                this.$get(\"task/files?project_id=\" + project_id)\r\n                    .then(resp => {\r\n                        this.files = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(\"Unable to locate the project's folder. Make sure the project is properly setup for the current environment.\")\r\n                    })\r\n            }\r\n        },\r\n        mounted() {\r\n            this.load_users()\r\n            this.load_projects()\r\n            if (this.task.project != null)\r\n                this.load_files(this.task.project.id)\r\n        },\r\n        props: ['value']\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .color-box {\r\n    height: 30px;\r\n    width: 60px;\r\n    border: black 1px solid;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskEditor.vue?vue&type=template&id=5e4e515a&scoped=true&\"\nimport script from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskEditor.vue?vue&type=style&index=0&id=5e4e515a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e4e515a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VScrollXTransition } from 'vuetify/lib/components/transitions';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCardActions,VChip,VIcon,VScrollXTransition,VSelect,VSimpleCheckbox,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTextField,VTreeview})\n","<template>\r\n  <v-container>\r\n    <v-expansion-panels multiple>\r\n      <v-row>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Tasks</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-tabs v-model=\"task_type\">\r\n                <v-tab>Annotations</v-tab>\r\n                <v-tab>Revisions</v-tab>\r\n              </v-tabs>\r\n              <v-data-table\r\n                      :headers=\"config.task_headers[task_type]\"\r\n                      :items=\"tasks[task_type]\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.slides=\"{ item }\">\r\n                  <v-chip-group column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined :readonly=\"true\"\r\n                            v-for=\"slide in item.slides\">\r\n                      {{ slide.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.assigned=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user in item.assigned\" dark>\r\n                      {{ user.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.revisions=\"{ item }\">\r\n                  <v-chip-group active-class=\"primary--text\" column show-arrows>\r\n                    <v-chip style=\"pointer-events: none;\" :readonly=\"true\" v-for=\"user_task in item.revisions\" dark>\r\n                      {{ user_task.user.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_task(item)\"> mdi-pencil</v-icon>\r\n                  <v-icon small @click=\"remove_task(item)\"> mdi-delete</v-icon>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_task\">New task</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Users</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.user_headers\"\r\n                      :items=\"users\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_user(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-icon small v-bind=\"attrs\" v-on=\"on\" @click> mdi-delete</v-icon>\r\n                    </template>\r\n                    <span>Not implemented</span>\r\n                  </v-tooltip>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_user\">New user</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n        <v-col sm=\"12\">\r\n          <v-expansion-panel>\r\n            <v-expansion-panel-header>\r\n              <v-toolbar-title class=\"title\">Projects</v-toolbar-title>\r\n            </v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <v-data-table\r\n                      :headers=\"config.project_header\"\r\n                      :items=\"projects\"\r\n                      :items-per-page=\"5\">\r\n                <template v-slot:item.labels=\"{ item }\">\r\n                  <v-chip-group show-arrows column>\r\n                    <v-chip style=\"pointer-events: none;\"\r\n                            outlined\r\n                            :color=\"`rgb(${label.color[0]}, ${label.color[1]},${label.color[2]})`\" :readonly=\"true\"\r\n                            v-for=\"label in item.labels\" dark>\r\n                      {{ label.name }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </template>\r\n                <template v-slot:item.actions=\"{ item }\">\r\n                  <v-icon small class=\"mr-2\" @click=\"edit_project(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-icon small v-bind=\"attrs\" v-on=\"on\" @click> mdi-delete</v-icon>\r\n                    </template>\r\n                    <span>Not implemented</span>\r\n                  </v-tooltip>\r\n                </template>\r\n              </v-data-table>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text @click=\"new_project\">New project</v-btn>\r\n              </v-card-actions>\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-col>\r\n      </v-row>\r\n    </v-expansion-panels>\r\n    <v-navigation-drawer v-if=\"drawer\" v-model=\"drawer\" app temporary stateless right width=\"500px\">\r\n      <v-toolbar>\r\n        <v-toolbar-title>\r\n          <v-icon @click=\"drawer = false\" large class=\"mr-1\">mdi-close</v-icon>\r\n          Information editor\r\n        </v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-container>\r\n        <user-editor v-if=\"mode === 'user'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <project-editor v-else-if=\"mode === 'project'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n        <task-editor v-else-if=\"mode === 'task'\" v-model=\"editing\" v-on:done=\"done\"/>\r\n      </v-container>\r\n    </v-navigation-drawer>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\n    import UserEditor from \"../components/UserEditor\";\r\n    import ProjectEditor from \"../components/ProjectEditor\";\r\n    import TaskEditor from \"../components/TaskEditor\";\r\n\r\n    export default {\r\n        name: \"Admin\",\r\n        components: {TaskEditor, ProjectEditor, UserEditor},\r\n        watch: {\r\n            editing: function (new_value, old_value) {\r\n                // if (old_value != null && old_value.id == null) {\r\n                //     if (new_value != null && new_value.id != null && !this.is_editing) {\r\n                //         if (this.mode === \"user\")\r\n                //             this.users.push(new_value)\r\n                //         else if (this.mode === \"project\")\r\n                //             this.projects.push(new_value)\r\n                //         else if (this.mode === \"task\")\r\n                //             this.tasks.push(new_value)\r\n                //         this.drawer = false\r\n                //     }\r\n                // this.drawer = false\r\n                // }\r\n            }\r\n        },\r\n        data: () => {\r\n            return {\r\n                drawer: false,\r\n                mode: 'user',\r\n                is_editing: false,\r\n                editing: null,\r\n                users: [],\r\n                projects: [],\r\n                tasks: [],\r\n                task_type: \"annotations\",\r\n                config: {\r\n                    task_headers: {\r\n                        0: [\r\n                            {\r\n                                text: 'id',\r\n                                align: 'start',\r\n                                sortable: false,\r\n                                value: 'id',\r\n                            },\r\n                            {text: 'Slides', value: 'slides'},\r\n                            {text: 'Project', value: 'project.name'},\r\n                            {text: 'Users', value: 'assigned'},\r\n                            {text: \"Actions\", value: 'actions'}\r\n                        ],\r\n                        1: [\r\n                            {\r\n                                text: 'id',\r\n                                align: 'start',\r\n                                sortable: false,\r\n                                value: 'id',\r\n                            },\r\n                            {text: 'Project', value: 'project.name'},\r\n                            {text: 'To review', value: 'revisions'},\r\n                            {text: 'Users', value: 'assigned'},\r\n                            {text: \"Actions\", value: 'actions'}\r\n                        ]\r\n                    },\r\n                    user_headers: [\r\n                        {\r\n                            text: 'id',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'id',\r\n                        },\r\n                        {text: 'Name', value: 'name'},\r\n                        {text: 'Username (login)', value: 'username'},\r\n                        {text: 'Is admin?', value: 'is_admin'},\r\n                        {text: 'Actions', value: 'actions'},\r\n                    ],\r\n                    project_header: [\r\n                        {\r\n                            text: 'Project name',\r\n                            align: 'start',\r\n                            sortable: false,\r\n                            value: 'name',\r\n                        },\r\n                        {text: 'Description', value: 'description'},\r\n                        {text: \"Labels\", value: 'labels'},\r\n                        {text: \"Actions\", value: 'actions'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            done(which) {\r\n                this.drawer = false\r\n                this.editing = null\r\n                switch (which) {\r\n                    case 'user':\r\n                        this.load_users()\r\n                        break\r\n                    case 'project':\r\n                        this.load_projects()\r\n                        break\r\n                    case 'task':\r\n                        this.load_tasks()\r\n                        break\r\n                }\r\n            },\r\n            new_user() {\r\n                this.editing = {\r\n                    username: \"\",\r\n                    is_admin: false,\r\n                }\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_user(user) {\r\n                this.is_editing = true\r\n                this.editing = user\r\n                this.mode = \"user\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_project() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    folder: \"\",\r\n                    labels: []\r\n                }\r\n                this.mode = \"project\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_project(project) {\r\n                this.is_editing = true\r\n                this.editing = project\r\n                this.mode = \"project\"\r\n                this.drawer = true\r\n            },\r\n\r\n            new_task() {\r\n                this.editing = {\r\n                    name: \"\",\r\n                    type: 0,\r\n                    slides: [],\r\n                    assigned: []\r\n                }\r\n                this.mode = \"task\"\r\n                this.drawer = true\r\n            },\r\n\r\n            edit_task(task) {\r\n                this.is_editing = true\r\n                this.editing = task\r\n                this.mode = \"task\"\r\n                this.drawer = true\r\n            },\r\n\r\n            remove_task(task) {\r\n                if (confirm(\"Are you sure you want to remove this task? Annotations may be lost.\"))\r\n                    this.$post(\"task/remove\", task)\r\n                        .then(resp => {\r\n                            console.log(resp)\r\n                            this.load_tasks()\r\n                        })\r\n                        .catch(err => {\r\n                            alert(err)\r\n                        })\r\n            },\r\n\r\n            load_users() {\r\n                this.$get(\"user/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.users = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                    })\r\n            },\r\n\r\n            load_projects() {\r\n                this.$get(\"project/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.projects = resp\r\n                    })\r\n                    .catch(err => {\r\n                        alert(err)\r\n                    })\r\n            },\r\n\r\n            load_tasks() {\r\n                this.$get(\"task/list\")\r\n                    .then(resp => {\r\n                        console.log(resp)\r\n                        this.tasks = resp\r\n                    })\r\n                    .catch(err => alert(err))\r\n            }\r\n        },\r\n        mounted() {\r\n            // todo improve this to only load if the panel is opened\r\n            this.load_users()\r\n            this.load_projects()\r\n            this.load_tasks()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=266244f2&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"266244f2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCardActions,VChip,VChipGroup,VCol,VContainer,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VNavigationDrawer,VRow,VSpacer,VTab,VTabs,VToolbar,VToolbarTitle,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"shrink-on-scroll\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"med-img-label\")])],1),_c('v-spacer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark shrink-on-scroll>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img alt=\"Vuetify Logo\"\r\n             class=\"shrink mr-2\"\r\n             contain\r\n             src=\"\"\r\n             transition=\"scale-transition\"\r\n             width=\"40\"\r\n      />\r\n\r\n      <v-toolbar-title>med-img-label</v-toolbar-title>\r\n    </div>\r\n\r\n    <v-spacer></v-spacer>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\"\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminAppBar.vue?vue&type=template&id=7223d993&scoped=true&\"\nimport script from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminAppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7223d993\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VImg,VSpacer,VToolbarTitle})\n","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '@/store'\nimport Home from './views/Home.vue'\nimport Tasks from './views/Tasks.vue'\nimport Session from './views/Session.vue'\nimport Admin from './views/Admin.vue'\nimport AppBar from \"./components/AppBar.vue\"\nimport AdminAppBar from \"./components/AdminAppBar.vue\"\n\nVue.use(Router)\n\nconst new_router = new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: '/tasks',\n            name: 'tasks',\n            components: {\n                default: Tasks,\n                app_bar: AppBar\n            },\n            meta: {\n                auth: true\n            }\n        },\n        {\n            path: '/session/:session_id',\n            name: 'session',\n            components: {\n                default: Session,\n                app_bar: AppBar\n            },\n            meta: {\n                auth: true,\n            }\n        },\n        {\n            path: '/admin',\n            name: 'admin',\n            components: {\n                default: Admin,\n                app_bar: AdminAppBar\n            },\n            meta: {\n                auth: true,\n                is_admin: true\n            }\n        },\n        {\n            path: '/login',\n            name: 'login',\n            // route level code-splitting\n            // this generates a separate chunk (about.[hash].js) for this route\n            // which is lazy-loaded when the route is visited.\n            component: () => import(\"./views/Login.vue\")\n        },\n        {\n            path: '/about',\n            name: 'about',\n            component: () => import(\"./views/About.vue\")\n        }\n    ],\n})\nnew_router.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.auth)) {\n        if (store.state.token == null) {\n            next({\n                path: '/login',\n                params: {nextUrl: to.fullPath}\n            })\n        } else {\n            if (to.matched.some(record => record.meta.is_admin)) {\n                if (store.state.user.is_admin) {\n                    next()\n                } else {\n                    next({name: 'login'})\n                }\n            } else {\n                next()\n            }\n        }\n    } else {\n        next()\n    }\n})\nexport default new_router","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\nimport colors from 'vuetify/lib/util/colors'\nimport '@mdi/font/css/materialdesignicons.css'\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        icons: {\n            iconfont: 'mdi',\n        },\n        themes: {\n            light: {\n                primary: colors.blueGrey.darken3,\n                secondary: colors.grey.darken1,\n                accent: colors.shades.black,\n                error: colors.red.accent3,\n            },\n            dark: {\n                primary: colors.blue.lighten3,\n            },\n        },\n    }\n});\n","import Vue from 'vue'\r\nimport VueAxios from 'vue-plugin-axios'\r\nimport axios from 'axios'\r\nimport store from '@/store'\r\nconsole.log(process.env)\r\nVue.use(VueAxios, {\r\n    axios,\r\n    config: {\r\n        // baseURL: '/api',\r\n        // baseURL: 'http://192.168.0.2:2000/api',\r\n        baseURL: process.env.VUE_APP_BASE_URL,\r\n    },\r\n    interceptors: {\r\n        beforeRequest(config, axiosInstance) {\r\n            // Adding the jwt token, if we have one\r\n            if (store.state.token != null) {\r\n                const token = store.state.token\r\n\r\n                if (token)\r\n                    config.headers.Authorization = `Bearer ${token}`\r\n            }\r\n\r\n            return config\r\n        },\r\n        beforeResponse(config, axiosInstance) {\r\n            // console.log(\"beforeResponse: \", config)\r\n        },\r\n\r\n        beforeResponseError(config, axiosInstance){\r\n            if (config.statusCode === 401){\r\n            }\r\n        }\r\n    }\r\n})\r\nexport default axios","import VueSplit from 'vue-split-panel'\r\nimport Vue from 'vue'\r\nVue.use(VueSplit)\r\n\r\nexport default VueSplit","import \"vuetify/dist/vuetify.min.css\"\r\nimport Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport vuetify from './plugins/vuetify'\r\nimport axios from './plugins/axios'\r\nimport split from './plugins/split'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vuetify,\r\n  axios,\r\n  split,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCard.vue?vue&type=style&index=0&id=3000dac8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideWindow.vue?vue&type=style&index=0&id=a324ad62&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SliceViewer.vue?vue&type=style&index=0&id=33a88fa5&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.63a7d78d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=3e19d4a9&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskEditor.vue?vue&type=style&index=0&id=5e4e515a&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"static/img/logo.82b9c7a5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[(_vm.$route.name==='session')?_c('v-btn',{staticClass:\"hidden-xs-only\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1):_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vuetify Logo\",\"contain\":\"\",\"src\":\"\",\"transition\":\"scale-transition\",\"width\":\"40\"}}),_c('v-toolbar-title',[_vm._v(\"med-img-label\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Export\")]),_c('v-icon',[_vm._v(\"mdi-open-in-new\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-app-bar app color=\"primary\" dark dense>\r\n    <v-btn v-if=\"$route.name==='session'\" @click=\"$router.go(-1)\" icon class=\"hidden-xs-only\">\r\n      <v-icon>mdi-arrow-left</v-icon>\r\n    </v-btn>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img\r\n              alt=\"Vuetify Logo\"\r\n              class=\"shrink mr-2\"\r\n              contain\r\n              src=\"\"\r\n              transition=\"scale-transition\"\r\n              width=\"40\"\r\n      />\r\n\r\n      <v-toolbar-title>med-img-label</v-toolbar-title>\r\n    </div>\r\n\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-btn text>\r\n      <span class=\"mr-2\">Export</span>\r\n      <v-icon>mdi-open-in-new</v-icon>\r\n    </v-btn>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AppBar\"\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=2116e655&scoped=true&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2116e655\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VImg,VSpacer,VToolbarTitle})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectEditor.vue?vue&type=style&index=0&id=0395a7ec&scoped=true&lang=css&\""],"sourceRoot":""}